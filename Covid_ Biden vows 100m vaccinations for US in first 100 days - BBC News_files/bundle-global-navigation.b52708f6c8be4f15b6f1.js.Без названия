(window.coreWebpackJsonp=window.coreWebpackJsonp||[]).push([[18],{233:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var i=n(0),r=n.n(i),c=n(48),o=n(20),a=n(322),s=n(319),u=n(113),b=n(46),l=n(65),p=n(134);function f(t,e,n,i,r,c,o){try{var a=t[c](o),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(i,r)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=t=>{let{data:{homepageLink:e,notificationsLink:n,accountLabel:d,signInLabel:O,accessibilityLinks:m,searchLink:h,menuLabel:y,moreLabel:j,closeButtonLabel:v,navigationLinks:L}}=t;const k=g(g({},Object(l.b)()),{},{fontPalette:Object(b.b)().fontPalette}),w="https://account.bbc.com/account",I=Object(o.f)(),{host:P,language:E}=Object(s.b)(),_=!E||"cy"!==E&&"gd"!==E&&"en"!==E||E.endsWith("-GB")?E:"".concat(E,"-GB"),D="https://".concat(P).concat(I.pathname),[N,B]=Object(i.useState)({signedIn:!1,prompt:d,url:w}),G="ckns_id",S=P&&!P.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return Object(i.useEffect)((()=>{const t=Object(a.b)(G).ckns_id;(function(){var e,n=(e=function*(){try{const n=yield Object(c.a)(S),i=yield n.json();if("GREEN"===i["id-availability"])if(t)try{const e=JSON.parse(window.atob(t));B({signedIn:!0,prompt:e.dn?e.dn:d,url:w})}catch(e){B({signedIn:!1,prompt:O,url:i.signin_url})}else B({signedIn:!1,prompt:O,url:i.signin_url})}catch(n){B({signedIn:!1,prompt:d,url:w})}},function(){var t=this,n=arguments;return new Promise((function(i,r){var c=e.apply(t,n);function o(t){f(c,i,r,o,a,"next",t)}function a(t){f(c,i,r,o,a,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}})()()}),[]),r.a.createElement(l.a,{theme:k},r.a.createElement(u.a,{signedIn:N.signedIn,signInPrompt:N.prompt,signInUrl:N.url,signInPtrt:D,language:_,homepageLink:e,notificationsLink:n,accessibilityLinks:m,searchLink:h,menuLabel:y,moreLabel:j,closeButtonLabel:v,footerNavigationId:p.FOOTER_NAVIGATION_ID,items:L}))}}}]);
/*!
 * Echo - v12.13.1, 2020-11-03, from git revision 271514893c461ffa309b7b69d875aef381e08850.
 * Copyright (c) 2020 BBC, all rights reserved.
 * 
 * Copyright (c) 2014 comScore, Inc.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echo_js=e():t.echo_js=e()}(window,function(){return function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=25)}([function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=!1,n={INFO:0,WARN:1,ERROR:2},i=n.ERROR;function r(t,e){"object"==typeof console&&"function"==typeof console[t]&&console[t](e)}return{enable:function(){e=!0},disable:function(){e=!1},getState:function(){return e},getLevel:function(){return i},setLevel:function(t){i=n.ERROR<t?n.ERROR:t<n.INFO?n.INFO:t},info:function(t){e&&i===n.INFO&&r("log","ECHO_DEBUG [info]: "+t)},warn:function(t){e&&i<=n.WARN&&r("log","ECHO_DEBUG [warning]: "+t)},error:function(t){if(e&&i<=n.ERROR)throw new Error("ECHO_DEBUG: "+t)},DebugLevels:n}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){"use strict";var i=n(0);function s(e){var n={};for(var i in e)try{e[i].constructor===Object?n[i]=s(e[i]):n[i]=e[i]}catch(t){n[i]=e[i]}return n}function a(t,e,n){var i=n?t:s(t);for(var r in e)try{e[r].constructor===Object?i[r]=a(i[r],e[r]):i[r]=e[r]}catch(t){i[r]=e[r]}return i}function r(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1}function o(t,e){for(var n=(e?s(t):t)||{},i=arguments,r=2,o=i.length;r<o;r++)"object"==typeof i[r]?a(n,i[r],!0):n[i[r]]=i[++r];return n}function u(t,e,n){return t||(n?i.warn("AssertionFailed: "+e):i.error("AssertionFailed: "+e)),t}return{clone:s,combineObjects:a,addKV:function(t,e,n){return n?o(t,!0,e,n):o(t,!0,e)},containsValue:r,startsWith:function(t,e){return 0===t.indexOf(e)},extend:o,assert:u,assertContainsValue:function(t,e,n){return u(r(t,e),n)},trim:function(t){if("string"==typeof t)return t=String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,S){var n;void 0===(n=function(t){"use strict";var e=S(10),n=S(5),i=S(11),o=S(3),r=S(6),s={};Object.keys(e).map(function(t){s[t]=t});var a={};Object.keys(n).map(function(t){a[t]=t});var u={};Object.keys(i).map(function(t){u[t]=t});var c="16060501",l="19293874",f="19999701",d="19774467",p="19774474",_="19774472",h="18897612",g="23239715",E="18897612";function v(t,e,n,i){var r={};return r[o.COMSCORE_CUSTOMER_ID]=t,r[o.COMSCORE_SITE]=e,r[o.COMSCORE_HOST]=n,r[o.SSC_HOSTNAME]=i,r}function m(t){return v(c,t,"sa.bbc.co.uk",".co.uk")}function I(t,e){return v(t,e,"scorecardresearch.com",".com")}var A={};return A.PUBLIC_SERVICE=m("bbc"),A.PUBLIC_SERVICE_STAGE=m("stage"),A.PUBLIC_SERVICE_TEST=m("test"),A.PUBLIC_SERVICE_INT=m("int"),A.PUBLIC_SERVICE_INTRANET=m("intranet"),A.GNL=I(l,"bbc"),A.GNL_ACCEPTANCE=I(h,"gnl-test"),A.WORLD_SERVICE=I(f,"bbc"),A.WORLD_SERVICE_ACCEPTANCE=I(h,"ws-test"),A.WORLDWIDE_FEATURES=I(d,"bbc"),A.WORLDWIDE_FEATURES_ACCEPTANCE=I(h,"features-test"),A.STORE_NONCOMMERCIAL=I(p,"bbc"),A.STORE_COMMERCIAL=I(_,"bbc"),A.BRITBOX_ACCEPTANCE=I(E,"bbc-global-test"),A.BRITBOX=I(g,"bbc"),{ApplicationType:{WEB:"web",MOBILE_WEB:"mobile-web",RESPONSIVE:"responsive",MOBILE_APP:"mobile-app",BIGSCREEN_HTML:"bigscreen-html",BIGSCREEN_FLASH:"bigscreen-flash",BIGSCREEN_APP:"bigscreen-app",BIGSCREEN_CAST:"bigscreen-cast",DESKTOP_APP:"desktop-app",AMP:"amp"},WindowState:{FULL:"full",NORMAL:"norm",MINIMISED:"min",MAXIMISED:"max",PICTUREINPICTURE:"picture-in-picture"},MediaIdType:{VERSION:"version",CLIP:"clip",EPISODE:"episode",SERVICE:"service",VPID:"vpid",NONPIPSCONTENTID:"nonpipscontentid",PRODUCER:"producer",BRAND:"brand",SERIES:"series",WSPARTNERID:"ptnrID"},MediaClipType:{UNDEFINED:void 0,CLIP:"clip",EPISODE:"episode"},MediaInitiationType:{UNDEFINED:void 0,USER:"user",AUTO:"auto"},AvType:{AUDIO:"audio",VIDEO:"video"},RetrievalType:{STREAM:"stream",DOWNLOAD:"download"},Form:{LONG:"long",SHORT:"short"},PIPsType:{CLIP:"clip",EPISODE:"ep"},MediaConsumptionMode:{ON_DEMAND:"ondemand",LIVE:"live",DOWNLOAD:"download"},EchoCacheMode:{NEVER:"never",OFFLINE:"offline",ALL:"all"},ManagedLabels:{EVENT_MASTER_BRAND:"event_master_brand",BBC_SITE:"bbc_site",IPLAYER_STATE:"iplayer_state",STORE_ED_TYPE:"store_ed_type",IPLAYER_AVAIL:"iplayer_avail",STORE_REFERRAL:"store_referral",BBC_HASHED_ID:"bbc_hid"},ReportingProfiles:A,EssError:{STATUS_CODE:"status_code",TIMEOUT:"timeout",JSON:"json",RUNTIME:"runtime_error"},Destinations:s,Producers:a,Masterbrands:u,EchoLabelKeys:r}}.call(e,S,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";return{ECHO_ENABLED:"enabled",ECHO_AUTO_START:"auto_start",ECHO_TRACE:"trace",ECHO_DEVICE_ID:"device_id",REPORTING_PROFILE:"reporting_profile",ECHO_CACHE_MODE:"cache_mode",DEBUG_MODE:"disabled",ECHO_NAME:"lib_name",ECHO_VERSION:"lib_version",USE_SSC:"use_ssc",SSC_HOSTNAME:"ssc_hostname",COMSCORE_ENABLED:"comscore.enabled",COMSCORE_HOST:"comscore.host",COMSCORE_SITE:"comscore.site",COMSCORE_CUSTOMER_ID:"comscore.customer_id",COMSCORE_PUBLISHER_SECRET:"comscore.publisher_secret",ATI_ENABLED:"ati.enabled",ATI_LOG:"ati.log",ATI_SSL_LOG:"ati.ssl_log",ATI_DOMAIN:"ati.domain",ATI_PIXEL_PATH:"ati.pixel_path",ATI_FORCE_HTTPS:"ati.force_https",ATI_CACHE_MODE_ALWAYS:"always",ATI_CACHE_MODE_REQUIRED:"required",ATI_CACHE_MODE_NEVER:"never",APP_CATEGORY:"app_category",ATI_DISABLE_COOKIE:"ati.disable_cookie",ATI_USE_DEFAULT_COOKIE_DOMAIN:"ati.use_default_cookie_domain",KEEPALIVE_DURATION:"keepalive_duration",ATI_COLLECT_DOMAIN:"ati.collect_domain",ATI_COLLECT_DOMAIN_SSL:"ati.collect_domain_ssl",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",TEST_SERVICE_ENABLED:"test.enabled",TEST_SERVICE_URL:"test.url",BARB_ENABLED:"barb.enabled",BARB_SITE_CODE:"barb.site_code",BARB_DEBUG:"barb.debug",USE_ESS:"use_ess",ESS_HOSTNAME:"ess.hostname",REMOTE_CONFIG_MANAGER:"remote_config_manager",REMOTE_CONFIG_URL:"remote_config_url",PRODUCER_CONFIG_FILENAME:"producer_config_filename",MASTERBRAND_CONFIG_FILENAME:"masterbrand_config_filename"}}.call(e,n,e,t))||(t.exports=i)},function(t,e,a){var n;void 0===(n=function(t){"use strict";var u=a(1),c=a(0),e=a(2),l=a(28),n=["player_name","ns_st_ws","bbc_site","app_type","app_name","bbc_store_pf","bbc_store_ed","bbc_store_fr","bbc_store_src"],i=["token","guardianToken","nonce","dateOfBirthDay","dateOfBirthMonth","dateOfBirthYear","dateOfBirth","permissionToken"],f={name:l.COUNTERNAME};f[e.ManagedLabels.EVENT_MASTER_BRAND]=l.EVENT_MASTER_BRAND;for(var r=0;r<n.length;r++)f[n[r]]=l.STRICT;function d(t){return t&&t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/(^_+)|(_+$)/g,"")}function o(t){var e=d(t);return u.assert(t===e,'Label key can only contain: [a-z0-9_], and no consecutive "_"s or "_" at the begining or end, got "'+t+'". This will be sent as "'+e+'"',!0),e}function p(t){var e=t&&t.toLowerCase().replace(/[^a-z0-9\.]+/g,"_").replace(/\.+/g,".").replace(/(^_+)|(_+$)/g,"")||"no.name.page";return t!==e&&(t&&-1!==t.search(/-/)?c.warn('Submitted countername ("'+t+'") contains at least one "-". Dashes are not permitted but, for legacy reasons, "-" and "_" are equivalent in DAx. Echo converts dashes to underscores, so the countername will be sent as "'+e+'"'):c.warn('countername may only contain: [a-z0-9._], got "'+t+'". This will be cleaned up and sent as "'+e+'"')),-1===e.search(/\.page$/)&&(e+=".page"),e}function s(t,e){var n,i="",r=e,o=(n=t,f.hasOwnProperty(n)?f[n]:l.CUSTOM);if(o===l.COUNTERNAME&&(e=p(e)),"number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e){switch(o){case l.EVENT_MASTER_BRAND:i='Label value can only contain [0-9a-z], and no consecutive "_"s and no "_"s or whitespace at the start or end.',r=d(e);break;case l.STRICT:i='Strict Label values can only contain [ 0-9a-z-], and no consecutive "-"s and no "-"s or whitespace at the start or end.',r=(a=e)&&a.toLowerCase().replace(/(^\s+)|(\s+$)/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-+)|(-+$)/g,"");break;case l.NO_CLEANSING:break;default:i="Custom Label value cannot contain whitespace at start or end or pipes (|).",r=(s=e)&&s.replace(/(^\s+)|(\s+$)/g,"").replace(/\|/g,"!")}var s,a;return i+='Got "'+e+'", will be replaced with "'+r+'"',u.assert(e===r,i,!0),r}c.error("Label "+t+" must have number, boolean or string value")}return{cleanCounterName:p,cleanLabelKey:o,cleanLabelValue:s,cleanLanguage:function(t){if("number"==typeof t||"boolean"==typeof t)return t.toString();var e=t&&t.replace(/(^\s*)|(\s*$)/g,"").replace(/[^0-9a-zA-Z._]+/g,"-").replace(/(^-)|(-$)/g,"")||"";return u.assert(t===e,'Language label value can only contain [0-9a-zA-Z._-], and no consecutive "-"s and no - at the start or end. Got "'+t+'", will be replaced with "'+e+'"',!0),e},cleanLabels:function(t){var e,n={};for(var i in t)n[e=o(i)]=s(e,t[i]);return n},cleanCustomVariable:function(t){return t&&t.toString().trim().replace(/\[|\]/g,"").replace(/&/g,"$").replace(/\s{1,}/g," ")},cleanMediaId:function(t){return"string"!=typeof t?t:t&&t.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9/.~\-_]/g,"")},removeSensitiveInfo:function(t){if(t&&"string"==typeof t)for(r=0;r<i.length;r++){var e=new RegExp(i[r]+"=[^&]*","g");t=t.replace(e,i[r]+"=XXXX")}return t},removeUndefined:function(e){return Object.keys(e).forEach(function(t){void 0===e[t]&&(c.info("Removing key "+t+" as value is undefined"),delete e[t])}),e}}}.call(e,a,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";return{ACADEMY:125,ACCOUNT:1,AFAAN_OROMOO:2,AFRIQUE:3,AMHARIC:4,ARABIC:5,AZERI:6,BBC:7,BBC_ALBA:8,BBC_ARCHIVE:127,BBC_ARTS:9,BBC_ASIAN_NETWORK:10,BBC_FOOD:11,BBC_FOUR:12,BBC_HD:13,BBC_MUSIC:14,BBC_NEWS_CHANNEL:15,BBC_ONE:16,BBC_PARLIAMENT_CHANNEL:17,BBC_RADIO:18,BBC_RADIO_1:19,BBC_RADIO_1XTRA:20,BBC_RADIO_2:21,BBC_RADIO_3:22,BBC_RADIO_4:23,BBC_RADIO_4_EXTRA:24,BBC_RADIO_5_LIVE:25,BBC_RADIO_6_MUSIC:26,BBC_SCOTLAND:120,BBC_SEND:121,BBC_STUDIOS:128,BBC_THREE:28,BBC_TWO:29,BBC_WORLD_NEWS:30,BENGALI:31,BITESIZE:32,BRASIL:33,BRITBOX:34,BRITBOX_AU:132,BURMESE:35,CBBC:36,CBEEBIES:37,CHINESE:38,ENGLISH_REGIONS:39,GAHUZA:40,GATEWAY:41,GNL_AUTOS:42,GNL_CAPITAL:43,GNL_CULTURE:44,GNL_EARTH:45,GNL_FUTURE:46,GNL_HOMEPAGE:47,GNL_STORYWORKS:48,GNL_TRAVEL:49,GUJARATI:50,HAUSA:51,HINDI:52,IGBO:53,INDONESIAN:54,IPLAYER:55,JAPANESE:56,KOREAN:57,KYRGYZ:58,MARATHI:59,MEDIA_ACTION:60,MONITORING:61,MUNDO:62,NEPALI:63,NEWS:64,NEWS_LABS:129,NEWSROUND:65,NORTHERN_IRELAND:66,OTHER:67,OWN_IT:118,PARTICIPATION:130,PASHTO:68,PERSIAN:69,PIDGIN:70,PROGRAMMES:71,PS_HOMEPAGE:72,PUNJABI:73,RD:126,RECEPTION:124,REEL:74,RUSSIAN:75,S4C:76,SCHOOL_RADIO:77,SCHOOL_REPORT:78,SCOTLAND:79,SEARCH:80,SERBIAN:81,SINHALA:82,SOMALI:83,SOUNDS:84,SPORT:85,SWAHILI:86,TAMIL:87,TASTER:88,TEACH:119,TELUGU:89,THAI:90,TIGRINYA:91,TURKISH:92,TV_CERTIFICATION:131,UK_CHINA:93,UKRAINIAN:94,URDU:95,UZBEK:96,VIETNAMESE:97,VOICE:98,VOICE_FIRST_FORMATS:99,VOLT:122,WALES:100,WEATHER:101,WEATHER_WATCHERS:102,WORLD_SERVICE_ENGLISH:103,WORKLIFE:104,WS_LEARNING_ENGLISH:105,WS_PARTNERS_B2B:106,YORUBA:107,NEWS_ENGLISH_REGIONS:108,SPORT_ENGLISH_REGIONS:109,NEWS_SCOTLAND:110,SPORT_SCOTLAND:111,NEWS_WALES:112,SPORT_WALES:113,NEWS_NORTHERN_IRELAND:114,SPORT_NORTHERN_IRELAND:115,AUDIENCE_SERVICES:116,WORLD_NEWS_PROGRAMMES:117,getId:function(t){var e;return t&&(e=this[t.toUpperCase()]),e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports={BBC_COUNTER_NAME:"name",ECHO_EVENT_NAME:"echo_event",APP_VERSION:"apvr",HASHED_ID:"at",LEVEL_1_SITE:"site",LEVEL_2_SITE:"level2",SECTION:"section",CHAPTER_1:"chapter1",CONTENT_ID:"bbc_content_id",APP_TYPE:"bbc_app_type",APP_NAME:"bbc_app_name",APP_CATEGORY:"app_category",LANGUAGE:"language",URL:"bbc_url",REFERRER_URL:"bbc_referrer_url",CONTENT_TYPE:"bbc_content_type",LIBRARY_VERSION:"bbc_library_version",PAGE_TITLE:"page_title",CUSTOM_VAR_1:"custom_var_1",CUSTOM_VAR_2:"custom_var_2",CUSTOM_VAR_3:"custom_var_3",CUSTOM_VAR_4:"custom_var_4",CUSTOM_VAR_5:"custom_var_5",CUSTOM_VAR_6:"custom_var_6",CUSTOM_VAR_7:"custom_var_7",CUSTOM_VAR_8:"custom_var_8",CUSTOM_VAR_9:"custom_var_9",CUSTOM_VAR_10:"custom_var_10",MEDIA_PLAYER:"bbc_media_player",LOGGED_IN:"bbc_identity",BBC_HID:"bbc_hid",MEDIA_BRAND:"brand",MEDIA_SERIES:"series",MEDIA_WS_PARTNER_ID:"ptnrID",CASTING_DEVICE_REFERRER:"devR",IS_BACKGROUND:"is_background",SOURCE:"source",CONTAINER:"container",METADATA:"metadata",PERSONALISATION:"personalisation",RESULT:"result",TEST_COOKIE_DOMAIN:"testCookieDomain"}},function(t,e,n){t.exports={BBC_APPLICATION_NAME:"app_name",BBC_APPLICATION_TYPE:"app_type",BBC_APPLICATION_VERSION:"app_version",BBC_COUNTER_NAME:"name",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",BBC_LANGUAGE:"language",DEVICE_ID:"ns_alias",COMSCORE_C1:"c1",COMSCORE_C7:"c7",BBC_MEASUREMENT_LIB_NAME:"ml_name",BBC_MEASUREMENT_LIB_VERSION:"ml_version",ECHO_TRACE:"trace",ECHO_EVENT_NAME:"echo_event",EVENT_TRIGGERED_BY_USER:"ns_st_ui",STREAMSENSE_CUSTOM_EVENT_TYPE:"ns_st_ev",USER_ACTION_TYPE:"action_type",USER_ACTION_NAME:"action_name",PLAYLIST_END:"ns_st_pe",REWIND_FF_RATE:"ffrw_rate",COMSCORE_SITE:"ns_site",COMSCORE_CUSTOMER:"c2",COMSCORE_ENDPOINT:"comscore_endpoint",PLAYER_NAME:"ns_st_mp",PLAYER_VERSION:"ns_st_mv",PLAYER_WINDOW_STATE:"ns_st_ws",PLAYER_VOLUME:"ns_st_vo",PLAYER_POPPED:"bbc_st_pop",PLAYER_SUBTITLED:"bbc_st_sub",PLAYLIST_NAME:"ns_st_pl",PLAYLIST_CLIP_COUNT:"ns_st_cp",PLAYLIST_LENGTH:"ns_st_ca",MEDIA_PID:"ns_st_ci",MEDIA_LENGTH:"ns_st_cl",MEDIA_STREAM_TYPE:"ns_st_ty",MEDIA_IS_LIVE:"ns_st_li",MEDIA_EPISODE_ID:"episode_id",MEDIA_CLIP_ID:"clip_id",MEDIA_CLIP_NUMBER:"ns_st_cn",MEDIA_PART_NUMBER:"ns_st_pn",MEDIA_TOTAL_PARTS:"ns_st_tp",MEDIA_MEDIUM:"bbc_st_med",MEDIA_LIVE_OR_ONDEMAND:"bbc_st_lod",MEDIA_FORM:"bbc_st_mf",MEDIA_RETRIEVAL_TYPE:"bbc_st_ret",MEDIA_SCHEDULE_INDICATOR:"bbc_st_sch",MEDIA_VERSION_ID:"version_id",MEDIA_SERVICE_ID:"service_id",MEDIA_NON_PIPS_CONTENT_ID:"non_pips_content_id",MEDIA_AMBIGUOUS_ID:"ambig_ci",MEDIA_TIMESTAMP:"bbc_st_live_ts",ESS_SUCCESS:"ess_success",ESS_ERROR:"ess_error",ESS_STATUS_CODE:"ess_status_code",APP_PLATFORM_NAME:"ns_ap_pn",APP_PLATFORM_RUNTIME:"ns_ap_pfm",APP_OS_VERSION:"ns_ap_pfv",APP_DEVICE_NAME:"ns_ap_device",APP_SCREEN_RESOLUTION:"ns_ap_res",APP_LANGUAGE:"ns_ap_lang",ENV_CHAR_SET:"ns_c",ENV_TITLE:"c8",ENV_URL:"c7",ENV_REFERRER:"c9",APP_NAME:"ns_ap_an",APP_VERSION:"ns_ap_ver",NO_COOKIES:"ns_nc",COOKIE_POLICY:"bbc_mc",BBC_ID_LOGGED_IN:"bbc_identity",WEB_SCREEN_RES:"screen_resolution",ESS_ENABLED:"ess_enabled",ESS_ENRICHED:"ess_enriched"}},function(t,e,l){var n;void 0===(n=function(t){"use strict";var e,i,r,n=l(4),o=l(9),s=l(29),a=!1,u=[];function c(){var t=window.screen||{},e=window.navigator||{},n=window.document||{};this._platformRuntimeEnvironment="html",this._platformOSVersion="5",this._screenResolution=(t.width||"-")+"x"+(t.height||"-"),this._language=e.language||"",this._platformName=e.platform||"",this._charset=n.characterSet||n.defaultCharset||"",this._title=n.title||"",this._url=n.URL||"",this._referrer=n.referrer||"",this._deviceName=null,this._httpGet=null,this._executeCrossDomainGet=null,this._getCookie=null,this._setCookie=null,this._setLocalStorageItem=null,this._getLocalStorageItem=null}return c._defaultHttpGet=s.httpGet,c._defaultGetCookie=o.getCookieValueByName,c.prototype.getPlatformName=function(){return this._platformName},c.prototype.getPlatformRuntimeEnvironment=function(){return this._platformRuntimeEnvironment},c.prototype.getPlatformOSVersion=function(){return this._platformOSVersion},c.prototype.getDeviceName=function(){return this._deviceName},c.prototype.getScreenResolution=function(){return this._screenResolution},c.prototype.getLanguage=function(){return this._language},c.prototype.getHttpGet=function(){return this._httpGet},c.prototype.setExecuteCrossDomainGet=function(t){this._executeCrossDomainGet=t},c.prototype.getExecuteCrossDomainGet=function(){return this._executeCrossDomainGet?this._executeCrossDomainGet:s.executeCrossDomainGet},c.prototype.getCookieGetter=function(){return this._getCookie},c.prototype.getCookieSetter=function(){return this._setCookie},c.prototype.getCharSet=function(){return this._charset},c.prototype.getTitle=function(){return this._title},c.prototype.getURL=function(){return this._url},c.prototype.getProtocol=function(){return 0!==this.getURL().toLowerCase().indexOf("http:",0)?"https:":"http:"},c.prototype.getReferrer=function(){return this._referrer},c.prototype.setSetLocalStorageItem=function(t){this._setLocalStorageItem=t},c.prototype.getSetLocalStorageItem=function(){return this._setLocalStorageItem},c.prototype.setGetLocalStorageItem=function(t){this._getLocalStorageItem=t},c.prototype.getGetLocalStorageItem=function(){return this._getLocalStorageItem},c.prototype.setPlatformName=function(t){return this._platformName=t,this},c.prototype.setPlatform=function(t,e){return this._platformRuntimeEnvironment=t,this._platformOSVersion=e,this},c.prototype.setDeviceName=function(t){return this._deviceName=t,this},c.prototype.setScreenResolution=function(t){return this._screenResolution=t,this},c.prototype.setLanguage=function(t){return this._language=n.cleanLanguage(t),this},c.prototype.setHttpGet=function(t){return this._httpGet=t,this},c.prototype.setCookieGetter=function(t){return this._getCookie=t,this},c.prototype.setCookieSetter=function(t){return this._setCookie=t,this},c.prototype.setCharSet=function(t){return this._charset=t,this},c.prototype.setTitle=function(t){return this._title=t,this},c.prototype.setURL=function(t){return this._url=t,this},c.prototype.setReferrer=function(t){return this._referrer=t,this},c.setOrbCookies=function(t){return e=t,this},c.getOrbCookies=function(){return e},c.getOrbCookiesPolicy=function(){if(e&&"function"==typeof e.readPolicy)return e.readPolicy()},c.setOrbIdCta=function(t){return i=t,this},c.getOrbIdCta=function(t){var e=function(t,e){t&&"function"==typeof t&&t(e)};if(void 0===i)if(!1!==r){u.push(t);var n=window.require;void 0===r&&n?!(r="function"==typeof n.defined&&n.defined("idcta/idcta-1"))&&n.s&&n.s.contexts&&n.s.contexts._&&n.s.contexts._.config&&n.s.contexts._.config.paths&&n.s.contexts._.config.paths.idcta&&(r=!0):r=!1,r&&!a?(a=!0,window.require(["idcta/idcta-1"],function(t){for(i=t,0;0<u.length;u++)u[0]&&"function"==typeof u[0]&&e(u[0],i)})):!1===r&&e(t)}else e(t);else e(t,i)},c}.call(e,l,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";return{getCookieValueByName:function(t,e){var n=t+"=",i=(e||window).document,r={};if(void 0===i||"string"!=typeof i.cookie)return null;for(var o=0,s=(r=i.cookie.split(";")).length;o<s;o++){var a=r[o];if(" "===a.charAt(0)&&(a=a.substring(1,a.length)),0===a.indexOf(n))return a.substring(n.length,a.length)}return null}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){"use strict";var t=n(5);return{DEFAULT:{id:"596068",defaultProducer:t.BBC,isTest:!0},ACCOUNT:{id:"598250",defaultProducer:t.ACCOUNT,isTest:!1},ACCOUNT_TEST:{id:"598252",defaultProducer:t.ACCOUNT,isTest:!0},AUDIENCE_PORTAL:{id:"602136",defaultProducer:t.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_PORTAL_TEST:{id:"602137",defaultProducer:t.AUDIENCE_SERVICES,isTest:!0},AUDIENCE_SERVICES_PS:{id:"602167",defaultProducer:t.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_SERVICES_PS_TEST:{id:"602168",defaultProducer:t.AUDIENCE_SERVICES,isTest:!0},BBC_ARCHIVE_PS:{id:"605565",defaultProducer:t.BBC_ARCHIVE,isTest:!1},BBC_ARCHIVE_PS_TEST:{id:"605566",defaultProducer:t.BBC_ARCHIVE,isTest:!0},BBC_CORPORATE_PS:{id:"603550",defaultProducer:t.BBC,isTest:!1},BBC_CORPORATE_PS_TEST:{id:"603551",defaultProducer:t.BBC,isTest:!0},BBC_SYNDICATION:{id:"601718",defaultProducer:t.BBC,isTest:!1},BBC_SYNDICATION_TEST:{id:"601719",defaultProducer:t.BBC,isTest:!0},BBC_STUDIOS_PLAYER:{id:"606296",defaultProducer:t.BBC_STUDIOS,isTest:!1},BBC_STUDIOS_PLAYER_TEST:{id:"606293",defaultProducer:t.BBC_STUDIOS,isTest:!0},BBC_THREE:{id:"598255",defaultProducer:t.BBC_THREE,isTest:!1},BBC_THREE_TEST:{id:"598256",defaultProducer:t.BBC_THREE,isTest:!0},BITESIZE:{id:"598257",defaultProducer:t.BITESIZE,isTest:!1},BITESIZE_TEST:{id:"598258",defaultProducer:t.BITESIZE,isTest:!0},BLOGS_PS:{id:"603546",defaultProducer:t.BBC,isTest:!1},BLOGS_PS_TEST:{id:"603547",defaultProducer:t.BBC,isTest:!0},BRITBOX:{id:"598259",defaultProducer:t.BRITBOX,isTest:!1},BRITBOX_TEST:{id:"598260",defaultProducer:t.BRITBOX,isTest:!0},CBBC:{id:"598261",defaultProducer:t.CBBC,isTest:!1},CBBC_TEST:{id:"598262",defaultProducer:t.CBBC,isTest:!0},CBEEBIES:{id:"598263",defaultProducer:t.CBEEBIES,isTest:!1},CBEEBIES_TEST:{id:"598264",defaultProducer:t.CBEEBIES,isTest:!0},FEATURE_SITES_GNL:{id:"598265",defaultProducer:t.GNL_HOMEPAGE,isTest:!1},FEATURE_SITES_GNL_TEST:{id:"598266",defaultProducer:t.GNL_HOMEPAGE,isTest:!0},FOOD:{id:"598267",defaultProducer:t.BBC_FOOD,isTest:!1},FOOD_TEST:{id:"598268",defaultProducer:t.BBC_FOOD,isTest:!0},GAMES_PS:{id:"599452",defaultProducer:t.BBC,isTest:!1},GAMES_PS_TEST:{id:"599454",defaultProducer:t.BBC,isTest:!0},GATEWAY:{id:"598269",defaultProducer:t.GATEWAY,isTest:!1},GATEWAY_TEST:{id:"598270",defaultProducer:t.GATEWAY,isTest:!0},HOMEPAGE_GNL:{id:"598271",defaultProducer:t.GNL_HOMEPAGE,isTest:!1},HOMEPAGE_GNL_TEST:{id:"598272",defaultProducer:t.GNL_HOMEPAGE,isTest:!0},HOMEPAGE_PS:{id:"598273",defaultProducer:t.PS_HOMEPAGE,isTest:!1},HOMEPAGE_PS_TEST:{id:"598274",defaultProducer:t.PS_HOMEPAGE,isTest:!0},IDEAS:{id:"598275",defaultProducer:t.BBC,isTest:!1},IDEAS_TEST:{id:"598276",defaultProducer:t.BBC,isTest:!0},IPLAYER:{id:"598277",defaultProducer:t.IPLAYER,isTest:!1},IPLAYER_TEST:{id:"598278",defaultProducer:t.IPLAYER,isTest:!0},MEDIA_ACTION:{id:"598279",defaultProducer:t.MEDIA_ACTION,isTest:!1},MEDIA_ACTION_TEST:{id:"598280",defaultProducer:t.MEDIA_ACTION,isTest:!0},MONITORING:{id:"598281",defaultProducer:t.MONITORING,isTest:!1},MONITORING_TEST:{id:"598282",defaultProducer:t.MONITORING,isTest:!0},MUSIC:{id:"598283",defaultProducer:t.BBC_MUSIC,isTest:!1},MUSIC_TEST:{id:"598284",defaultProducer:t.BBC_MUSIC,isTest:!0},NATIONAL_MOMENTS_PS:{id:"605567",defaultProducer:t.BBC,isTest:!1},NATIONAL_MOMENTS_PS_TEST:{id:"605568",defaultProducer:t.BBC,isTest:!0},NEWS_PS:{id:"598285",defaultProducer:t.NEWS,isTest:!1},NEWS_PS_TEST:{id:"598286",defaultProducer:t.NEWS,isTest:!0},NEWS_GNL:{id:"598287",defaultProducer:t.NEWS,isTest:!1},NEWS_GNL_TEST:{id:"598288",defaultProducer:t.NEWS,isTest:!0},NEWS_LANGUAGES_GNL:{id:"598289",defaultProducer:t.NEWS,isTest:!1},NEWS_LANGUAGES_GNL_TEST:{id:"598290",defaultProducer:t.NEWS,isTest:!0},NEWS_LANGUAGES_PS:{id:"598291",defaultProducer:t.NEWS,isTest:!1},NEWS_LANGUAGES_PS_TEST:{id:"598292",defaultProducer:t.NEWS,isTest:!0},NEWSROUND:{id:"598293",defaultProducer:t.NEWSROUND,isTest:!1},NEWSROUND_TEST:{id:"598294",defaultProducer:t.NEWSROUND,isTest:!0},OTHER:{id:"598295",defaultProducer:t.OTHER,isTest:!1},OTHER_TEST:{id:"598297",defaultProducer:t.OTHER,isTest:!0},OWN_IT:{id:"598298",defaultProducer:t.CBBC,isTest:!1},OWN_IT_TEST:{id:"598299",defaultProducer:t.CBBC,isTest:!0},PROGRAMMES_PS:{id:"598300",defaultProducer:t.PROGRAMMES,isTest:!1},PROGRAMMES_PS_TEST:{id:"598301",defaultProducer:t.PROGRAMMES,isTest:!0},PS_AUDIENCE_ENGAGEMENT:{id:"609581",defaultProducer:t.PARTICIPATION,isTest:!1},PS_AUDIENCE_ENGAGEMENT_TEST:{id:"609582",defaultProducer:t.PARTICIPATION,isTest:!0},RED_BUTTON_PS:{id:"601192",defaultProducer:t.BBC,isTest:!1},RED_BUTTON_PS_TEST:{id:"601193",defaultProducer:t.BBC,isTest:!0},REWIND_PS:{id:"603552",defaultProducer:t.BBC,isTest:!1},REWIND_PS_TEST:{id:"603553",defaultProducer:t.BBC,isTest:!0},R_AND_D_PS:{id:"607103",defaultProducer:t.RD,isTest:!1},R_AND_D_PS_TEST:{id:"607104",defaultProducer:t.RD,isTest:!0},SEARCH_GNL:{id:"598302",defaultProducer:t.SEARCH,isTest:!1},SEARCH_GNL_TEST:{id:"598303",defaultProducer:t.SEARCH,isTest:!0},SEARCH_PS:{id:"598304",defaultProducer:t.SEARCH,isTest:!1},SEARCH_PS_TEST:{id:"598305",defaultProducer:t.SEARCH,isTest:!0},SILVER_PS:{id:"607105",defaultProducer:t.BBC,isTest:!1},SILVER_PS_TEST:{id:"607106",defaultProducer:t.BBC,isTest:!0},SOUNDS:{id:"598306",defaultProducer:t.SOUNDS,isTest:!1},SOUNDS_TEST:{id:"598307",defaultProducer:t.SOUNDS,isTest:!0},SPORT_GNL:{id:"598308",defaultProducer:t.SPORT,isTest:!1},SPORT_GNL_TEST:{id:"598309",defaultProducer:t.SPORT,isTest:!0},SPORT_PS:{id:"598310",defaultProducer:t.SPORT,isTest:!1},SPORT_PS_TEST:{id:"598311",defaultProducer:t.SPORT,isTest:!0},STORYWORKS_GNL:{id:"598312",defaultProducer:t.GNL_STORYWORKS,isTest:!1},STORYWORKS_GNL_TEST:{id:"598313",defaultProducer:t.GNL_STORYWORKS,isTest:!0},SUBTITLES_PS:{id:"603548",defaultProducer:t.PROGRAMMES,isTest:!1},SUBTITLES_PS_TEST:{id:"603549",defaultProducer:t.PROGRAMMES,isTest:!0},SYNDICATION_PARTNERS_GNL:{id:"598314",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},SYNDICATION_PARTNERS_GNL_TEST:{id:"598315",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},TASTER:{id:"598316",defaultProducer:t.TASTER,isTest:!1},TASTER_TEST:{id:"598317",defaultProducer:t.TASTER,isTest:!0},TEACH:{id:"598318",defaultProducer:t.BBC,isTest:!1},TEACH_TEST:{id:"598320",defaultProducer:t.BBC,isTest:!0},TOPICS_GNL:{id:"612991",defaultProducer:t.BBC,isTest:!1},TOPICS_GNL_TEST:{id:"614559",defaultProducer:t.BBC,isTest:!0},TOPICS_PS:{id:"612261",defaultProducer:t.BBC,isTest:!1},TOPICS_PS_TEST:{id:"612262",defaultProducer:t.BBC,isTest:!0},VOICE:{id:"598326",defaultProducer:t.VOICE,isTest:!1},VOICE_TEST:{id:"598328",defaultProducer:t.VOICE,isTest:!0},WEATHER_GNL:{id:"598330",defaultProducer:t.WEATHER,isTest:!1},WEATHER_GNL_TEST:{id:"598332",defaultProducer:t.WEATHER,isTest:!0},WEATHER_PS:{id:"598338",defaultProducer:t.WEATHER,isTest:!1},WEATHER_PS_TEST:{id:"598339",defaultProducer:t.WEATHER,isTest:!0},WS_LEARNING_ENGLISH:{id:"598340",defaultProducer:t.WS_LEARNING_ENGLISH,isTest:!1},WS_LEARNING_ENGLISH_TEST:{id:"598341",defaultProducer:t.WS_LEARNING_ENGLISH,isTest:!0},WS_NEWS_LANGUAGES:{id:"598342",defaultProducer:t.BBC_WORLD_NEWS,isTest:!1},WS_NEWS_LANGUAGES_TEST:{id:"598343",defaultProducer:t.BBC_WORLD_NEWS,isTest:!0},WS_PARTNERS_B2B:{id:"598820",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},WS_PARTNERS_B2B_TEST:{id:"598823",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},WS_PROGRAMMES:{id:"598344",defaultProducer:t.PROGRAMMES,isTest:!1},WS_PROGRAMMES_TEST:{id:"598345",defaultProducer:t.PROGRAMMES,isTest:!0},WS_SYNDICATION_PARTNERS:{id:"598346",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},WS_SYNDICATION_PARTNERS_TEST:{id:"598347",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},get:function(t){var e;return t&&(e=this[t.toUpperCase()]),e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){"use strict";var t=n(5);return{BBC_NEWS:t.BBC_NEWS_CHANNEL,BBC_NEWS24:t.BBC_NEWS_CHANNEL,BBC_WORLD_NEWS:t.BBC_WORLD_NEWS,BBC_AFRIQUE_RADIO:t.AFRIQUE,BBC_AFRIQUE_TV:t.AFRIQUE,BBC_AMHARIC_RADIO:t.AMHARIC,BBC_ARABIC_RADIO:t.ARABIC,BBC_ARABIC_TV:t.ARABIC,BBC_BENGALI_RADIO:t.BENGALI,BBC_BRASIL:t.BRASIL,BBC_BURMESES_RADIO:t.BURMESE,BBC_BURMESES_TV:t.BURMESE,BBC_CANTONESE_RADIO:t.CHINESE,BBC_DARI_RADIO:t.PERSIAN,BBC_GAHUZA_RADIO:t.GAHUZA,BBC_GUJARATI_TV:t.GUJARATI,BBC_HAUSA_RADIO:t.HAUSA,BBC_HAUSA_TV:t.HAUSA,BBC_HINDI_RADIO:t.HINDI,BBC_HINDI_TV:t.HINDI,BBC_IGBO_RADIO:t.IGBO,BBC_IGBO_TV:t.IGBO,BBC_INDONESIAN_RADIO:t.INDONESIAN,BBC_KOREAN_RADIO:t.KOREAN,BBC_KOREAN_TV:t.KOREAN,BBC_KYRGYZ_RADIO:t.KYRGYZ,BBC_KYRGYZ_TV:t.KYRGYZ,BBC_LEARNING_ENGLISH:t.WS_LEARNING_ENGLISH,BBC_MARATHI_TV:t.MARATHI,BBC_MUNDO:t.MUNDO,BBC_NEPALI_RADIO:t.NEPALI,BBC_OROMO_RADIO:t.AFAAN_OROMOO,BBC_PARLIAMENT:t.BBC_PARLIAMENT_CHANNEL,BBC_PASHTO_RADIO:t.PASHTO,BBC_PASHTO_TV:t.PASHTO,BBC_PERSIAN_RADIO:t.PERSIAN,BBC_PERSIAN_TV:t.PERSIAN,BBC_PIDGIN_RADIO:t.PIDGIN,BBC_PIDGIN_TV:t.PIDGIN,BBC_PUNJABI_TV:t.PUNJABI,BBC_RUSSIAN_RADIO:t.RUSSIAN,BBC_RUSSIAN_TV:t.RUSSIAN,BBC_SINHALA_RADIO:t.SINHALA,BBC_SOMALI_RADIO:t.SOMALI,BBC_SOMALI_TV:t.SOMALI,BBC_SWAHILI_RADIO:t.SWAHILI,BBC_SWAHILI_TV:t.SWAHILI,BBC_TAMIL_RADIO:t.TAMIL,BBC_TAMIL_TV:t.TAMIL,BBC_TELUGU_TV:t.TELUGU,BBC_THAI:t.THAI,BBC_TIGRINYA_RADIO:t.TIGRINYA,BBC_UKRAINIAN_TV:t.UKRAINIAN,BBC_URDU_RADIO:t.URDU,BBC_URDU_TV:t.URDU,BBC_UZBEK_RADIO:t.UZBEK,BBC_UZBEK_TV:t.UZBEK,BBC_WEATHER:t.WEATHER,BBC_WORLD_SERVICE:t.WORLD_SERVICE_ENGLISH,BBC_WORLD_SERVICE_TV:t.WORLD_SERVICE_ENGLISH,BBC_YORUBA_RADIO:t.YORUBA,BBC_YORUBA_TV:t.YORUBA,PARLIAMENTS_ONLINE:t.BBC_PARLIAMENT_CHANNEL,BBC_ALBA:t.BBC_ALBA,BBC_CYMRU:t.WALES,BBC_FOUR:t.BBC_FOUR,BBC_HD:t.BBC_HD,BBC_LONDON:t.ENGLISH_REGIONS,BBC_MUSIC:t.BBC_MUSIC,BBC_MUSIC_JAZZ:t.BBC_MUSIC,BBC_ONE:t.BBC_ONE,BBC_ONE_EAST:t.ENGLISH_REGIONS,BBC_ONE_EAST_MIDLANDS:t.ENGLISH_REGIONS,BBC_ONE_EAST_YORKSHIRE:t.ENGLISH_REGIONS,BBC_ONE_LONDON:t.ENGLISH_REGIONS,BBC_ONE_NORTH_EAST:t.ENGLISH_REGIONS,BBC_ONE_NORTH_WEST:t.ENGLISH_REGIONS,BBC_ONE_NORTHERN_IRELAND:t.NORTHERN_IRELAND,BBC_ONE_SCOTLAND:t.SCOTLAND,BBC_ONE_SOUTH:t.ENGLISH_REGIONS,BBC_ONE_SOUTH_EAST:t.ENGLISH_REGIONS,BBC_ONE_SOUTH_WEST:t.ENGLISH_REGIONS,BBC_ONE_WALES:t.WALES,BBC_ONE_WEST:t.ENGLISH_REGIONS,BBC_ONE_WEST_MIDLANDS:t.ENGLISH_REGIONS,BBC_ONE_YORKS:t.ENGLISH_REGIONS,BBC_SCOTLAND:t.BBC_SCOTLAND,BBC_TEES:t.ENGLISH_REGIONS,BBC_THREE:t.BBC_THREE,BBC_TWO:t.BBC_TWO,BBC_TWO_ENGLAND:t.ENGLISH_REGIONS,BBC_TWO_NORTHERN_IRELAND:t.NORTHERN_IRELAND,BBC_TWO_NORTHERN_IRELAND_DIGITAL:t.NORTHERN_IRELAND,BBC_TWO_SCOTLAND:t.SCOTLAND,BBC_TWO_WALES:t.WALES,BBC_WALES:t.WALES,BBC_WM:t.ENGLISH_REGIONS,CBBC:t.CBBC,CBEEBIES:t.CBEEBIES,BBC_1XTRA:t.BBC_RADIO_1XTRA,BBC_6MUSIC:t.BBC_RADIO_6_MUSIC,BBC_7:t.BBC_RADIO_4_EXTRA,BBC_ASIAN_NETWORK:t.BBC_ASIAN_NETWORK,BBC_RADIO_BERKSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_BRISTOL:t.ENGLISH_REGIONS,BBC_RADIO_CAMBRIDGE:t.ENGLISH_REGIONS,BBC_RADIO_CORNWALL:t.ENGLISH_REGIONS,BBC_RADIO_COVENTRY_WARWICKSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_CUMBRIA:t.ENGLISH_REGIONS,BBC_RADIO_CYMRU:t.WALES,BBC_RADIO_CYMRU_2:t.WALES,BBC_RADIO_CYMRU_MWY:t.WALES,BBC_RADIO_DERBY:t.ENGLISH_REGIONS,BBC_RADIO_DEVON:t.ENGLISH_REGIONS,BBC_RADIO_ESSEX:t.ENGLISH_REGIONS,BBC_RADIO_FIVE_LIVE:t.BBC_RADIO_5_LIVE,BBC_RADIO_FIVE_LIVE_OLYMPICS_EXTRA:t.BBC_RADIO_5_LIVE,BBC_RADIO_FIVE_LIVE_SPORTS_EXTRA:t.BBC_RADIO_5_LIVE,BBC_RADIO_FOUR:t.BBC_RADIO_4,BBC_RADIO_FOUR_EXTRA:t.BBC_RADIO_4_EXTRA,BBC_RADIO_FOYLE:t.NORTHERN_IRELAND,BBC_RADIO_GLOUCESTERSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_GUERNSEY:t.ENGLISH_REGIONS,BBC_RADIO_HEREFORD_WORCESTER:t.ENGLISH_REGIONS,BBC_RADIO_HUMBERSIDE:t.ENGLISH_REGIONS,BBC_RADIO_JERSEY:t.ENGLISH_REGIONS,BBC_RADIO_KENT:t.ENGLISH_REGIONS,BBC_RADIO_LANCASHIRE:t.ENGLISH_REGIONS,BBC_RADIO_LEEDS:t.ENGLISH_REGIONS,BBC_RADIO_LEICESTER:t.ENGLISH_REGIONS,BBC_RADIO_LINCOLNSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_MANCHESTER:t.ENGLISH_REGIONS,BBC_RADIO_MERSEYSIDE:t.ENGLISH_REGIONS,BBC_RADIO_NAN_GAIDHEAL:t.SCOTLAND,BBC_RADIO_NEWCASTLE:t.ENGLISH_REGIONS,BBC_RADIO_NORFOLK:t.ENGLISH_REGIONS,BBC_RADIO_NORTHAMPTON:t.ENGLISH_REGIONS,BBC_RADIO_NOTTINGHAM:t.ENGLISH_REGIONS,BBC_RADIO_ONE:t.BBC_RADIO_1,BBC_RADIO_ONE_VINTAGE:t.BBC_RADIO_1,BBC_RADIO_OXFORD:t.ENGLISH_REGIONS,BBC_RADIO_SCOTLAND:t.SCOTLAND,BBC_RADIO_SCOTLAND_FM:t.SCOTLAND,BBC_RADIO_SCOTLAND_MUSIC_EXTRA:t.SCOTLAND,BBC_RADIO_SHEFFIELD:t.ENGLISH_REGIONS,BBC_RADIO_SHROPSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_SOLENT:t.ENGLISH_REGIONS,BBC_RADIO_SOMERSET_SOUND:t.ENGLISH_REGIONS,BBC_RADIO_STOKE:t.ENGLISH_REGIONS,BBC_RADIO_SUFFOLK:t.ENGLISH_REGIONS,BBC_RADIO_SURREY:t.ENGLISH_REGIONS,BBC_RADIO_SUSSEX:t.ENGLISH_REGIONS,BBC_RADIO_SWINDON:t.ENGLISH_REGIONS,BBC_RADIO_THREE:t.BBC_RADIO_3,BBC_RADIO_TWO:t.BBC_RADIO_2,BBC_RADIO_TWO_COUNTRY:t.BBC_RADIO_2,BBC_RADIO_TWO_EUROVISION:t.BBC_RADIO_2,BBC_RADIO_TWO_FIFTIES:t.BBC_RADIO_2,BBC_RADIO_ULSTER:t.NORTHERN_IRELAND,BBC_RADIO_WALES:t.WALES,BBC_RADIO_WILTSHIRE:t.ENGLISH_REGIONS,BBC_RADIO_YORK:t.ENGLISH_REGIONS,BBC_SOUNDS_MIXES:t.SOUNDS,BBC_SOUNDS_PODCASTS:t.SOUNDS,BBC_SOUTHERN_COUNTIES_RADIO:t.ENGLISH_REGIONS,BBC_THREE_COUNTIES_RADIO:t.ENGLISH_REGIONS,CBEEBIES_RADIO:t.CBEEBIES,BBC_SPORT:t.SPORT,getProducerId:function(t){var e;return t&&(e=this[t.toUpperCase()]),e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports={NAME:"echo_js",VERSION:"12.13.1"}},function(t,e,u){var n;void 0===(n=function(){"use strict";var r=u(0),o=u(3),s="",a="",n={},i={};function t(t,e){this._config=t,this._env=e;var n=t[o.REMOTE_CONFIG_URL];n||(n="https://mybbc-analytics.files.bbci.co.uk/analytics-remote-config/");var i=t[o.PRODUCER_CONFIG_FILENAME];i||(i="producers.json");var r=t[o.MASTERBRAND_CONFIG_FILENAME];r||(r="masterbrands.json"),s=n+i,a=n+r,this.fetchRemoteData(s,a)}return t.prototype.getData=function(t,i){this._env.getExecuteCrossDomainGet()(t,{onSuccess:function(t){i(t)},onError:function(t,e){var n="error";"json"===t?n="json":"object"==typeof t&&"timeout"===t.type&&(n="timeout"),r.error("There was a problem requesting the remote config data",n,e),i()}})},t.prototype.fetchRemoteData=function(t,e){t||r.error("There was no Producer URL found"),this.getData(t,function(t){n=t}),e||r.error("There was no Masterbrand URL found"),this.getData(e,function(t){i=t})},t.prototype.getProducers=function(){return n},t.prototype.getMasterbrands=function(){return i},t}.call(e,u,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(){this.reset()}return t.prototype.start=function(){!0!==this._isPlaying&&(this._isPlaying=!0,this._startTime=this._getCurrentTime())},t.prototype.reset=function(){this._isPlaying=!1,this._position=0,this._startTime=0},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._position+=this._getCurrentTime()-this._startTime,this._startTime=0)},t.prototype.getPosition=function(){var t=this._position;return!0===this._isPlaying&&(t+=this._getCurrentTime()-this._startTime),t},t.prototype._getCurrentTime=function(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Date.now()},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(0),n(2)],void 0===(r=function(t,s,n){"use strict";function r(t,e,n){this._schedule=[],this.serviceId=null,this._media=t,this._environment=e,this._echoClient=n,this._fetchData()}return r.prototype.getBroadcast=function(t){var e,n;for(e=0;e<this._schedule.length;e++)if(t<(n=this._schedule[e].published_time).end&&t>=n.start)return this._schedule[e]},r.essHost="ess.api.bbci.co.uk",r.prototype._fetchData=function(){var t,i=this;t=this._environment.getExecuteCrossDomainGet();var e=this._environment.getProtocol()+r.essHost.replace(/^(\/+)?/,"//")+"/schedules";if(this._media){if(this._media.getServiceId())e+="?serviceId="+encodeURIComponent(this._media.getServiceId()),s.info("Get ServiceID: "+e);else if(this._media.getVersionId())e+="?versionId="+encodeURIComponent(this._media.getVersionId()),s.info("Get VersionID: "+e);else{if(!this._media.getVpId())return s.info("Unable to determine serviceId, versionId or VpId for schedule"),void s.info(e);s.info("Get VPid: "+e),e+="?vpid="+encodeURIComponent(this._media.getVpId())}t(e,{onSuccess:function(t){i._dataSuccessHandler(t)},onError:function(t,e){var n="error";"json"===t?n="json":"object"==typeof t&&"timeout"===t.type&&(n="timeout"),i._dataErrorHandler(n,e)}})}},r.prototype.hasData=function(){return 0<this._schedule.length},r.prototype._dataSuccessHandler=function(t){var e,n,i,r,o=[];if(s.info("Cross-domain schedule request success."),t){for(this._echoClient.setEssSuccess(!0),this.serviceId=t.service.id,t.items=t.items||[],e=0;e<t.items.length;e++)i=t.items[e].published_time.start,r=t.items[e].published_time.end,(n=t.items[e]).published_time.start=new Date(i).getTime(),n.published_time.end=new Date(r).getTime(),o.push(n);this._schedule=o}},r.prototype._dataErrorHandler=function(t,e){this._schedule=[],s.warn("There was a problem requesting the schedule from ESS: "+t),this._echoClient.setEssSuccess(!1),"json"===t?this._echoClient.setEssError(n.EssError.JSON,e):"timeout"===t?this._echoClient.setEssError(n.EssError.TIMEOUT,e):"error"===t&&void 0!==e?this._echoClient.setEssError(n.EssError.STATUS_CODE,e):this._echoClient.setEssError(n.EssError.RUNTIME,"0")},r}.apply(e,i))||(t.exports=r)},function(t,e,d){var n;void 0===(n=function(t){"use strict";var e=d(5),n=d(11),r=d(17),o=d(2),s=d(1),i=d(6),a=d(7),u=d(4),c=d(0),l=o.MediaConsumptionMode;var f=function(t,e){var n,i;this.avType=(n=t)===o.AvType.AUDIO||n===o.AvType.VIDEO?t:null,this.consumptionMode=(i=e)===l.ON_DEMAND||i===l.DOWNLOAD||i===l.LIVE?e:null,s.assert(this.avType,"Media: Invalid avType: "+this.avType,!0),s.assert(this.consumptionMode,"Media: Invalid consumptionMode: "+this.consumptionMode,!0),this.serviceIdObject=new r(o.MediaIdType.SERVICE,!0),this.versionIdObject=new r(o.MediaIdType.VERSION,!0),this.clipIdObject=new r(o.MediaIdType.CLIP,!0),this.episodeIdObject=new r(o.MediaIdType.EPISODE,!0),this.vpIdObject=new r(o.MediaIdType.VPID,!0),this.nonPipsContentIdObject=new r(o.MediaIdType.NONPIPSCONTENT,!1),this.producer=0,this.masterbrand=0,this.useMasterbrandProducer=!1,this.brand="",this.series="",this.length=0,this.bufferLength=0,this.supplier=null,this.mediaSet=null,this.transferFormat=null,this.essEnrichedData=!1,this._isPlaying=!1,this._isBuffering=!1,this._isEmbedded=!1,this.name="",this.type=o.MediaClipType.UNDEFINED,this.playlist="",this.wsPartnerId="",this.initiationType=o.MediaInitiationType.UNDEFINED,this.adsEnabled=!1,this.mediaPlayerName="",this.mediaPlayerVersion="",this.transportMode="",this.castingDeviceReferrer="",this.remoteProducers=null,this.remoteMasterbrands=null};return f.prototype.setRemoteProducers=function(t){this.remoteProducers=t},f.prototype.setRemoteMasterbrands=function(t){this.remoteMasterbrands=t},f.prototype.isEssEnriched=function(){return!0===this.essEnrichedData},f.prototype.setEssEnriched=function(t){this.essEnrichedData=t},f.prototype.getAvType=function(){return this.avType},f.prototype.getMediaConsumptionMode=function(){return this.consumptionMode},f.prototype.getClone=function(){var t=new f(this.avType,this.consumptionMode);return t.brand=this.brand,t.series=this.series,t.serviceIdObject=this.serviceIdObject,t.versionIdObject=this.versionIdObject,t.clipIdObject=this.clipIdObject,t.episodeIdObject=this.episodeIdObject,t.vpIdObject=this.vpIdObject,t.name=this.name,t.type=this.type,t.playlist=this.playlist,t.initiationType=this.initiationType,t.adsEnabled=this.adsEnabled,t.mediaPlayerVersion=this.mediaPlayerVersion,t.mediaPlayerName=this.mediaPlayerName,t.transportMode=this.transportMode,t.castingDeviceReferrer=this.castingDeviceReferrer,t.wsPartnerId=this.wsPartnerId,t.nonPipsContentIdObject=this.nonPipsContentIdObject,t.appName=this.appName,t.appType=this.appType,t.producer=this.producer,t.masterbrand=this.masterbrand,t.remoteProducers=this.remoteProducers,t.remoteMasterbrands=this.remoteMasterbrands,t.useMasterbrandProducer=this.useMasterbrandProducer,t.bufferLength=this.bufferLength,t.mediaSet=this.mediaSet,t.supplier=this.supplier,t.transferFormat=this.transferFormat,t.length=this.length,t.essEnrichedData=this.essEnrichedData,t},f.prototype.isEmbedded=function(){return this._isEmbedded},f.prototype.setIsEmbedded=function(t){return this._isEmbedded=t,this},f.prototype.setVersionId=function(t){return this.versionIdObject.setValue(t),this},f.prototype.setBrand=function(t){return this.brand=u.cleanLabelValue(i.MEDIA_BRAND,t),this},f.prototype.setSeries=function(t){return this.series=u.cleanLabelValue(i.MEDIA_SERIES,t),this},f.prototype.setWsPartnerId=function(t){return this.wsPartnerId=u.cleanLabelValue(i.MEDIA_WS_PARTNER_ID,t),this},f.prototype.setClipId=function(t){return this.clipIdObject.setValue(t),this},f.prototype.setServiceId=function(t){return this.serviceIdObject.setValue(t),this},f.prototype.setEpisodeId=function(t){return this.episodeIdObject.setValue(t),this},f.prototype.setVpId=function(t){return this.vpIdObject.setValue(t),this},f.prototype.setNonPipsContentId=function(t){return this.nonPipsContentIdObject.setValue(u.cleanLabelValue(a.MEDIA_NON_PIPS_CONTENT_ID,t)),this},f.prototype.getSupplier=function(){return this.supplier},f.prototype.setSupplier=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.supplier=e)}return this},f.prototype.setMediaSet=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.mediaSet=e)}return this},f.prototype.getTransferFormat=function(){return this.transferFormat},f.prototype.setTransferFormat=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.transferFormat=e)}return this},f.prototype.isAdsEnabled=function(){return this.adsEnabled},f.prototype.setAdsEnabled=function(t){return this.adsEnabled=t,this},f.prototype.getName=function(){return this.name},f.prototype.setName=function(t){return this.name=t,this},f.prototype.getAppName=function(){return this.appName},f.prototype.setAppName=function(t){return this.appName=t,this},f.prototype.getAppType=function(){return this.appType},f.prototype.setAppType=function(t){return this.appType=t,this},f.prototype.getType=function(){return this.type},f.prototype.setType=function(t){return this.type=t,this},f.prototype.getPlaylist=function(){return this.playlist},f.prototype.setPlaylist=function(t){return this.playlist=t,this},f.prototype.getInitiationType=function(){return this.initiationType},f.prototype.setInitiationType=function(t){return this.initiationType=t,this},f.prototype.getMediaPlayerName=function(){return this.mediaPlayerName},f.prototype.setMediaPlayerName=function(t){return this.mediaPlayerName=t,this},f.prototype.getMediaPlayerVersion=function(){return this.mediaPlayerVersion},f.prototype.setMediaPlayerVersion=function(t){return this.mediaPlayerVersion=t,this},f.prototype.getTransportMode=function(){return this.transportMode},f.prototype.setTransportMode=function(t){return this.transportMode=t,this},f.prototype.setCastingDeviceReferrer=function(t){return this.castingDeviceReferrer=u.cleanLabelValue(i.CASTING_DEVICE_REFERRER,t),this},f.prototype.getLength=function(){return this.length},f.prototype.setLength=function(t){return null!=t&&(t=Math.floor(t)),(void 0===t||isNaN(t)||!isFinite(t)||t<0)&&(c.warn("Media: length must be an integer of 0 or greater. Echo will report as 0."),t=0),this.length=t,this},f.prototype.getProducer=function(){return this.producer},f.prototype.getMasterbrand=function(){return this.masterbrand},f.prototype.setProducer=function(t){this.useMasterbrandProducer=!1,this.producer=t?t.toUpperCase():null},f.prototype.getProducerId=function(){return this.useMasterbrandProducer?this.getProducerIdFromMasterbrand():this.getProducerIdFromProducer()},f.prototype.getProducerIdFromMasterbrand=function(){return this.remoteProducers&&this.remoteMasterbrands&&this.remoteMasterbrands[this.masterbrand]&&this.remoteProducers[this.remoteMasterbrands[this.masterbrand]]?this.remoteProducers[this.remoteMasterbrands[this.masterbrand]]:n.getProducerId(this.masterbrand)?n.getProducerId(this.masterbrand):(null===this.masterbrand||this.masterbrand&&"NULL"===this.masterbrand.toUpperCase()||""===this.masterbrand||c.info("Masterbrand ["+this.masterbrand+"] not recognised, producer will be set to undefined (0)"),0)},f.prototype.getProducerIdFromProducer=function(){return this.remoteProducers&&this.remoteProducers[this.producer]?this.remoteProducers[this.producer]:e.getId(this.producer)?e.getId(this.producer):0},f.prototype.setProducerById=function(t){return t&&(this.producer=t),this},f.prototype.setProducerByMasterbrand=function(t){this.useMasterbrandProducer=!0,this.masterbrand=t?t.toUpperCase():null},f.prototype.getVersionIdObject=function(){return this.versionIdObject},f.prototype.getClipIdObject=function(){return this.clipIdObject},f.prototype.getServiceIdObject=function(){return this.serviceIdObject},f.prototype.getWsPartnerId=function(){return this.wsPartnerId},f.prototype.getCastingDeviceReferrer=function(){return this.castingDeviceReferrer},f.prototype.getEpisodeIdObject=function(){return this.episodeIdObject},f.prototype.getVpIdObject=function(){return this.vpIdObject},f.prototype.getNonPipsContentIdObject=function(){return this.nonPipsContentIdObject},f.prototype.getBrand=function(){return this.brand},f.prototype.getSeries=function(){return this.series},f.prototype.getMediaSet=function(){return this.mediaSet},f.prototype.getVersionId=function(){return this.versionIdObject.getValue()},f.prototype.getClipId=function(){return this.clipIdObject.getValue()},f.prototype.getServiceId=function(){return this.serviceIdObject.getValue()},f.prototype.getEpisodeId=function(){return this.episodeIdObject.getValue()},f.prototype.getVpId=function(){return this.vpIdObject.getValue()},f.prototype.getNonPipsContentId=function(){return this.nonPipsContentIdObject.getValue()},f.prototype.getRetrievalType=function(){return null===this.consumptionMode?null:this.consumptionMode===l.DOWNLOAD?o.RetrievalType.DOWNLOAD:o.RetrievalType.STREAM},f.prototype.isOnDemand=function(){return this.consumptionMode===l.ON_DEMAND},f.prototype.isDownload=function(){return this.consumptionMode===l.DOWNLOAD},f.prototype.isLive=function(){return this.consumptionMode===l.LIVE},f.prototype.isVideo=function(){return this.avType===o.AvType.VIDEO},f.prototype.getPlayerId=function(){return"1"},f.prototype.setPlaying=function(t){return this._isPlaying=Boolean(t),this},f.prototype.getPlaying=function(){return this._isPlaying},f.prototype.setBuffering=function(t){return this._isBuffering=Boolean(t),this},f.prototype.getBuffering=function(){return this._isBuffering},f}.call(e,d,e,t))||(t.exports=n)},function(t,e,r){var n;void 0===(n=function(t){"use strict";var e=r(1),n=r(4),i=function(t,e){this.idType=t,this.value=null,this.isSet=!1,this.isValid=!1,this.requiresValidation=e};return i.prototype.getIdType=function(){return this.idType},i.prototype.setValue=function(t){this.isSet=!0,null==t||"string"!=typeof t||0===t.length?(e.assert(!1,"MediaId: The value for "+this.idType+"Id is invalid",!0),this.isValid=!1):this.isValid=!0,this.value=n.cleanMediaId(t)},i.prototype.getValue=function(){return this.value},i.prototype.isValueSet=function(){return this.isSet},i.prototype.isValueValid=function(){return this.isValid},i.prototype._validateValue=function(t){return"string"==typeof t&&this.validValueRegex.test(t)},i}.call(e,r,e,t))||(t.exports=n)},function(t,e,i){var n;void 0===(n=function(){"use strict";var e=i(0),n=i(19).Promise;function r(){}return r.get=function(){if(window&&window.bbcpage){return n.all(["getDestination","getProducer","getSection","getContentId","getContentType","getLanguage","getAdditionalProperties","getName"].map(function(t){return e=t,window.bbcpage[e]&&"function"==typeof window.bbcpage[e]?window.bbcpage[e]():n.resolve(null);var e})).then(function(t){return t=r._decodeFromOrbit(t),e.info("Got Orbit Variables: "+JSON.stringify(t)),{destination:t[0],producer:t[1],section:t[2],contentId:t[3],contentType:t[4],language:t[5],additionalProperties:t[6],pageName:t[7]}})}return n.resolve(void 0)},r.getUser=function(){if(window&&window.bbcuser){return n.all(["getHashedId","isSignedIn"].map(function(t){return e=t,window.bbcuser[e]&&"function"==typeof window.bbcuser[e]?window.bbcuser[e]():n.resolve(null);var e})).then(function(t){return e.info("Got Orbit User Variables: "+JSON.stringify(t)),{hashedId:t[0],isSignedIn:t[1]}})}return n.resolve(void 0)},r._decodeFromOrbit=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)if(t[e[n]]&&"object"!=typeof t[e[n]]){var i=new RegExp("&#x2F;","g");t[e[n]]=t[e[n]].replace(i,"/")}else t[e[n]]&&"object"==typeof t[e[n]]&&(t[e[n]]=r._decodeFromOrbit(t[e[n]]));return t},r}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){(function(F,H){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */
t.exports=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,r=void 0,a=function(t,e){d[i]=t,d[i+1]=e,2===(i+=2)&&(r?r(p):v())},t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==F&&"[object process]"==={}.toString.call(F),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(p,1)}}var d=new Array(1e3);function p(){for(var t=0;t<i;t+=2){var e=d[t],n=d[t+1];e(n),d[t]=void 0,d[t+1]=void 0}i=0}var _,h,g,E,v=void 0;function m(t,e){var n=this,i=new this.constructor(S);void 0===i[A]&&k(i);var r=n._state;if(r){var o=arguments[r-1];a(function(){return U(r,i,o,n._result)})}else B(n,i,t,e);return i}function I(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(S);return N(e,t),e}v=u?function(){return F.nextTick(p)}:s?(h=0,g=new s(p),E=document.createTextNode(""),g.observe(E,{characterData:!0}),function(){E.data=h=++h%2}):l?((_=new MessageChannel).port1.onmessage=p,function(){return _.port2.postMessage(0)}):void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?f():function(){e(p)}}catch(t){return f()}}():f();var A=Math.random().toString(36).substring(2);function S(){}var y=void 0,T=1,C=2,b={error:null};function P(t){try{return t.then}catch(t){return b.error=t,b}}function O(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function R(t,e,n){var i,r,o,s;e.constructor===t.constructor&&n===m&&e.constructor.resolve===I?(o=t,(s=e)._state===T?L(o,s._result):s._state===C?w(o,s._result):B(s,void 0,function(t){return N(o,t)},function(t){return w(o,t)})):n===b?(w(t,b.error),b.error=null):void 0===n?L(t,e):c(n)?(i=e,r=n,a(function(e){var n=!1,t=O(r,i,function(t){n||(n=!0,i!==t?N(e,t):L(e,t))},function(t){n||(n=!0,w(e,t))},e._label);!n&&t&&(n=!0,w(e,t))},t)):L(t,e)}function N(t,e){var n,i;t===e?w(t,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=e),null===n||"object"!==i&&"function"!==i?L(t,e):R(t,e,P(e)))}function D(t){t._onerror&&t._onerror(t._result),M(t)}function L(t,e){t._state===y&&(t._result=e,t._state=T,0!==t._subscribers.length&&a(M,t))}function w(t,e){t._state===y&&(t._state=C,t._result=e,a(D,t))}function B(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+T]=n,r[o+C]=i,0===o&&t._state&&a(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?U(n,i,r,o):r(o);t._subscribers.length=0}}function U(t,e,n,i){var r=c(n),o=void 0,s=void 0,a=void 0,u=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return b.error=t,b}}(n,i))===b?(u=!0,s=o.error,o.error=null):a=!0,e===o)return void w(e,new TypeError("A promises callback cannot return that same promise."))}else o=i,a=!0;e._state!==y||(r&&a?N(e,o):u?w(e,s):t===T?L(e,o):t===C&&w(e,o))}var x=0;function k(t){t[A]=x++,t._state=void 0,t._result=void 0,t._subscribers=[]}var V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(S),this.promise[A]||k(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&L(this.promise,this._result))):w(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===y&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===I){var r=P(e);if(r===m&&e._state!==y)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===G){var o=new n(S);R(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===y&&(this._remaining--,t===C?w(i,n):this._result[e]=n),0===this._remaining&&L(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;B(t,void 0,function(t){return n._settledAt(T,e,t)},function(t){return n._settledAt(C,e,t)})},t}(),G=function(){function e(t){this[A]=x++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){N(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return G.prototype.then=m,G.all=function(t){return new V(this,t).promise},G.race=function(r){var o=this;return n(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},G.resolve=I,G.reject=function(t){var e=new this(S);return w(e,t),e},G._setScheduler=function(t){r=t},G._setAsap=function(t){a=t},G._asap=a,G.polyfill=function(){var t=void 0;if(void 0!==H)t=H;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=G},G.Promise=G}()}).call(this,n(20),n(21))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function h(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new _(t,e)),1!==c.length||l||a(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(51).version;return{getLibraryName:function(){return"echo_js"},getLibraryVersion:function(){return e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports=n(26)},function(t,e,n){var i,r;i=[n(27)],void 0===(r=function(t){"use strict";return window&&window.bbccookies&&t.Environment.setOrbCookies(window.bbccookies),t}.apply(e,i))||(t.exports=r)},function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(12),n=i(8);return{EchoClient:i(30),Media:i(16),MediaId:i(17),Environment:n,Enums:i(2),ConfigKeys:i(3),Debug:i(0),getImplementationVersion:function(){return e.VERSION}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){t.exports={STRICT:"strict",COUNTERNAME:"countername",EVENT_MASTER_BRAND:"event_master_brand",NO_CLEANSING:"no_cleansing",CUSTOM:"custom"}},function(t,e,n){var i;void 0===(i=function(){"use strict";return{httpGet:function(t,e,n){var i=new Image;i.onload=e,i.onerror=n,i.src=t},executeCrossDomainGet:function(t,n){var e,i,r;r=i=!1;var o=function(t,e){n.onError&&n.onError(t,e)};if(window.JSON&&window.JSON.parse&&void 0!==window.XMLHttpRequest&&"withCredentials"in(e=new XMLHttpRequest)&&(r=!0),r){try{e.open("GET",t,!0),e.onload=function(){(void 0===e.status||e.status<400)&&null!==e.responseText?function(){var t;if(n.onSuccess){try{t=window.JSON.parse(e.responseText)}catch(t){o("json")}"object"==typeof t&&setTimeout(function(){n.onSuccess(t)})}}():o(e.responseText,e.status)},e.onerror=function(t){o(t)},e.timeout=1e4,e.ontimeout=function(t){o(t)}}catch(t){s=t,i||o(s)}var s;try{e.send(null)}catch(t){i=!0,e.onload=e.onerror=e.onreadystatechange=null,e.abort(),o(t)}}else o()}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,r){var n;void 0===(n=function(t){"use strict";var u=r(0),c=r(1),l=r(3),e=r(10),f=r(13),s=r(11),a=r(5),d=r(2),n=r(31),i=r(32),o=r(7),p=r(15),_=r(9),h="scorecardresearch.com",g="ckpf_echo_device_id",E="ckns_echo_device_id",v=r(18),m=r(19).Promise,I=36e5;function A(t,e,n,i,r){var o=this;n=n||{},c.assertContainsValue(d.ApplicationType,e,'appType should be one of Enums.ApplicationType, got "'+e+'"'),this.state={counterNameSet:!1};var s,a=A.ConfigGenerator.generate(n);if(this._env=null!=i?i:new A.Environment,setInterval(function(){o._remoteConfigManager=new f(n,o._env)},I),this._remoteConfigManager=new f(n,this._env),a&&(a[l.REMOTE_CONFIG_MANAGER]=this._remoteConfigManager),a&&"string"==typeof a[l.ECHO_DEVICE_ID]&&(0<(s=c.trim(a[l.ECHO_DEVICE_ID])).length?(a[l.ECHO_DEVICE_ID]=s,this._deviceId=s):a[l.ECHO_DEVICE_ID]=void 0),a&&a[l.COMSCORE_HOST]!==h&&!a[l.ECHO_DEVICE_ID]&&((s=_.getCookieValueByName(E))||(s=_.getCookieValueByName(g)),s&&(this._deviceId=s,a[l.ECHO_DEVICE_ID]=s)),a&&!1===a[l.ECHO_AUTO_START]?this._autoStart=!1:this._autoStart=!0,this._setConsumers(t,e,a,this._env),a&&a[l.USE_ESS]?this._essEnabled=!0:this._essEnabled=!1,a&&a[l.ESS_HOSTNAME]&&(p.essHost=a[l.ESS_HOSTNAME]),a&&!1===a[l.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0,a)switch(a[l.DEBUG_MODE]){case!0:u.enable();break;case"error":u.enable(),u.setLevel(u.DebugLevels.ERROR);break;case"warn":u.enable(),u.setLevel(u.DebugLevels.WARN);break;case"info":u.enable(),u.setLevel(u.DebugLevels.INFO);break;default:u.disable()}this._liveBroker=null,this._onDemandBroker=null,this._suppressingPlayEvent=!1,this._suppressedPlayEventLabels=null,this.addLabel("bbc_id_wait","1"),v.getUser().then(function(t){var e;(this.removeLabel("bbc_id_wait"),t&&t.isSignedIn)&&(e=t.hashedId?encodeURIComponent(t.hashedId):"unidentified-user",this.addLabels({bbc_identity:"1",bbc_hid:e}))}.bind(this)),a&&a[l.ECHO_CACHE_MODE]&&(this._cacheMode=a[l.ECHO_CACHE_MODE]),this._atiDisableCookie=!!a&&!!a[l.ATI_DISABLE_COOKIE],this._isEnabled&&this._autoStart&&("function"==typeof r?this.start().then(r):this.start())}return A.prototype.getDebugMode=function(){return u.getState()},A.prototype.start=function(){var e;return this._isEnabled&&!this._hasStarted?(this._hasStarted=!0,v.get().then(function(t){e=t,this._delegate("start",[t])}.bind(this)).then(function(){e&&e.pageName&&""!==e.pageName&&"orb.page"!==e.pageName&&this.setCounterName(e.pageName)}.bind(this),function(t){u.error("failed to start delegates: "+t)})):m.reject()},A.prototype.enable=function(){return this._isEnabled||(this._isEnabled=!0,this._delegate("enable"),this._autoStart&&!this._hasStarted&&this.start()),this},A.prototype.disable=function(){return this._isEnabled&&(this._clearMedia(),this._isEnabled=!1,this._delegate("disable")),this},A.prototype.isEnabled=function(){return this._isEnabled},A.prototype.getComScoreDeviceId=function(){var t;return this.consumers[A.Consumers.COMSCORE]&&(t=this.consumers[A.Consumers.COMSCORE])instanceof A.ComScoreDelegate&&"function"==typeof t.getDeviceId?t.getDeviceId():null},A.prototype.getAtiDeviceId=function(){var t;return this.consumers[A.Consumers.ATI]&&(t=this.consumers[A.Consumers.ATI])instanceof A.AtiDelegate&&"function"==typeof t.getDeviceId?t.getDeviceId():null},A.prototype.getDeviceId=function(){return this._deviceId},A.prototype.setDeviceId=function(t){this._deviceId=t,this._delegate("setDeviceId",[t])},A.prototype.setTraceId=function(t){this._delegate("setTraceId",[t])},A.ConfigGenerator=r(33),A.LabelCleanser=r(4),A.Util=r(1),A.ComScoreDelegate=r(34),A.SpringDelegate=r(40),A.AtiDelegate=r(44),A.Environment=r(8),A.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},A.prototype._setConsumers=function(t,e,n,i){this.consumers={};var r=A.LabelCleanser.cleanLabelValue("app_name",t);return n&&n[l.COMSCORE_ENABLED]&&(this.consumers[A.Consumers.COMSCORE]=new A.ComScoreDelegate(r,e,n,i)),n&&n[l.ATI_ENABLED]&&(this.consumers[A.Consumers.ATI]=new A.AtiDelegate(r,e,n,i)),n&&n[l.BARB_ENABLED]&&(this.consumers[A.Consumers.BARB]=new A.SpringDelegate(r,e,n,i)),this},A.prototype._shouldClearDeviceIdOnLogOut=function(){return this._atiDisableCookie},A.prototype._delegate=function(t,e,n){var i,r,o=[];for(i in this.consumers)i&&(r=this.consumers[i],n&&r.requiresLabelCleansing()?o.push(r[t].apply(r,n)):o.push(r[t].apply(r,e)));return m.all(o)},A.prototype.addLabels=function(t){return this.addProperties(t)},A.prototype.addLabel=function(t,e){return this.addProperty(t,e)},A.prototype.addProperties=function(t){return t=A.LabelCleanser.removeUndefined(t),this._delegate("addProperties",[A.LabelCleanser.cleanLabels(t)]),this},A.prototype.addProperty=function(t,e){if("string"==typeof t){if(null!=e){var n={};return n[t]=e,this.addProperties(n)}u.error("Property cannot be null/undefined")}else u.error("Property key must be a string")},A.prototype.addManagedLabel=function(t,e){return this._delegate("addManagedLabel",[A.LabelCleanser.cleanLabelKey(t),A.LabelCleanser.cleanLabelValue(t,e)]),this},A.prototype.removeLabels=function(t){return this.removeProperties(t)},A.prototype.removeLabel=function(t){return this.removeProperty(t)},A.prototype.removeProperties=function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(A.LabelCleanser.cleanLabelKey(t[n]));return this._delegate("removeProperties",[e]),this},A.prototype.removeProperty=function(t){return this.removeProperties([t])},A.prototype.setLoggedInToBBCId=function(t){return this._delegate("setLoggedInToBBCId",[t]),this},A.prototype.setLoggedOutOfBBCId=function(){return this._delegate("setLoggedOutOfBBCId"),this._shouldClearDeviceIdOnLogOut()&&(u.info("Clearing device id on logout"),this.setDeviceId(void 0)),this},A.prototype.setAppVersion=function(t){return this._delegate("setAppVersion",[t]),this},A.prototype.setDestination=function(t){return this._delegate("setDestination",[e.get(t)]),this},A.prototype.setProducer=function(t){return this._setProducer(t,!1)},A.prototype.setProducerByMasterbrand=function(t){return this._setProducer(t,!0)},A.prototype._setProducer=function(t,e){var n,i,r;(i=this._remoteConfigManager.getProducers(),r=this._remoteConfigManager.getMasterbrands(),t&&"NULL"!==t.toUpperCase())?n=e?i&&r&&r[t]&&i[r[t]]?i[r[t]]:s.getProducerId(t):i&&i[t]?i[t]:a.getId(t):n="0";if(!n){var o=e?"Masterbrand":"Producer";u.warn(o+" ["+t+"] not recognised")}return n&&this._delegate("setProducer",[n]),this},A.prototype.setCounterName=function(t){var e=A.LabelCleanser.cleanCounterName(t),n=this._delegate("setCounterName",[t],[e]);return this.state.counterNameSet=!0,n},A.prototype.setContentLanguage=function(t){return this._delegate("setContentLanguage",[t]),this},A.prototype.setCacheMode=function(t){return this._delegate("setCacheMode",[t]),this._cacheMode=t,this},A.prototype.getCacheMode=function(){return this._cacheMode},A.prototype.clearCache=function(){this._isEnabled&&this._delegate("clearCache")},A.prototype.flushCache=function(){this._isEnabled&&this._delegate("flushCache")},A.prototype.viewEvent=function(t,e){if(this._eventsEnabled()){var n=A.LabelCleanser.cleanCounterName(t),i=A.LabelCleanser.cleanLabels(e);this.consumers[A.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0);var r=this._delegate("viewEvent",[t,e],[n,i]);return this.state.counterNameSet=!0,this.consumers[A.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),r}},A.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled())return this.state.counterNameSet?(this._delegate("userActionEvent",[t,e,A.LabelCleanser.cleanLabels(n)]),this.consumers[A.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0)):u.error("userActionEvent not available before a call to viewEvent (to set counter name)."),this},A.prototype.errorEvent=function(t,e){if(this._eventsEnabled())return this._delegate("errorEvent",[t,A.LabelCleanser.cleanLabels(e)]),this},A.prototype.setPlayerName=function(t){c.assert("string"==typeof t&&0<t.length,'setPlayerName: name must be string with length, got "'+t+'"');var e=A.LabelCleanser.cleanLabelValue("player_name",t);return this._delegate("setPlayerName",[t],[e])},A.prototype.setPlayerVersion=function(t){c.assert("string"==typeof t&&0<t.length,'setPlayerVersion: version must be string with length, got "'+t+'"');var e=A.LabelCleanser.cleanLabelValue("player_version",t);return this._delegate("setPlayerVersion",[t],[e])},A.prototype.setPlayerIsPopped=function(t){return c.assert("boolean"==typeof t,'setPlayerIsPopped: isPopped must be boolean, got "'+t+'"'),this._delegate("setPlayerIsPopped",[t]),this},A.prototype.setPlayerWindowState=function(t){return c.assertContainsValue(d.WindowState,t,'The window state must be set as a member of Enums.WindowState, got "'+t+'"'),this._delegate("setPlayerWindowState",[t]),this},A.prototype.setPlayerVolume=function(t){return c.assert(t<=100&&0<=t,"volume must be 0-100, got: "+t),t<=100&&0<=t&&this._delegate("setPlayerVolume",[t]),this},A.prototype.setPlayerIsSubtitled=function(t){return c.assert("boolean"==typeof t,'setPlayerIsSubtitled: isSubtitled must be a boolean, got "'+t+'"'),this._delegate("setPlayerIsSubtitled",[t]),this},A.prototype.setPlayerDelegate=function(t){t=t||{};var e,n,i,r=["getTimestamp","getPosition"],o=!1;for(n=0;n<r.length;n++)e=r[n],i=t.hasOwnProperty(e)&&"function"==typeof t[e],c.assert(i,'The player delegate must implement "'+e+'"'),i||(o=!0);return o||(this._playerDelegate=t),this},A.prototype.setMedia=function(t){var e,n=this;if(this._eventsEnabled()){this._clearMedia();var i=t.getClone();if(this.state.counterNameSet){this.media=i,this.addLabel(o.ESS_ENABLED,this._essEnabled?"true":"false");var r=d.MediaConsumptionMode.LIVE;this.media.getMediaConsumptionMode()===r?this._initLiveBroker():this._initOnDemandBroker(),this.media.setRemoteProducers(this._remoteConfigManager.getProducers()),this.media.setRemoteMasterbrands(this._remoteConfigManager.getMasterbrands()),e||(e=setInterval(function(){n.media&&(n.media.setRemoteProducers(n._remoteConfigManager.getProducers()),n.media.setRemoteMasterbrands(n._remoteConfigManager.getMasterbrands()))},I)),this._delegate("setMedia",[this.media])}else u.error("setMedia: Must have a countername set or view event sent first")}},A.prototype.liveMediaUpdate=function(t,e,n){this._eventsEnabled()&&this._avEventsEnabled()&&t&&(this._suppressingPlayEvent=!1,this.media=t,this._delegate("liveMediaUpdate",[t,e,n]))},A.prototype.setMediaLength=function(t){return this.media?this.media.isOnDemand()?"number"!=typeof(t=this._cleanPosition(t))?u.error("setMediaLength: Length must be a positive number"):(this._delegate("setMediaLength",[t]),this.media.setLength(t)):u.error("setMediaLength: Length should be set to zero prior to passing the media object to Echo for live media"):u.error("setMediaLength: Must call setMedia first"),this},A.prototype.setMediaBitrate=function(){},A.prototype.setMediaCodec=function(){},A.prototype.setMediaCDN=function(){},A.prototype.setEssSuccess=function(t){this.addLabel(o.ESS_SUCCESS,t?"true":"false")},A.prototype.setEssError=function(t,e){this.addLabel(o.ESS_ERROR,t.toString().toLowerCase()),t.toString()===d.EssError.STATUS_CODE.toString()&&this.addLabel(o.ESS_STATUS_CODE,e),this._delegate("liveEnrichmentFailed")},A.prototype._avEventsEnabled=function(){return c.assert(Boolean(this.media),"setMedia() must be called prior to this method",!0)&&c.assert(Boolean(this._playerDelegate),"setPlayerDelegate not called or not configured correctly",!0)},A.prototype.getLiveBroker=function(){return this._liveBroker},A.prototype._initLiveBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()===d.MediaConsumptionMode.LIVE&&(this._liveBroker=new n(this._playerDelegate,this.media,this,this._env,this._essEnabled),this._delegate("setBroker",[this._liveBroker]))},A.prototype.getOnDemandBroker=function(){return this._onDemandBroker},A.prototype._initOnDemandBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()!==d.MediaConsumptionMode.LIVE&&(this._onDemandBroker=new i(this._playerDelegate,this.media,this),this._delegate("setBroker",[this._onDemandBroker]))},A.prototype._cleanPosition=function(t){return null!=t&&(t=Math.floor(t)),(void 0===t||isNaN(t)||!isFinite(t)||t<0)&&(t=0),t},A.prototype.avPlayEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled()){var n=this.media.isLive();if(this._isPlaying=!0,n&&this._liveBroker)t=this._liveBroker.getPosition(),this._liveBroker.start();else if(!n&&this._onDemandBroker){if(t=this._cleanPosition(t),this._previousPlayPosition=t,this._positionExceedsMediaLength(t))return;this._onDemandBroker.setPosition(t),this._onDemandBroker.start()}return n&&this.media.isEssEnriched()&&this._suppressingPlayEvent?this._suppressedPlayEventLabels=e:(this._delegate("avPlayEvent",[t,A.LabelCleanser.cleanLabels(e)]),this.media.setBuffering(!1),this.media.setPlaying(!0)),this.consumers[A.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),this}},A.prototype._avNavigationEvent=function(t,e,n,i){this._avEventsEnabled()&&(this._isPlaying=!1,this.media.isLive()?(this._liveBroker&&(this._liveBroker.stop(),e=this._liveBroker.getPosition()),this.media.isEssEnriched()&&!this._suppressingPlayEvent&&(this._suppressingPlayEvent=!0)):this._onDemandBroker&&(e=this._cleanPosition(e),e=this._preventPositionExceedingMediaLength(e),this._onDemandBroker.stop()),"avRewindEvent"===t||"avFastForwardEvent"===t?this._delegate(t,[e,i,A.LabelCleanser.cleanLabels(n)]):this._delegate(t,[e,A.LabelCleanser.cleanLabels(n)]))},A.prototype.avPauseEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avPauseEvent",t,e),this},A.prototype.avBufferEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled()&&this.media.getPlaying())return this.media.setPlaying(!1),this._avNavigationEvent("avBufferEvent",t,e),this.media.setBuffering(!0),this},A.prototype.avEndEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avEndEvent",t,e),this.media=null,this},A.prototype.avRewindEvent=function(t,e,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avRewindEvent",t,n,e),this},A.prototype.avFastForwardEvent=function(t,e,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avFastForwardEvent",t,n,e),this},A.prototype.avSeekEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avSeekEvent",t,e),this},A.prototype.avUserActionEvent=function(t,e,n,i){if(this._eventsEnabled()&&this._avEventsEnabled()){n=this._liveBroker?this._liveBroker.getPosition():(n=this._cleanPosition(n),this._preventPositionExceedingMediaLength(n));var r=A.LabelCleanser.cleanLabels(i);return this._delegate("avUserActionEvent",[t,e,n,r]),this}},A.prototype.releaseSuppressedPlay=function(){if(this._eventsEnabled()&&this._avEventsEnabled())return this._suppressingPlayEvent&&(this._suppressingPlayEvent=!1,this.avPlayEvent(this._liveBroker.getPosition(),this._suppressedPlayEventLabels)),this},A.prototype._clearMedia=function(){this.removeLabel(o.MEDIA_TIMESTAMP),this.removeLabel(o.ESS_ENABLED),this.removeLabel(o.ESS_ENRICHED),this.removeLabel(o.ESS_SUCCESS),this.removeLabel(o.ESS_ERROR),this.removeLabel(o.ESS_STATUS_CODE),null!==this.media&&(this.media=null),this._liveBroker instanceof n&&(this._liveBroker.stop(),this._liveBroker=null),this._onDemandBroker instanceof i&&(this._onDemandBroker.stop(),this._onDemandBroker=null),this._isPlaying=void 0,this._previousPlayPosition=void 0},A.prototype._positionExceedsMediaLength=function(t){return!!(this.media&&0<this.media.length&&t>=this.media.length-1e3)},A.prototype._preventPositionExceedingMediaLength=function(t){return this._positionExceedsMediaLength(t)?this.media.length:t},A.Consumers={COMSCORE:1,BARB:2,ATI:4},A}.call(e,r,e,t))||(t.exports=n)},function(t,e,n){var i,r;i=[n(14),n(7),n(15),n(16)],void 0===(r=function(o,u,s){"use strict";var a="no-broadcast";function t(t,e,n,i,r){this._playerDelegate=t,this._playhead=new o,this._isStarted=!1,this._interval=null,this._echoClient=n,this._broadcast=a,this._playerDelegateTimestamp=0,this._previousPosition=0,this._playingTime=0,this._media=e,this._environment=i,this._essEnabled=r,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._isRecievingPlayerTimestamp=!1,this._updateTime=0,this._essEnabled&&(this._schedule=new s(e,i,n))}return t.prototype.start=function(){var t=this;this._isStarted||(this._interval=setInterval(function(){t._update()},1e3),this._isStarted=!0,this._isRecievingPlayerTimestamp||this._playhead.start())},t.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},t.prototype._update=function(){var t,e=parseInt(this._playerDelegate.getTimestamp(),10),n=!1,i=!1,r=!1,o=this.getTimestamp(),s=new Date,a=(s=s.getTime())-this._updateTime;this._updateTime=s,"number"==typeof e&&0<e&&(i=!0,this._isRecievingPlayerTimestamp=!0,this._playerDelegateTimestamp!==e&&(n=!0,this._echoClient.addLabel(u.MEDIA_TIMESTAMP,e)),t=e-o,i&&(0===this._playerDelegateTimestamp||t<0-a-1500||a+1500<t)&&(r=!0,this._playerDelegateTimestamp=e,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),o=this.getTimestamp())),r||(0!==this._playerDelegateTimestamp&&!n||this._isRecievingPlayerTimestamp&&!i?this._playhead.stop():this._playhead.start()),this._updateSchedule(o)?(this._playingTime=0,this._playerDelegateTimestamp=e,this._restartPlayhead(),this._hb3NotSentYet=!0,this._hb5NotSentYet=!0):n&&this._echoClient.releaseSuppressedPlay(),this._updateHeartbeats(),this._previousPosition=this.getPosition()},t.prototype._updateSchedule=function(t){var e,n,i,r,o=!1;return this._essEnabled&&this._schedule.hasData()&&0<t&&(e=this._schedule.getBroadcast(t),(r=this._media.getClone()).setServiceId(this._schedule.serviceId),e||this._broadcast===a?!e||this._broadcast!==a&&e.version.id===this._broadcast.version.id||(i=(n=(this._broadcast=e).published_time).end-n.start,r.setEssEnriched(!0),r.setVersionId(e.version.id),r.setLength(i),e.episode&&e.episode.id&&r.setEpisodeId(e.episode.id),this._updateMedia(r),o=!0):(this._broadcast=a,this._updateMedia(r),o=!0)),o},t.prototype._updateHeartbeats=function(){var t,e;this._broadcast!==a&&(this._hb3NotSentYet||this._hb5NotSentYet)&&(t=this._playingTime+this._playhead.getPosition(),e=this.getPosition(),3e3<=t&&this._hb3NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",e),this._hb3NotSentYet=!1),5e3<=t&&this._hb5NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",e),this._hb5NotSentYet=!1))},t.prototype._updateMedia=function(t){var e=this.getPosition();this._echoClient.liveMediaUpdate(t,e,this._previousPosition),this._previousPosition=e},t.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},t.prototype.getPosition=function(){return this._broadcast&&this._broadcast!==a?this._playerDelegateTimestamp-this._broadcast.published_time.start+this._playhead.getPosition():this._playhead.getPosition()},t.prototype.getTimestamp=function(){return this._playerDelegateTimestamp+this._playhead.getPosition()},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(14)],void 0===(r=function(i){"use strict";function t(t,e,n){this._playerDelegate=t,this._media=e,this._echoClient=n,this._playhead=new i,this._isStarted=!1,this._interval=null,this._playerDelegatePosition=0,this._playingTime=0,this._currentIntervalMaxPosition=0,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._previousPlayingTime=0}return t.prototype.setPlayhead=function(t){this._playhead=t},t.prototype.start=function(){var t=this;this._isStarted||(this._interval=setInterval(function(){t._update()},1e3),this._isStarted=!0,this._playhead.start())},t.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},t.prototype.setPosition=function(t){"number"==typeof t&&0<=t&&!this.arePositionsWithinTolerance(this.getPosition(),t)&&(this._playerDelegatePosition=t,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),this._currentIntervalMaxPosition=t)},t.prototype.getCurrentIntervalMaxPosition=function(){return this._currentIntervalMaxPosition},t.prototype._update=function(){var t=parseInt(this._playerDelegate.getPosition(),10),e=this.getPosition(),n=this._playingTime+this._playhead.getPosition(),i=Math.abs(n-(this._previousPlayingTime||n));this._previousPlayingTime=n,"number"==typeof t&&t!==this._playerDelegatePosition&&0<t&&(0!==this._playerDelegatePosition&&this.arePositionsWithinTolerance(t,e)||(this._playerDelegatePosition=t,e=this._playerDelegatePosition,this._restartPlayhead())),e>this._currentIntervalMaxPosition&&(this._currentIntervalMaxPosition=e),3e3<=n&&this._hb3NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",e),this._hb3NotSentYet=!1),5e3<=n&&this._hb5NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",e),this._hb5NotSentYet=!1),0<this._media.length&&e>=this._media.length&&this._echoClient.avPauseEvent(this._media.length,{echo_pause_at_media_length:1})},t.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},t.prototype.getPosition=function(){var t=this._playhead.getPosition();return this._playerDelegatePosition+t},t.prototype.getTimestamp=function(){return 0},t.prototype.arePositionsWithinTolerance=function(t,e){var n=t-e;return-1500<=n&&n<=1500},t}.apply(e,i))||(t.exports=r)},function(t,e,i){var n;void 0===(n=function(t){"use strict";var a=i(0),n=i(2),u=i(1),e=i(12),c=i(3),l={};l[c.ECHO_ENABLED]=!0,l[c.ECHO_AUTO_START]=!0,l[c.ECHO_DEVICE_ID]=null,l[c.REPORTING_PROFILE]="PUBLIC_SERVICE",l[c.ECHO_CACHE_MODE]="NEVER",l[c.COMSCORE_ENABLED]=!1,l[c.ATI_ENABLED]=!0,l[c.BARB_ENABLED]=!1,l[c.BARB_DEBUG]=!1,l[c.BARB_SITE_CODE]="bbcdotcom",l[c.TEST_SERVICE_ENABLED]=!1,l[c.USE_ESS]=!1,l[c.ESS_HOSTNAME]="ess.api.bbci.co.uk",l[c.USE_SSC]=!1,l[c.SSC_HOSTNAME]=null;var f={};function d(t){return"string"==typeof t&&0<t.length}function p(t){return"string"==typeof(e=t[c.ECHO_CACHE_MODE])&&(e=e.toUpperCase(),n.EchoCacheMode.hasOwnProperty(e))?u.assert("boolean"==typeof t[c.ECHO_ENABLED],'Config: "enabled" must be boolean, got '+t[c.ECHO_ENABLED])&&u.assert("boolean"==typeof t[c.ECHO_AUTO_START],'Config: "auto_start" must be boolean, got '+t[c.ECHO_AUTO_START])&&u.assert(null===t[c.ECHO_DEVICE_ID]||"string"==typeof t[c.ECHO_DEVICE_ID]&&t[c.ECHO_DEVICE_ID].length,"ECHO.DEVICE_ID must be an non-empty string"):(a.error("Config Error: KEYS.ECHO_CACHE_MODE Invalid cache mode specified"),!1);var e}function _(t){if(!1===t[c.COMSCORE_ENABLED])return!0;if(!d(t[c.REPORTING_PROFILE])){if(!d(t[c.COMSCORE_HOST]))return a.error("Config Error: Must have config value for COMSCORE_HOST or REPORTING_PROFILE"),!1;if("scorecardresearch.com"!==t[c.COMSCORE_HOST]&&"sa.bbc.co.uk"!==t[c.COMSCORE_HOST])return a.error("Config Error: KEYS.COMSCORE_HOST Should be one of scorecardresearch.com or sa.bbc.co.uk"),!1}return"string"==typeof(e=t[c.REPORTING_PROFILE])&&(e=e.toUpperCase(),n.ReportingProfiles.hasOwnProperty(e))?u.assert("boolean"==typeof t[c.COMSCORE_ENABLED],'ComScore config: "ENABLED" must be boolean'):(a.error("Config Error: KEYS.REPORTING_PROFILE Invalid reporting profile specified"),!1);var e}function h(t){return"string"==typeof t&&(t=t.toUpperCase(),n.ReportingProfiles.hasOwnProperty(t))?n.ReportingProfiles[t]:null}function g(t){return"string"==typeof t&&(t=t.toUpperCase(),n.EchoCacheMode.hasOwnProperty(t))?n.EchoCacheMode[t]:null}return f[c.ECHO_NAME]=e.NAME,f[c.ECHO_VERSION]=e.VERSION,{defaultConfig:l,fixedConfig:f,generate:function(t){var e,n;(t=t||{})[c.REPORTING_PROFILE]&&(e=h(t[c.REPORTING_PROFILE])),e||(e=h("PUBLIC_SERVICE")),t[c.ECHO_CACHE_MODE]&&(n=g(t[c.ECHO_CACHE_MODE])),n||(n=g("NEVER"));var i,r,o,s=u.extend(l,!0,e,t||{},f);return p(s)&&_(s)&&(!1===(o=s)[c.BARB_ENABLED]||(d(o[c.BARB_SITE_CODE])?o[c.BARB_SITE_CODE].match(/[a-zA-Z]+/)?"boolean"==typeof o[c.BARB_DEBUG]||(a.error("Config Error: KEYS.BARB_DEBUG must be a boolean"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must match [a-zA-Z]"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must have a value"),0)))&&(r=(i=s)[c.SSC_HOSTNAME],"boolean"!=typeof i[c.USE_SSC]?(a.error("Config Error: KEYS.USE_SSC must be boolean"),0):null===r||".com"===r||".co.uk"===r||(a.error("Config Error: SSC_HOSTNAME must be one of .com, .co.uk or null"),0))?s:null}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,l){var n;void 0===(n=function(t){"use strict";var _=l(7),h=l(3),e=l(35),g=l(8),E=l(1),r=l(36),v=l(2),m="invalid-data",n=l(37),I=l(9),o="sa.bbc.co.uk/bbc",A="scorecardresearch.com",S=[v.ApplicationType.WEB,v.ApplicationType.MOBILE_WEB,v.ApplicationType.RESPONSIVE],i=[_.NO_COOKIES],s=["ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_st","ns_st_pu"];function a(){return-1}function y(t,e,n){return t===A?(i=e)+"//"+("https:"===i?"s":"")+"b."+A+"/p?":e+"//"+o+"/"+n+"/s";var i}function d(t){return null===t?m:t}function p(t){return null!==t&&t.isValueValid()?t.getValue():m}function T(t){var e=t.getMediaConsumptionMode(),n=t.getServiceIdObject(),i=t.getVersionIdObject(),r=t.getClipIdObject(),o=t.getEpisodeIdObject(),s=t.getVpIdObject(),a=t.getNonPipsContentIdObject();return e===v.MediaConsumptionMode.LIVE&&!0===t.isEssEnriched()&&i.isValueValid()?i:e===v.MediaConsumptionMode.LIVE&&n.isValueValid()?n:a.isValueValid()?a:i.isValueValid()?i:r.isValueValid()?r:o.isValueValid()?o:s.isValueValid()?s:n.isValueValid()?n:null}function u(t){var e={},n=T(t),i=d(t.getAvType()),r=d(t.getLength()),o=d(t.getRetrievalType());e[_.MEDIA_PART_NUMBER]=1,e[_.MEDIA_TOTAL_PARTS]=1,e[_.MEDIA_LENGTH]=r,e[_.MEDIA_MEDIUM]=i,e[_.MEDIA_RETRIEVAL_TYPE]=o,null===t.getMediaConsumptionMode()?(e[_.MEDIA_STREAM_TYPE]=m,e[_.MEDIA_LIVE_OR_ONDEMAND]=m):t.isLive()||i!==m?t.isOnDemand()||t.isDownload()?(e[_.MEDIA_STREAM_TYPE]=t.isVideo()?"vod":"aod",e[_.MEDIA_LIVE_OR_ONDEMAND]="on-demand"):(t.isEssEnriched()?e[_.ESS_ENRICHED]="true":(e[_.ESS_ENRICHED]="false",e[_.MEDIA_IS_LIVE]="1"),e[_.MEDIA_STREAM_TYPE]="live",e[_.MEDIA_LIVE_OR_ONDEMAND]="live"):e[_.MEDIA_STREAM_TYPE]=m;var s=t.getVersionIdObject(),a=t.getServiceIdObject(),u=t.getClipIdObject(),c=t.getEpisodeIdObject(),l=t.getNonPipsContentIdObject();if(e[_.MEDIA_PID]=p(n),t.isLive()&&!t.getServiceId()&&!1===t.isEssEnriched()&&(t.getVersionId()||t.getVpId())){var f=t.getVersionId()||t.getVpId();e[_.MEDIA_PID]="unverified_"+f}return l.isValueSet()&&(e[_.MEDIA_NON_PIPS_CONTENT_ID]=p(l)),s.isValueSet()&&(e[_.MEDIA_VERSION_ID]=p(s)),a.isValueSet()&&(e[_.MEDIA_SERVICE_ID]=p(a)),u.isValueSet()&&(e[_.MEDIA_CLIP_ID]=p(u)),c.isValueSet()&&(e[_.MEDIA_EPISODE_ID]=p(c)),function(t){var e=T(t),n=t.getVersionIdObject(),i=t.getEpisodeIdObject(),r=t.getClipIdObject();if(null!==e){var o=e.getIdType();if(t.isLive()){if(o===v.MediaIdType.SERVICE||t.isEssEnriched())return!1}else{if(!(o!==v.MediaIdType.SERVICE||n.isValueSet()||i.isValueSet()||r.isValueSet()))return!0;if(o!==v.MediaIdType.VPID)return!1}}return!0}(t)&&(e[_.MEDIA_AMBIGUOUS_ID]="1"),e}function C(t,e,n,i){var r,o,s,a,u,c,l,f,d,p=n[h.COMSCORE_SITE];this._deviceId=null,this._broker=null,this.media=null,this.SSPlayerEvent=C.StreamSense.PlayerEvents,this.SSPlayerState=C.StreamSense.InternalStates,this._clips=[],this._isEnabled=!0,this._hasStartedAppTag=!1,this._hasCreatedAsset=!1,this._storedAssetLabels={},u=n[h.COMSCORE_HOST],p=n[h.COMSCORE_SITE],this.useSsc=!0===n[h.USE_SSC]&&"sa.bbc.co.uk"!==u,this._deviceId=n[h.ECHO_DEVICE_ID]||void 0,!0!==this.useSsc||this._deviceId||(l=C._createSscHelper({forceBBCHost:n[h.SSC_HOSTNAME]}),this._deviceId=l.getCookieId()),E.containsValue(v.ApplicationType,e)||(e=m),r=y(u,i.getProtocol(),p),!0!==this.useSsc||this._deviceId||(r=l.getLocation().protocol+"//"+l.getSSCHostname()),!0===n[h.TEST_SERVICE_ENABLED]&&(s=r,r=n[h.TEST_SERVICE_URL]+"/comscore",this._isUsingComscoreOTTLibrary&&(o=n[h.TEST_SERVICE_URL]+"/offline")),this._isApp=!E.containsValue(S,e),c=i.getHttpGet(),a=u===A,this._isUsingComscoreOTTLibrary=!(!C.AppTag||!C.AppTag.ns_),this._isUsingComscoreOTTLibrary?(this.appTag=C.AppTag.ns_.comScore,this.appTag.setPlatformAPI(C.AppTag.ns_.PlatformAPIs.html5),c&&(this.appTag.getPlatformAPI().httpGet=c),this.appTag.setPublisherSecret(n[h.COMSCORE_PUBLISHER_SECRET]),this.appTag.setAppContext()):this.appTag=new C.AppTag(c||g._defaultHttpGet,this._isApp,a),this.ss=new C.StreamSense.StreamingAnalytics({liveEndpointURL:r,systemClockJumpDetection:!0}),c&&(this.ss.getPlatformAPI().httpGet=c),a&&(this.appTag.setCustomerC2(n[h.COMSCORE_CUSTOMER_ID]),this.ss.setLabel(_.COMSCORE_CUSTOMER,n[h.COMSCORE_CUSTOMER_ID]),this.addLabel(_.COMSCORE_C1,"2"),this.addLabel(_.COMSCORE_SITE,p)),this.appTag.setPixelURL(r),this._deviceId?this.addLabel(_.DEVICE_ID,this._deviceId):this.useSsc||"sa.bbc.co.uk"!==u||(this._deviceId=I.getCookieValueByName("s1")),!0===n[h.TEST_SERVICE_ENABLED]&&(this.addLabel(_.COMSCORE_ENDPOINT,s),this._isUsingComscoreOTTLibrary&&this.appTag.setOfflineURL(o)),this.addLabel(_.BBC_APPLICATION_NAME,t),this.addLabel(_.BBC_APPLICATION_TYPE,e),this.setCacheMode(n[h.ECHO_CACHE_MODE]),this.addLabel(_.BBC_MEASUREMENT_LIB_NAME,n[h.ECHO_NAME]),this.addLabel(_.BBC_MEASUREMENT_LIB_VERSION,n[h.ECHO_VERSION]),this._isApp?(this._isUsingComscoreOTTLibrary?this.appTag.setAppName(t):this.addLabel(_.APP_NAME,t),this.addLabel(_.APP_PLATFORM_NAME,i.getPlatformName()),this.addLabel(_.APP_PLATFORM_RUNTIME,i.getPlatformRuntimeEnvironment()),this.addLabel(_.APP_OS_VERSION,i.getPlatformOSVersion()),this.addLabel(_.APP_DEVICE_NAME,i.getDeviceName()),this.addLabel(_.APP_SCREEN_RESOLUTION,i.getScreenResolution()),this.addLabel(_.APP_LANGUAGE,i.getLanguage())):this.addLabel(_.WEB_SCREEN_RES,i.getScreenResolution()),this.addLabel(_.ENV_CHAR_SET,i.getCharSet()),this.addLabel(_.ENV_TITLE,i.getTitle()),this.addLabel(_.ENV_REFERRER,i.getReferrer()),-1===i.getURL().indexOf("file:",0)&&this.addLabel(_.ENV_URL,i.getURL()),n[h.ECHO_TRACE]&&this.setTraceId(n[h.ECHO_TRACE]),(f=g.getOrbCookiesPolicy())&&(d="ad"+(f.ads?"1":"0")+"ps"+(f.personalisation?"1":"0")+"pf"+(f.performance?"1":"0"),this.addLabel(_.COOKIE_POLICY,d)),this.addLabel(v.ManagedLabels.BBC_SITE,m),this._mediaIsLive=null,n&&!1===n[h.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}C.prototype.start=function(){this._isEnabled&&!this._hasStartedAppTag&&(this.appTag.start(),this._hasStartedAppTag=!0)},C.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},C.prototype.disable=function(){this._isEnabled&&(this.clearMedia(),this._isEnabled=!1)},C.prototype.getDeviceId=function(){return this._deviceId},C.prototype._buildStreamSenseClip=function(t){var e,n=u(t),i=n[_.MEDIA_PID];for(e=0;e<this._clips.length;e++)if(this._clips[e][_.MEDIA_PID]===i)return this._clips[e];return n[_.MEDIA_CLIP_NUMBER]=this._clips.length+1,this._clips.push(n),n},C.prototype.setTraceId=function(t){this.addLabel(h.ECHO_TRACE,t)},C._createSscHelper=function(t){return new n(t||{})},C.StreamSense=l(38),C.AppTag=l(39);var c="<"+i.join("><")+">";return C.prototype._isExcludedLabel=function(t){return!0===this.useSsc&&!!c.match(new RegExp("<"+t+">"))},C.prototype.addLabels=function(t){this.addProperties(t)},C.prototype.addProperties=function(t){if("object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&this.addProperty(e,t[e])},C.prototype.addLabel=function(t,e){this.addProperty(t,e)},C.prototype.addProperty=function(t,e){!0!==this._isExcludedLabel(t)&&(this.appTag.setLabel(t,e),-1<s.indexOf(t)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(t,e):this._storedAssetLabels[t]=e:this.ss.setLabel(t,e))},C.prototype.addManagedLabel=function(t,e){var n=r.isValidManagedLabel(t,e)?e:m;for(var i in v.ManagedLabels)v.ManagedLabels[i]===t&&this.addLabel(t,n)},C.prototype.removeLabels=function(t){this.removeProperties(t)},C.prototype.removeProperties=function(t){for(var e=0,n=t.length;e<n;e++)this.removeProperty(t[e])},C.prototype.removeLabel=function(t){this.removeProperty(t)},C.prototype.removeProperty=function(t){this.appTag.setLabel(t,null),-1<s.indexOf(t)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(t,null):delete this._storedAssetLabels[t]:this.ss.setLabel(t,null)},C.prototype.setLoggedInToBBCId=function(t){this.addLabel(_.BBC_ID_LOGGED_IN,"1"),t&&0<t.length?this.addManagedLabel(v.ManagedLabels.BBC_HASHED_ID,t):this.removeLabel(v.ManagedLabels.BBC_HASHED_ID)},C.prototype.setLoggedOutOfBBCId=function(){this.removeLabels([_.BBC_ID_LOGGED_IN,v.ManagedLabels.BBC_HASHED_ID])},C.prototype.setAppVersion=function(t){"function"==typeof this.appTag.setAppVersion?this.appTag.setAppVersion(t):t&&this._isApp?this.addLabel(_.APP_VERSION,t.toString()):t&&this.addLabel(_.BBC_APPLICATION_VERSION,t.toString())},C.prototype.setCounterName=function(t){this._isEnabled&&this.addLabel(_.BBC_COUNTER_NAME,t)},C.prototype.setDestination=function(t){this.addLabel(_.DESTINATION,t)},C.prototype.setProducer=function(t){this.addLabel(_.PRODUCER,t)},C.prototype.setContentLanguage=function(t){this.addLabel(_.BBC_LANGUAGE,t)},C.prototype.setCacheMode=function(t){if(this._isUsingComscoreOTTLibrary&&t!==this._cacheMode){switch(t){case v.EchoCacheMode.ALL:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.NEVER),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.NEVER);break;case v.EchoCacheMode.OFFLINE:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.DEFAULT),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.DEFAULT)}this._cacheMode=t}},C.prototype.flushCache=function(){this._isUsingComscoreOTTLibrary&&this.appTag.flushCache()},C.prototype.clearCache=a,C.prototype.viewEvent=function(t,e){if(this._eventsEnabled()){this.addLabel(_.BBC_COUNTER_NAME,t);var n=E.extend(e,!0,_.ECHO_EVENT_NAME,"view");n.name=t,this.appTag.view(n)}},C.prototype.errorEvent=a,C.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled()){var i=E.extend(n,!0,_.USER_ACTION_TYPE,t,_.USER_ACTION_NAME,e,_.ECHO_EVENT_NAME,"userAct");this.appTag.hidden(i)}},C.prototype.setPlayerName=function(t){this.addLabel(_.PLAYER_NAME,t)},C.prototype.setPlayerVersion=function(t){this.addLabel(_.PLAYER_VERSION,t)},C.prototype.setPlayerIsPopped=function(t){this.ss.setLabel(_.PLAYER_POPPED,t?1:0)},C.prototype.setPlayerWindowState=function(t){this.ss.setLabel(_.PLAYER_WINDOW_STATE,t)},C.prototype.setPlayerVolume=function(t){this.ss.setLabel(_.PLAYER_VOLUME,t)},C.prototype.setPlayerIsSubtitled=function(t){this.ss.setLabel(_.PLAYER_SUBTITLED,t?1:0)},C.prototype.setBroker=function(t){return this._broker=t,this},C.prototype.setMedia=function(t){var e,n,i;if(this._eventsEnabled()&&(this.clearMedia(),t)){this.media=t;var r=this._buildStreamSenseClip(this.media),o=(e=this.media,n={},i=T(e),n[_.PLAYLIST_NAME]=null===i?m:i.getValue(),n);this._mediaIsLive=!t.isOnDemand(),this.ss.createPlaybackSession(o),this.ss.getPlaybackSession()&&(this.ss.getPlaybackSession().setAsset(r),this._hasCreatedAsset=!0,this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels))}},C.prototype.liveMediaUpdate=function(t,e,n){E.assert("number"==typeof e,"newPosition must be a number"),E.assert("number"==typeof n,"oldPosition must be a number"),this.media=t;var i=this._buildStreamSenseClip(t);this.ss.notifyEnd(n),this.ss.getPlaybackSession().setAsset(i),this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels),this.ss.notifyPlay(e)},C.prototype.liveEnrichmentFailed=a,C.prototype.setMediaLength=function(t){this._eventsEnabled()&&null!=this.media&&((!t||t<0)&&(t=0),this.ss.getPlaybackSession().getAsset().setLabel(_.MEDIA_LENGTH,t))},C.prototype.avPlayEvent=function(t,e){if(this._eventsEnabled()){var n=E.extend(e,!0,_.ECHO_EVENT_NAME,"avPlay");this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPlay(n,t)}},C.prototype.avPauseEvent=function(t,e){if(this._eventsEnabled()){var n=E.extend(e,!0,_.ECHO_EVENT_NAME,"avPause"),i=this.media.isLive();i&&!1===this.media.isEssEnriched()?t=0:!i&&this._broker&&0===t&&(t=this._broker.getCurrentIntervalMaxPosition()),this.ss.notifyPause(n,t)}},C.prototype.avBufferEvent=function(t,e){this._eventsEnabled()&&(this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyBufferStart(t))},C.prototype.avEndEvent=function(t,e){if(this._eventsEnabled()){var n=E.extend(e,!0,_.ECHO_EVENT_NAME,"avEnd",_.PLAYLIST_END,1);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyEnd(t,n),this.clearMedia()}},C.prototype.avRewindEvent=function(t,e,n){if(this._eventsEnabled()){var i=E.extend(n,!0,_.ECHO_EVENT_NAME,"avRW",_.EVENT_TRIGGERED_BY_USER,"rewind",_.REWIND_FF_RATE,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(t,i)}},C.prototype.avFastForwardEvent=function(t,e,n){if(this._eventsEnabled()){var i=E.extend(n,!0,_.ECHO_EVENT_NAME,"avFF",_.EVENT_TRIGGERED_BY_USER,"fastforward",_.REWIND_FF_RATE,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(i,t)}},C.prototype.avSeekEvent=function(t,e){if(this._eventsEnabled()){var n=E.extend(e,!0,_.ECHO_EVENT_NAME,"avSeek",_.EVENT_TRIGGERED_BY_USER,"seek");this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(t,n)}},C.prototype.avUserActionEvent=function(t,e,n,i){if(this._eventsEnabled()){var r=E.extend(i,!0,_.ECHO_EVENT_NAME,"avUserAct",_.STREAMSENSE_CUSTOM_EVENT_TYPE,t,_.USER_ACTION_TYPE,t,_.USER_ACTION_NAME,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(n=0),this.ss.notifyCustomEvent(n,r)}},C.prototype.clearMedia=function(){this._eventsEnabled()&&(this._clips=[],this._hasCreatedAsset=!1,null!==this.media&&(this.ss.getState()===e.PLAYING&&this.avEndEvent(0),this.media=null))},C.prototype.setDeviceId=a,C.prototype.requiresLabelCleansing=function(){return!0},C.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStartedAppTag},C}.call(e,l,e,t))||(t.exports=n)},function(t,e,n){t.exports={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}},function(t,e,r){var n;void 0===(n=function(t){"use strict";var n=r(2),i=r(1);return{isValidManagedLabel:function(t,e){switch(t){case n.ManagedLabels.IPLAYER_STATE:if("purchased"!==e&&"free"!==e)return!1;break;case n.ManagedLabels.STORE_ED_TYPE:if("archive"!==e&&"standard"!==e)return!1;break;case n.ManagedLabels.IPLAYER_AVAIL:if("avail"!==e&&"unavail"!==e&&"soon"!==e)return!1;break;case n.ManagedLabels.STORE_REFERRAL:if("iplayer"!==e&&"store"!==e)return!1;break;case n.ManagedLabels.BBC_HASHED_ID:if("string"!=typeof e||0===i.trim(e).length)return!1}return!0}}}.call(e,r,e,t))||(t.exports=n)},function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var o,s;function t(t){t=t||{},this.alwaysUseHttps=!0===t.alwaysUseHttps||!1,this.forceBBCHost=!1,this._sscCookieId=void 0,this._s1CookieId=void 0,this._uidCookieId=void 0,".co.uk"===t.forceBBCHost?this.forceBBCHost=".co.uk":".com"===t.forceBBCHost&&(this.forceBBCHost=".com")}return o="ssc.api.bbc.co.uk",s="ssc.api.bbc.com",t.prototype.getCookie=function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},t.prototype.getLocation=function(){return window.location},t.prototype.getCookieId=function(){var t,e,n,i,r;return e=this.getSSCHostname(),n=this.getLocation(),i=e===o&&-1!==n.hostname.search(/bbc.co.uk$/),r=e===s&&-1!==n.hostname.search(/bbc.com$/),(i||r)&&null==(t=this.getSSCCookieId())&&(i?t=this.getS1CookieId():r&&(t=this.getUidCookieId())),t},t.prototype.getS1CookieId=function(){return void 0===this._s1CookieValue&&(this._s1CookieValue=this.getCookie("s1")),this._s1CookieValue},t.prototype.getUidCookieId=function(){return void 0===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckns_uid"),null===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckpf_uid"))),this._uidCookieValue},t.prototype.getSSCCookieId=function(){return void 0===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckns_sscid"),null===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckpf_sscid"))),this._sscCookieValue},t.prototype.isValidId=function(t){var e;return e=!1,"string"==typeof t&&-1!==t.search(/^[^(?!<>\s)]+$/)&&(e=!0),e},t.prototype.getAnalyticsLocation=function(t,e){var n,i,r,o,s;return this.getSSCHostname(),i=this.getLocation(),n={sscId:void 0},"string"!=typeof t&&(t=""),void 0!==e&&!1!==this.isValidId(e)||(e=this.getCookieId()),this.alwaysUseHttps||"https:"===i.protocol?n.protocol="https:":n.protocol="http:",o=-1!==t.search(/ns_alias=/),s=this.isValidId(e),n.hostname=o||s?this.getScorecardresearchHostname():this.getSSCHostname(),s&&(t=""===t?"?ns_alias="+e:(r=t.search(/\?/)+1,[t.slice(0,r),"ns_alias="+e+"&",t.slice(r)].join("")),n.sscId=e),n.search=t,-1!==n.hostname.search(/scorecardresearch.com$/)?n.pathname="/p":n.pathname="/",n.href=n.protocol+"//"+n.hostname+n.pathname+n.search,n},t.prototype.getSSCHostname=function(){var t;return t=this.getLocation(),".com"===this.forceBBCHost||".co.uk"!==this.forceBBCHost&&-1===t.hostname.search(/bbc\.co\.uk$/)?s:o},t.prototype.getScorecardresearchHostname=function(){return"https:"===this.getLocation().protocol?"sb.scorecardresearch.com":"b.scorecardresearch.com"},t})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){(function(n,E){t.exports=function r(o,s,a){function u(n,t){if(!s[n]){if(!o[n]){if(c)return c(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(t){var e=o[n][1][t];return u(e||t)},i,i.exports,r,o,s,a)}return s[n].exports}for(var c=!1,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){var u=t(24),c=t(26),l=t(36);e.exports=function(e){var t=this,n=!1,i=-1,r=null;function o(t){i=t,e.t().set("plannedFlushTime",t+"")}function s(){e.flush(),o(-1),t.i()}function a(){r&&(l.clearTimeout(r),r=null)}u.extend(t,{start:function(){n=!0,!r&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.t().has("plannedFlushTime")&&(i=c.o(e.t().get("plannedFlushTime"),-1)),t.i())},stop:function(){n=!1,a()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!r&&n?(o(-1),t.start()):null!=r&&(o(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),r&&(l.clearTimeout(r),t.i())):(o(-1),a())},i:function(){i<0&&o(+new Date+1e3*e.getCacheFlushingInterval()),r=l.setTimeout(s,i-+new Date)}})}},{24:24,26:26,36:36}],2:[function(t,e,n){var i=t(5),r=t(8).TransmissionMode,o=t(8).u,s=new i,a={TransmissionMode:r,getCore:function(){return s},setAppContext:function(t){s.setAppContext(t)},setEnabled:function(t){s.setEnabled(t)},getEnabled:function(){return s.getEnabled()},onUxActive:function(){s.onUxActive()},onUxInactive:function(){s.onUxInactive()},onEnterForeground:function(){s.onEnterForeground()},onExitForeground:function(){s.onExitForeground()},onUserInteraction:function(){s.onUserInteraction()},update:function(){s.update()},enableAutoUpdate:function(t,e){s.enableAutoUpdate(t,void 0===e||e)},disableAutoUpdate:function(){s.disableAutoUpdate()},isAutoUpdateEnabled:function(){return s.isAutoUpdateEnabled()},start:function(t){s.s(o.l,t||{})},view:function(t){s.s(o.v,t||{})},hidden:function(t){s.s(o.HIDDEN,t||{})},close:function(t){s.s(o.h,t)},aggregate:function(t){s.s(o._,t)},getPixelURL:function(){return s.getPixelURL()},setPixelURL:function(t){s.setPixelURL(t)},getCustomerC2:function(){return s.getCustomerC2()},setCustomerC2:function(t){s.setCustomerC2(t)},getAppName:function(){return s.getAppName()},setAppName:function(t){s.setAppName(t)},getAppVersion:function(){return s.getAppVersion()},setAppVersion:function(t){s.setAppVersion(t)},getGenesis:function(){return s.getGenesis()},getVisitorID:function(){return s.getVisitorId()},setVisitorId:function(t,e){s.setVisitorId(t,e)},getCrossPublisherId:function(){return s.getCrossPublisherId()},getOfflineTransmissionMode:function(){return s.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){s.allowOfflineTransmission(t)},getLiveTransmissionMode:function(){return s.getLiveTransmissionMode()},allowLiveTransmission:function(t){s.allowLiveTransmission(t)},getPublisherSecret:function(){return s.g()},setPublisherSecret:function(t){s.m(t)},flushCache:function(){s.flush()},clearOfflineCache:function(){s.I().clear()},setLabel:function(t,e){s.setLabel(t,e)},getLabel:function(t){return s.getLabel(t)},setLabels:function(t){s.setLabels(t)},getLabels:function(){return s.getLabels()},setAutoStartLabels:function(t){s.setAutoStartLabels(t)},getAutoStartLabel:function(t){return s.getAutoStartLabel(t)},getAutoStartLabels:function(){return s.getAutoStartLabels()},setAutoStartLabel:function(t,e){s.setAutoStartLabel(t,e)},isKeepAliveEnabled:function(){return s.S().isEnabled()},setKeepAliveEnabled:function(t){s.setKeepAliveEnabled(!!t)},setCacheMaxMeasurements:function(t){s.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return s.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(t){s.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return s.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(t){s.setCacheMaxFlushesInARow(t)},getCacheMaxFlushesInARow:function(){return s.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(t){s.setCacheMinutesToRetry(t)},getCacheMinutesToRetry:function(){return s.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(t){s.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return s.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return s.getCacheFlushingInterval()},setCacheFlushingInterval:function(t){s.setCacheFlushingInterval(t)},setSecure:function(t){s.setSecure(t)},isSecure:function(){return s.isSecure()},getMeasurementLabelOrder:function(){return s.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){s.setMeasurementLabelOrder(t)},setAutoStartEnabled:function(t){s.setAutoStartEnabled(t)},isAutoStartEnabled:function(){return s.isAutoStartEnabled()},getVersion:function(){return s.getVersion()},getPlatformAPI:function(){return s.getPlatformAPI()},setPlatformAPI:function(t){s.setPlatformAPI(t)},setOfflineURL:function(t){s.setOfflineURL(t)},clearInternalData:function(){s.clearInternalData()},cacheHttpRedirects:function(){s.cacheHttpRedirects()}};e.exports=a},{5:5,8:8}],3:[function(t,e,n){var d=t(24),p=t(36),_=t(8).TransmissionMode;e.exports=function(e){var n,i=1e3,r=!1,o=null,s=null,a=-1;function u(){e.flush(),a=-1,o=null}function c(){o&&(p.clearTimeout(o),o=null)}function l(t){var e=+new Date;r?(c(),(a<e||a<0||!t)&&(a=e+3e4),o=p.setTimeout(u,a-e)):a<0&&(a=e+3e4)}function f(){var t=p.isConnectionAvailable();t!=n&&((n=t)?e.getOfflineTransmissionMode()!=_.NEVER&&e.getOfflineTransmissionMode()!=_.DISABLED&&l(!1):(c(),a=-1)),r&&(s=p.setTimeout(f,i))}d.extend(this,{start:function(){r=!0,n&&0<a&&l(!0),s=p.setTimeout(f,i)},stop:function(){p.clearTimeout(s),s=null,r=!1,c()}})}},{24:24,36:36,8:8}],4:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",P:2048,A:4096,C:"previousVersion",k:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(t,e,n){var At=t(8).T,St=t(8).N,yt=t(4),Tt=t(26),i=t(17),Ct=t(8).u,bt=t(36),Pt=t(21),Ot=t(24),Rt=t(22),Nt=t(25),Dt=t(6),Lt=t(11),wt=t(7),Bt=t(9),Mt=t(12).L,Ut=t(1),xt=t(3),kt="undefined",Vt=i.D,Gt="http://b.scorecardresearch.com/p2?",Ft="https://sb.scorecardresearch.com/p2?",Ht="exitCode",jt="lastApplicationAccumulationTimestamp",Wt="lastSessionAccumulationTimestamp",Yt="lastApplicationSessionTimestamp",Kt="lastUserSessionTimestamp",zt="lastActiveUserSessionTimestamp",qt="foregroundTransitionsCount",$t="accumulatedForegroundTime",Qt="accumulatedBackgroundTime",Xt="accumulatedInactiveTime",Zt="totalForegroundTime",Jt="totalBackgroundTime",te="totalInactiveTime",ee="accumulatedApplicationSessionTime",ne="accumulatedActiveUserSessionTime",ie="accumulatedUserSessionTime",re="activeUserSessionCount",oe="userSessionCount",se="lastUserInteractionTimestamp",ae="userInteractionCount",ue="applicationSessionCountKey",ce="genesis",le="previousGenesis",fe="installId",de="firstInstallId",pe="currentVersion",_e="runs",he="coldStartCount",ge="crossPublisherIdHashed",Ee="crossPublisherId";e.exports=function(){var e,r,a,u,c,l,n,i,o,s,f,t,d,p,_,h,g,E,v,m,I,A,S,y,T,C,b,P,O,R,N,D,L,w,B,M,U,x,k,V,G,F,H,j,W,Y,K,z,q,$,Q,X,Z,J,tt=this,et=!0,nt=!1,it=!0,rt=At.R,ot=St.R,st=!1,at=!1,ut=!1,ct=!0,lt=!1,ft=0;function dt(t){return r.has(t)?r.get(t)+"":null}function pt(){var t=+new Date,e=!1;return 18e5<t-U&&(O=P,P=t,w++,e=!0),U=t,e}function _t(t){if(Z){t=typeof t===kt||t;var e=+new Date,n=e-R;switch(rt){case At.H:C+=n,A+=n;break;case At.Y:T+=n,S+=n;break;case At.R:b+=n,y+=n}R=e,t&&(r.set(jt,R+""),r.set(qt,I+""),r.set($t,C+""),r.set(Qt,T+""),r.set(Xt,b+""),r.set(Zt,A+""),r.set(Jt,S+""),r.set(te,y+""))}}function ht(t){if(Z){t=typeof t===kt||t;var e=+new Date,n=e-F;switch(ot){case St.F:L+=n,k=e;case St.G:D+=n,x=e;case St.K:N+=n,U=e;break;case St.R:}F=e,t&&(r.set(Wt,F+""),r.set(Yt,U+""),r.set(Kt,x+""),r.set(zt,k+""),r.set(ee,N+""),r.set(ne,L+""),r.set(ie,D+""),r.set(re,M+""),r.set(oe,B+""),r.set(se,G+""),r.set(ae,V+""),r.set(le,O+""),r.set(ce,P+""),r.set(ue,w+""))}}function gt(){if(Z){var t,e,n=+new Date;t=0<v?At.H:0<m?At.Y:At.R,e=n-G<3e5?St.F:0<m?St.G:0<v?St.K:St.R;var i,r=rt,o=ot;if(t!=r||e!=o){var s=!1;r!=t&&(function(t){if(Z)switch(t){case At.R:c.J(!1),a.X(),a.Z(),l.start(),u.start();break;case At.Y:mt();break;case At.H:tt.nn(null),mt()}}(rt),function(t){if(Z)switch(t){case At.R:l.stop(),a.pause(),u.stop(),mt(),c.J(!0);break;case At.Y:et||vt();break;case At.H:vt(),I++}}(t),_t(),rt=t,s=!0),o!=e&&(function(t){if(Z){var e=+new Date;switch(t){case St.F:null!=H&&(bt.clearTimeout(H),H=null),k=e;case St.G:x=e;case St.K:U=e;break;case St.R:pt()||(N+=e-F)}}}(ot),function(t){if(Z)switch(t){case St.F:3e5<=(n=+new Date)-k&&M++,k=n,tt.j();case St.G:3e5<=(e=+new Date)-x&&B++,x=e;case St.K:pt();break;case St.R:}var e,n}(e),ht(),ot=e),s&&(i=rt,Z&&i!=At.R&&tt.isAutoStartEnabled()&&!nt&&tt.s(Ct.l,X))}}}function Et(t,e){Z&&(Pt.tn(t)?(e=Pt.tn(e)?"-cs"+e:"",W=t+e):null==W&&lt&&(W=Rt(bt.getVisitorId()+tt.g()),"function"==typeof bt.getVisitorIdSuffix&&null!=bt.getVisitorIdSuffix()&&(W=W+"-cs"+bt.getVisitorIdSuffix())),r.set("vid",W+""))}function vt(){if(Z){mt();var t=function(){tt.update(),null!=i&&bt.setTimeout(t,s)};i=bt.setTimeout(t,s)}}function mt(){Z&&null!=i&&(bt.clearTimeout(s),i=null)}function It(){return!lt||null==z||0===z.length||null==j||0===j.length}Ot.extend(tt,{isProperlyInitialized:function(){return!It()},reset:function(){Z&&(n.reset(),rt=At.R,ot=St.R,nt=!1,g=h=null,$=V=O=D=L=N=b=C=T=y=S=A=m=v=d=f=0,at=st=!(_=p=k=x=U=F=R=G=B=M=P=p=_=t=-1),tt.disableAutoUpdate(),null!=H&&(bt.clearTimeout(H),H=null),null!=a&&a.cancel(),null!=u&&u.stop(),null!=c&&(c.en(),c=new wt(tt)))},M:function(t){r=t||new bt.Storage},O:function(t){e=t||new Mt(tt)},W:function(t){u=t||new Ut(tt)},V:function(t){l=new xt(tt)},in:function(){var t=dt("AppName");null!=t&&tt.setAppName(t);var e=dt("AppVersion");null!=e&&tt.setAppVersion(e)},rn:function(){Z&&r.has("vid")&&(W=r.get("vid"))},un:function(){Z&&(f++,r.set(_e,f+""))},sn:function(){return!nt&&(nt=!0,d++,r.set(he,d+""),t=+new Date,!0)},j:function(){Z&&(null!=H&&(bt.clearTimeout(H),H=null),H=bt.setTimeout(function(){null!=H&&(bt.clearTimeout(H),H=null),gt()},3e5))},I:function(){return e},an:function(){return l},t:function(){return r},fn:function(){return c},S:function(){return a},cn:function(){return u},ln:function(){return n},onUxActive:function(){Z&&(It()||(B<0&&(B=0),m++,gt()))},onUxInactive:function(){Z&&(It()||0<m&&(m--,gt()))},onEnterForeground:function(){Z&&(It()||(v++,gt()))},onExitForeground:function(){Z&&(It()||0<v&&(v--,gt()))},onUserInteraction:function(){Z&&(It()||(B<0&&(B=0),M<0&&(M=0),G=+new Date,V++,ot!=St.F?gt():tt.j()))},pn:function(){return rt},vn:function(){return ot},dn:function(){return f},hn:function(){return p},_n:function(){return _},gn:function(){return t},mn:function(){return d},wn:function(){return g},yn:function(t){g=t},bn:function(t){var e=I;return(t=typeof t===kt||t)&&(I=0,r.set(qt,I+"")),e},In:function(t){var e=A;return(t=typeof t===kt||t)&&(A=0,r.set(Zt,A+"")),e},Sn:function(t){var e=C;return(t=typeof t===kt||t)&&(C=0,r.set($t,C+"")),e},Pn:function(t){var e=S;return(t=typeof t===kt||t)&&(S=0,r.set(Jt,S+"")),e},An:function(t){var e=T;return(t=typeof t===kt||t)&&(T=0,r.set(Qt,T+"")),e},Cn:function(t){var e=y;return(t=typeof t===kt||t)&&(y=0,r.set(te,y+"")),e},kn:function(t){var e=b;return(t=typeof t===kt||t)&&(b=0,r.set(Xt,b+"")),e},En:function(t){var e=N;return(t=typeof t===kt||t)&&(N=0,r.set(ee,N+"")),e},Tn:function(t){var e=L;return(t=typeof t===kt||t)&&(L=0,r.set(ne,L+"")),e},Nn:function(t){var e=D;return(t=typeof t===kt||t)&&(D=0,r.set(ie,D+"")),e},Ln:function(){return s},Dn:function(t){var e=w;return(t=typeof t===kt||t)&&(w=0,r.set(ue,w+"")),e},Rn:function(t){t=typeof t===kt||t;var e=-1;return 0<=M&&(e=M,t&&(M=0,r.set(re,M+""))),e},Mn:function(t){t=typeof t===kt||t;var e=-1;return 0<=B&&(e=B,t&&(B=0,r.set(oe,B+""))),e},On:function(t){var e=V;return(t=typeof t===kt||t)&&(V=0,r.set(ae,V+"")),e},setAppContext:function(){lt||(bt.autoDetect(),tt.M(),c=new wt(tt),a=new Bt(tt),tt.O(),tt.W(),tt.V(),o=new Lt(tt),n=new Dt,function(){R=Tt.o(r.get(jt),-1),F=Tt.o(r.get(Wt),-1),U=Tt.o(r.get(Yt),-1),x=Tt.o(r.get(Kt),-1),k=Tt.o(r.get(zt),-1),I=Tt.U(r.get(qt)),C=Tt.o(r.get($t)),T=Tt.o(r.get(Qt)),b=Tt.o(r.get(Xt)),A=Tt.o(r.get(Zt)),S=Tt.o(r.get(Jt)),y=Tt.o(r.get(te)),N=Tt.o(r.get(ee)),L=Tt.o(r.get(ne)),D=Tt.o(r.get(ie)),M=Tt.U(r.get(re),-1),B=Tt.U(r.get(oe),-1),G=Tt.o(r.get(se),-1),V=Tt.U(r.get(ae),0),w=Tt.U(r.get(ue),0),$=r.get(Ht)?parseInt(r.get(Ht)):0,h=bt.getAppVersion(),O=Tt.o(r.get(le),0),(P=Tt.o(r.get(ce),-1))<0?(P=+new Date,O=0,U=P,w++):(pt()||(N+=+new Date-F,r.set(ee,N+"")),U=P),(_=Tt.o(r.get(de),-1))<0?(p=_=P,h&&h!=Vt&&r.set(pe,h+""),r.set(de,_+""),r.set(fe,p+"")):tt.setAppVersion(h),r.set(ce,P+""),r.set(le,O+""),tt.B(P);var t=+new Date;if(0<=R){var e=t-R;b+=e,r.set(Xt,b+""),y+=e,r.set(te,y+"")}F=R=t,r.set(jt,R+""),r.set(Wt,F+""),r.set(Yt,U+""),r.has(_e)||r.set(_e,"0"),f=Tt.U(r.get(_e)),d=Tt.U(r.get(he))}(),tt.in(),tt.rn(),lt=!0)},setEnabled:function(t){Z&&null!=t&&!t&&(Z=!1,u.stop(),l.stop(),a.pause())},getEnabled:function(){return Z},Wn:function(){return{}},Vn:function(){return E},nn:function(t){E=t},setPixelURL:function(t){if(Z){if(null==t||0===t.length)return null;st=!0;var e=t.indexOf("?");if(0<=e){if(e<t.length-1){for(var n=t.substring(e+1).split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");2==o.length?tt.setLabel(o[0],o[1]):1==o.length&&tt.setLabel(yt.PAGE_NAME_LABEL,o[0])}t=t.substring(0,e+1)}}else t+="?";return j=t}},setKeepAliveEnabled:function(t){Z&&a.xn(t)},getPixelURL:function(){return j},getCrossPublisherId:function(){return Y},isCrossPublisherIdChanged:function(){return bt.isCrossPublisherIdChanged()||ut},getVisitorId:function(){return null==W&&Et(),W},setVisitorId:Et,Un:function(){var t=(bt.getCrossPublisherId()||"null").split(" "),e=t[0]&&"null"!=t[0]?t[0]:null,n="true"==t[1];if(null!=e){Y||(K=r.get(ge),Y=r.get(Ee));var i=null;Y?"none"==e&&"none"==Y||!ct&&"none"==Y||"none"!=e&&(i=Rt(e))==K||(Y=n?"none"==e?(K=null,"none"):(K=i,Nt(e)):(ut=!0,ct&&"none"!=e?(K=Rt(e),Nt(e)):(K=null,"none")),r.set(Ee,Y),null==K?r.remove(ge):r.set(ge,K)):(Y="none"==e?(K=null,"none"):(K=Rt(e),Nt(e)),r.set(Ee,Y),null==K?r.remove(ge):r.set(ge,K)),ct=!1}else Y=K=null},m:function(t){return null==t||0===t.length||(z=t),tt},g:function(){return null==z&&(z=""),z},setAppName:function(t){Z&&(q=t)},getAppName:function(){return null!=q&&0!==q.length||tt.setAppName(bt.getAppName()),q},setAppVersion:function(t){var e;r&&(t&&t!=Vt?(r.has(yt.C)&&(g=r.get(yt.C)+""),r.has(pe)&&(e=r.get(pe)+""),e&&e!==t?(g=e,r.set(yt.C,g+""),p=P,r.set(fe,p+"")):p=Tt.o(r.get(fe),-1),r.set(pe,t+"")):p=Tt.o(r.get(fe),-1)),h=t},getAppVersion:function(){return h},getVersion:function(){return"6.2.3.180328"},getGenesis:function(){return P},Bn:function(){return O},B:function(t){r.set(Ht,t.toString(10))},Fn:function(){return $},getLabels:function(){return Q},setLabels:function(t){if(Z)for(var e in t)t.hasOwnProperty(e)&&tt.setLabel(e,t[e])},getLabel:function(t){return Q[t]},setLabel:function(t,e){Z&&(!t||e?Q[t]=e:delete Q[t])},setAutoStartLabels:function(t){Z&&null!=t&&Ot.extend(X,t)},getAutoStartLabel:function(t){return X[t]},getAutoStartLabels:function(){return X},setAutoStartLabel:function(t,e){Z&&(X[t]=e)},getCustomerC2:function(){return Q.c2},setCustomerC2:function(t){if(Z&&null!=t&&0!==t.length){var e=n.isSecure()?Ft:Gt;tt.setPixelURL(e),st=!1,tt.setLabel("c2",t)}},getLiveTransmissionMode:function(){return n.getLiveTransmissionMode()},allowLiveTransmission:function(t){Z&&n.getLiveTransmissionMode()!=t&&n.allowLiveTransmission(t)},getOfflineTransmissionMode:function(){return n.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){Z&&n.getOfflineTransmissionMode()!=t&&n.allowOfflineTransmission(t)},setSecure:function(t){Z&&(this.getCustomerC2()||(at=!0,n.isSecure()!=t&&n.setSecure(t)))},jn:function(t){if(!at&&(n.setSecure(!!t),null!=c&&c.Gn(Dt.Kn,!!t),tt.getCustomerC2()&&!st)){var e=n.isSecure()?Ft:Gt;tt.setPixelURL(e),st=!1}},setAutoStartEnabled:function(t){Z&&(it=t)},isAutoStartEnabled:function(){return it},isSecure:function(){return n.isSecure()},setCacheMaxMeasurements:function(t){null!=e&&e.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return null!=e?e.getCacheMaxMeasurements():Mt.qn},setCacheMaxBatchFiles:function(t){null!=e&&e.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return null!=e?e.getCacheMaxBatchFiles():Mt.Hn},setCacheMaxFlushesInARow:function(t){null!=e&&e.Yn(t)},getCacheMaxFlushesInARow:function(){return null!=e?e.Jn():Mt.zn},setCacheMinutesToRetry:function(t){null!=e&&e.Qn(t)},getCacheMinutesToRetry:function(){return null!=e?e.Xn():Mt.Zn},setCacheMeasurementExpiry:function(t){null!=e&&e.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return null!=e?e.getCacheMeasurementExpiry():Mt.$n},getCacheFlushingInterval:function(){return ft},setCacheFlushingInterval:function(t){Z&&ft!=t&&(ft=t,null!=u&&u.update())},getMeasurementLabelOrder:function(){return n.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){Z&&t!=n.getMeasurementLabelOrder()&&n.setMeasurementLabelOrder(t)},flush:function(){e.flush(n,function(){})},update:function(t){Z&&(_t(t=typeof t===kt||t),ht(t))},enableAutoUpdate:function(t,e){Z&&(t=t||60,mt(),t<60&&(t=60),et=e,s=1e3*t,rt==At.H?vt():rt!=At.Y||et||vt())},disableAutoUpdate:function(){Z&&(mt(),et=!0,s=-1)},isAutoUpdateEnabled:function(){return 0<s},s:function(t,e){Z&&(It()||(nt||t==Ct.l||o.send(Ct.l,{},st?j:null),t==Ct.h?(tt.B(0),tt.update(!0)):o.send(t,e,st?j:null)))},nt:function(t,e){o.send(Ct.HIDDEN,t,e)},setOfflineURL:function(t){Z&&e.tt(t)},getPlatformAPI:function(){return bt},setPlatformAPI:function(t){bt.setPlatformAPI(t)},et:function(){return o},clearInternalData:function(){r&&r.clear()},cacheHttpRedirects:function(t){J=t},it:function(){return J}}),n=new Dt,Q={},X={},J=Z=!0,tt.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(t,e,n){var o=t(24),s=t(8).TransmissionMode,a=t(36),u=t(4);function i(){var e,n,i,r;o.extend(this,{reset:function(){e=s.DEFAULT,n=s.DEFAULT,i=a.isConnectionSecure(),r=u.k},rt:function(t){e=t.getLiveTransmissionMode(),n=t.getOfflineTransmissionMode(),r=t.getMeasurementLabelOrder(),i=t.isSecure()},ot:function(t,e){switch(t){case 0:this.allowLiveTransmission(e);break;case 1:this.allowOfflineTransmission(e);break;case 2:this.setSecure(e);break;case 3:this.setMeasurementLabelOrder(e)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return n},allowOfflineTransmission:function(t){null!=t&&(n=t)},isSecure:function(){return i},setSecure:function(t){i=t},getMeasurementLabelOrder:function(){return r},setMeasurementLabelOrder:function(t){null!=t&&0<t.length&&(r=t)}}),this.reset()}i.ut=0,i.st=1,i.Kn=2,i.at=3,e.exports=i},{24:24,36:36,4:4,8:8}],7:[function(t,e,n){var r=t(24),g=t(13),o="q_dcf",E="q_dcc";e.exports=function(s){var n,a,i,u,c,t,l=[],f=!1;function d(t){return t-a<1e3&&20<=n}function p(t){return t-u<864e5&&6e3<=i}function _(t){864e5<t-u&&(i=0,u=t),1e3<t-a&&(n=0,a=t),i++,n++;var e=s.t();e.set(E,i+""),e.set(o,u+"")}function h(){var t,e=+new Date;if(f)for(;l.length;){var n=l.shift();i=n,s.I().ft(i)}else{for(var i,r,o;l.length&&!d(o=e)&&!p(o);)_(e),n=l.shift(),r=n,new g(s,s.ln(),r).send();t=e,l.length&&(c||(d(t)?c=s.getPlatformAPI().setTimeout(function(){c=null,h()},a+1e3-t):p(t)&&(c=s.getPlatformAPI().setTimeout(function(){c=null,h()},u+864e5-t))))}}r.extend(this,{ct:function(t){s.getEnabled()&&(l.push(t),h())},en:function(){s.getPlatformAPI().clearTimeout(c),l.length=0},J:function(t){f=t,s.getPlatformAPI().clearTimeout(c),h()}}),u=(t=s.t()).has(E)&&t.has(o)?(i=parseInt(t.get(E)),parseInt(t.get(o))):(i=0,+new Date),n=0,a=+new Date}},{13:13,24:24}],8:[function(t,e,n){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(t){return null==t||"DEFAULT"==t?i.DEFAULT:"NEVER"==t?i.NEVER:"WIFIONLY"==t?i.WIFIONLY:"PIGGYBACK"==t?i.PIGGYBACK:"DISABLED"==t?i.DISABLED:void 0}};n.TransmissionMode=i,n.N={R:0,K:1,G:2,F:3},n.T={R:0,Y:1,H:2},n.u={l:"start",v:"view",h:"close",_:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(t,e,n){var u=t(36),c=t(8).u,l=t(24);e.exports=function(t){var e=this,n=null,i=NaN,r=!0,o=864e5;function s(){i=+new Date+o,a()}function a(){t.et().send(c.KEEPALIVE)}l.extend(e,{xn:function(t){(r=t)?(e.X(),e.Z()):e.cancel()},isEnabled:function(){return r},Z:function(){r&&(e.cancel(),i=+new Date+o,n=u.setInterval(s,o))},X:function(){if(r){var t=+new Date;i&&i<=t&&a()}},pause:function(){e.cancel()},cancel:function(){n&&(u.clearInterval(n),n=null)}})}},{24:24,36:36,8:8}],10:[function(t,e,n){var l=t(24),i=t(21),a=t(8).u,r=t(17),u=t(36),s=t(4),I="undefined",o=r.D,f=typeof encodeURIComponent!=I?encodeURIComponent:escape,c=function(t){return i.lt(t)?t:o},d=function(t){return t==a.l||t==a.h||t==a.v?a.v:a.HIDDEN};function p(t){var e,c={};l.extend(this,{pt:function(t){delete c[t]},vt:function(t){if(null!=t)for(var e in t)t.hasOwnProperty(e)&&this.setLabel(e,t[e])},setLabel:function(t,e){c[t]=e},getLabel:function(t){return c[t]},getLabels:function(){return c},dt:function(t){return c.hasOwnProperty(t)},ht:function(t){for(var e=[],n=l.extend({},c),i=0,r=t.length;i<r;i++){var o=t[i],s=n[o];null!=s&&""!==s&&(e.push("&",f(o),"=",f(s)),delete n[o])}for(var a in n)if(n.hasOwnProperty(a)){var u=n[a];null!=u&&""!==u&&e.push("&",f(a),"=",f(n[a]))}return 0<(e=e.join("")).length&&"&"==e.charAt(0)?e.substring(1):e},setPixelURL:function(t){e=t},getPixelURL:function(){return e}}),t&&this.setPixelURL(t.getPixelURL())}function _(t,e,n,i){if(p.call(this,t),t){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",c(t.getAppName())),this.setLabel("ns_ap_pn",c(u.getPlatformName())),this.setLabel("ns_ap_pv",c(u.getRuntimeVersion())),this.setLabel("c12",t.getVisitorId()),t.Un();var r=t.getCrossPublisherId();r&&(this.setLabel("ns_ak",r),t.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",c(u.getDeviceModel())),this.setLabel("ns_ap_ar",c(u.getDeviceArchitecture())),this.setLabel("ns_radio",c(u.getConnectionType())),this.setLabel("ns_type",d(e)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",c(u.getPlatformVersion())),this.setLabel("ns_ap_pfm",c(u.getRuntimeName())),this.setLabel("ns_ap_ev",e),this.setLabel("ns_ap_ver",c(t.getAppVersion())),this.setLabel("ns_ap_sd",u.getDisplayResolution()),this.setLabel("ns_ap_res",u.getApplicationResolution()),this.setLabel("ns_ap_lang",u.getLanguage()),this.setLabel("ns_ap_sv",t.getVersion()),e==a.KEEPALIVE&&this.setLabel("ns_ap_oc",t.I()._t()+"");var o=t.gn(),s=t.mn();this.setLabel("ns_ap_id",o+""),this.setLabel("ns_ap_cs",s+""),this.setLabel("ns_ap_bi",u.getPackageName()),this.setLabel("ns_ap_jb",c(u.getDeviceJailBrokenFlag()))}}function h(t,e,n,i){_.call(this,t,e,n,i),this.setLabel("ns_ap_gs",t._n()+""),this.setLabel("ns_ap_install",t.hn()+""),this.setLabel("ns_ap_runs",t.dn()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",t.Bn()+"");var r=t.Fn();0<r&&this.setLabel("ns_ap_miss",r.toString());var o=t.wn();o&&(this.setLabel("ns_ap_updated",o+""),t.t().remove(s.C),t.yn(null)),this.setLabel("ns_ap_jb",c(u.getDeviceJailBrokenFlag()))}_.gt=function(t,e){var n=e.wt,i=e.yt,r=e.bt;if(i=typeof i===I||i,r=typeof r===I||r,t.update(r),r){var o=t.bn(),s=t.In(n),a=t.Sn(i),u=t.Pn(n),c=t.An(i),l=t.Cn(n),f=t.kn(i),d=t.En(i),p=t.Tn(i),_=t.Nn(i),h=t.Ln(),g=t.Dn(i),E=t.Rn(i),v=t.Mn(i),m=t.On(i);e.labels.ns_ap_fg=o+"",e.labels.ns_ap_ft=s+"",e.labels.ns_ap_dft=a+"",e.labels.ns_ap_bt=u+"",e.labels.ns_ap_dbt=c+"",e.labels.ns_ap_it=l+"",e.labels.ns_ap_dit=f+"",e.labels.ns_ap_ut=h+"",e.labels.ns_ap_as=g+"",e.labels.ns_ap_das=d+"",0<=E&&(e.labels.ns_ap_aus=E+"",e.labels.ns_ap_daus=p+"",e.labels.ns_ap_uc=m+""),0<=v&&(e.labels.ns_ap_us=v+"",e.labels.ns_ap_dus=_+""),e.labels.ns_ap_usage=e.It-t.getGenesis()+""}e.labels.ns_ts=e.It+""},_.prototype=new p,_.St=function(t,e,n,i){var r=t.et(),o=r.Pt(e,n,i);return r.At(o)},h.prototype=new _,e.exports.Ct=p,e.exports.kt=_,e.exports.Et=h},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(t,e,n){var c=t(10).kt,l=t(10).Et,f=t(36),d=t(8).u,p=t(8).T,_=t(4),h=t(14).Tt;e.exports=function(o){var r=this,i=0,s=[],e=!1,a=0,u={};r.Nt=function(){i++;var e=!1;return function(t){e||(e=!0,i--,t&&r.Lt())}},r.Dt=function(){if(!e){var t=r.Nt();e=!0,f.onDataFetch(function(){t(!(e=!1))},function(){t(e=!1)})}},r.Lt=function(){if(!(0<i)){for(var t=0;t<s.length;++t){var e=s[t],n=r.At(e);r.Rt(e,n)}s.length=0}},r.Mt=function(t){s.push(t),r.Dt()},r.Rt=function(t,e){o.fn().ct(e),o.S().Z()},r.send=function(t,e,n){if(t!=d._){var i=r.Pt(t,e,n);r.Mt(i)}else r.Ot(e)},r.Pt=function(t,e,n){var i={It:+new Date,Wt:t,Vt:n,wt:!1,yt:void 0,bt:void 0,labels:{}};return a++,i.labels.ns_ap_ec=a+"",t==d.l?(o.un(),i.wt=o.sn()):(i.yt=!(null!=e&&e.hasOwnProperty("ns_st_ev")&&"hb"==e.ns_st_ev),i.bt=!(null!=e&&e.hasOwnProperty("ns_st_ev"))),i.xt=o.getLabels(),i.Ut=e,null!=o.Vn()?i.Bt=o.Vn():t==d.l?i.Bt="start":o.pn()==p.H?i.Bt="foreground":i.Bt="background",c.gt(o,i),i},r.At=function(t){var e=null,n=t.Wt,i=t.Vt,r=t.wt;return(e=n===d.l?new l(o,n,i,r):new c(o,n,i,r)).vt(t.labels),e.vt(t.xt),e.vt(t.Ut),e.dt(_.PAGE_NAME_LABEL)||e.setLabel(_.PAGE_NAME_LABEL,t.Bt),f.processMeasurementLabels(e),e.vt(u),u={},e},r.Ot=function(t){h(u,t)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(t,e,n){var C=t(36),b=t(24),P=t(21),O=t(19),R=t(22),N=t(8).TransmissionMode,D=t(15),L=t(14).Ft,w="CACHE_DROPPED_MEASUREMENTS";function i(s,o){var e,n,a,u,i,c,l,f,d,p,_=this,r=0;function h(){r=0,null!=l&&(l=null)}function g(){for(var t,e=v(),n=!1,i=e.length;0<i;i--){var r=(t=e[i-1],Number(t.substring(o.length)));n?I(e[i-1],!0):n=y(r)}}function E(t){if(s.getEnabled()){var e=s.t();e.has(w)&&(t+=Number(e.get(w))),e.set(w,t+"")}}function v(){return null==c&&(c=L.Gt()),c}function m(t){var e=o+D.Kt(t,"ns_ts");L.qt(s,e,t),null==c&&(c=[]),c.push(e),h()}function I(t,e){if(null!=t){e&&(i=t,(r=s.t()).has(i)&&E(Number(r.get(i)))),L.deleteFile(s,t);var n=O.indexOf(t,c);0<=n&&c.splice(n,1)}var i,r}function A(){return null!=c&&0<c.length?c[c.length-1]:null}function S(t){var e=s.t(),n=0;return null!=t&&(n=e.has(t)?Number(e.get(t)):L.Ht(s,t).length),n}function y(t){var e=+new Date;return 24*i*60*60*1e3-(e-t)<=0}function T(e,n){var i=s.t();if(function(){if(s.getEnabled()&&C.isConnectionAvailable()&&!_.jt()&&null!=s.getCustomerC2()){if(!(a<=f))return!0;if(1e3*u*60-(+new Date-d)<=0)return!(d=f=0)}return!1}()){var t=null,r=null;if(null==l&&null!=(t=function(t){for(var e=0,n=L.Ht(s,t),i=!1;e<n.length&&!(i=!y(Number(D.Kt(n[e],"ns_ts"))));e++);return n=i?(E(e),n.slice(e,n.length)):(I(t,!0),null)}(r=A()))&&0<t.length){var o=i.has(w)?i.get(w):"0";l=D.Yt(t,o)}if(null!=l&&0<l.length)return void C.httpPost(function(t){var e,n=!0;-1==(e=P.tn(p)&&P.lt(p)?p:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(e+="?",n=!1);var i=s.getCustomerC2();P.lt(i)&&(n&&(e+="&"),e+="c2="+i,n=!0);var r="JetportGotAMaskOfThe"+s.g()+"S.D_K-";return r=R(r),P.lt(r)&&(n&&(e+="&"),e+="s="+r),e.toLowerCase()}(e),l,function(t){if(200==t)return f++,I(r,!1),h(),d=+new Date,i.remove(w),void C.setTimeout(function(){T(e,n)},0);n()})}n()}o=o||"cs_cache_",b.extend(this,{flush:function(t,e){s.getEnabled()&&(g(),1e3*u*60-(+new Date-r)<=0?(r=0,T(t,e)):e())},setCacheMaxMeasurements:function(t){e=t},getCacheMaxMeasurements:function(){return e},setCacheMaxBatchFiles:function(t){t<=0||(n=t)},getCacheMaxBatchFiles:function(){return n},Yn:function(t){a=t},Jn:function(){return a},Qn:function(t){u=t},Xn:function(){return u},setCacheMeasurementExpiry:function(t){i=t},getCacheMeasurementExpiry:function(){return i},ft:function(t){if(s.getEnabled()){var e=s.ln();if("string"!=typeof t&&(t=t.ht(e.getMeasurementLabelOrder())),e.getOfflineTransmissionMode()!=N.DISABLED&&null!=s.getCustomerC2()&&P.lt(D.Kt(t,"ns_ts"))){var n=A();null!=n?S(n)<this.getCacheMaxBatchFiles()?(t="\n"+t,L.qt(s,n,t),h()):(v().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&I(null!=c&&0<c.length?c[0]:null,!0),m(t)):m(t)}}},_t:function(){var t=S(A());return 0<v().length&&(t+=(v().length-1)*this.getCacheMaxBatchFiles()),t},jt:function(){return 0==this._t()},clear:function(){for(var t=v(),e=t.length;0<e;e--)I(t[e-1],!0);s.t().remove(w)},tt:function(t){p=t}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.Yn(10),this.Qn(30),this.setCacheMeasurementExpiry(31),g()}i.qn=2e3,i.Hn=100,i.zn=10,i.Zn=30,i.$n=31,n.L=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(t,e,n){var c=t(24),l=t(20),f=t(36),d=t(4),p=t(8).TransmissionMode;e.exports=function(e,t,n,i){var r=this,o=t,s=n;function a(t){200!=t&&(302!=t&&301!=t||e.it())&&e.I().ft(s.ht(o.getMeasurementLabelOrder()),o),i&&i()}function u(){var t=r.process(s.getPixelURL());f.httpGet(t,a)}c.extend(r,{process:function(t){t+=s.ht(o.getMeasurementLabelOrder());var e=l.Jt()?d.A:d.P;if(t.length>e&&0<t.indexOf("&")){var n=t.substring(0,e-8).lastIndexOf("&"),i=encodeURIComponent(t.substring(n+1));t=t.substring(0,n)+"&ns_cut="+i}return t.length>e&&(t=t.substring(0,e)),t},send:function(){var t=o.getLiveTransmissionMode();return t==p.NEVER||t==p.DISABLED?(e.I().ft(s.ht(o.getMeasurementLabelOrder()),o),i&&i()):o.getOfflineTransmissionMode()!=p.NEVER&&0<e.I()._t()?e.I().flush(o,u):u(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(t,e,n){var o=t(36),s="cache_dir",i={Gt:function(){return o.IO.dir(s)||[]},qt:function(t,e,n){var i=t.t(),r=Number(i.get(e))||0;o.IO.append(s,e,n),r++,i.set(e,r+"")},deleteFile:function(t,e){o.IO.deleteFile(s,e),t.t().remove(e)},Ht:function(t,e){var n=o.IO.read(s,e);return n?n.split("\n"):[]}};function a(t){return!((t+="").indexOf(",")<0)&&t.indexOf(" ")<0}function u(t){return!isNaN(parseInt(t))&&isFinite(t)}function c(t,e){for(var n=e,i=t.split(","),r=0,o=i.length;r<o;r++){var s=i[r];if(0<s.length)if(n.indexOf(s)<0)0==n.length?n+=s+":1":n+=";"+s+":1";else for(var a=n.split(";"),u=0,c=a.length;u<c;u++)if(0<=a[u].indexOf(s)){var l=a[u].split(":"),f=Number(l[1]);f++;var d=l[0]+":"+f,p=n.indexOf(a[u]);n=n.substring(0,p)+d+n.substring(p+a[u].length)}}return n}n.Tt=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=t[n],r=e[n];null==i?a(r)?t[n]=c(r,""):t[n]=r:u(i)&&u(r)?t[n]=parseInt(i)+parseInt(r)+"":a(r)?t[n]=c(r,i):(o=r,0<=i.indexOf(o)||(t[n]=i+","+r))}var o},n.Ft=i},{36:36}],15:[function(t,e,n){var o=t(22),f=t(21),d=[],p=-1,_=-1,c=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],h=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],g=(1<<h.length)-1,l=-1;function E(t,e){p=_=-1;var n=0;do{if(0<=(n=t.indexOf(e,n))){var i=n+e.length;if((0==n||"&"==t.charAt(n-1))&&i<t.length&&"="==t.charAt(i))return p=i+1,void(-1==(_=t.indexOf("&",p))&&(_=t.length));n=i+1}}while(0<=n&&n<t.length)}function s(t,e){var n=0;if(E(t,"ns_ts"),-1!=p&&p<_){e.push('<event t="',t.substring(p,_),'">');for(var i,r,o=0,s=0;o<t.length;){if(-1==(i=t.indexOf("&",o))&&(i=t.length),o<i&&o<(r=t.indexOf("=",o))){var a=!0;if(n!=g)for(var u=0,c=h.length;u<c;u++){var l=1<<u;if(0==(n&l)&&h[u].length==r-o&&f.zt(h[u],0,t,o,h[u].length)){a=!1,n|=l;break}}a&&(0<s&&(d.push("&"),e.push("&")),d.push(t.substring(o,i)),e.push(t.substring(o,i)),s++)}o=i+1}e.push("</event>")}}var i={Yt:function(t,e){var n,i,r=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(t,e,n){var i,r,o,s=+new Date+"";t.push('<events t="',s,'" ');for(var a=0,u=c.length;a<u;a++)i=t,E(r=e,o=c[a]),-1!=p&&p<_&&i.push(o,'="',r.substring(p,_),'" ');t.push('dropped="',n,'" md5="','">'),l=t.length-1}(r,t[0],e),function(t,e){d=[];for(var n=0,i=t.length;n<i;n++)f.lt(t[n])&&s(t[n],e)}(t,r),n=r,i=o(d.join("")).toLowerCase(),n.splice(l,0,i),r.push("</events>"),r.join("")},Kt:function(t,e){return E(t,e),-1!=p&&p<_?t.substring(p,_):null}};e.exports=i},{21:21,22:22}],16:[function(e,r,t){(function(t){var n=e(24),i=r.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=i),i.comScore=e(2),i.loadModule=i.loadModule||function(t){for(var e in t)"ns_"!==e&&n.extend(i,t);return t.ns_=i},i.PlatformAPIs=e(32),e(39),i.StreamingAnalytics=e(67),i.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(t,e,n){e.exports={D:"unknown",Qt:"0x0",Xt:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(t,e,n){var a="undefined",u="function";e.exports=function(n,o){var t=this,i=[];function e(t){t=t||[];var e=["comScore",+new Date];return n&&e.push(n),t=Array.prototype.slice.call(t),e=e.concat(t)}function r(t){var e,n,i;if("boolean"==typeof o||!o)return!!o;if(i=t.join(" "),o instanceof Array&&0<o.length){for(e=0;e<o.length;++e)if((n=o[e])instanceof RegExp&&n.test(i))return!0;return!1}if("object"!=typeof o)return!0;var r=!1;if(o.hide instanceof Array)for(e=0;e<o.hide.length;++e)if((n=o.hide[e])instanceof RegExp&&n.test(i)){r=!0;break}if(o.show instanceof Array)for(e=0;e<o.show.length;++e)if((n=o.show[e])instanceof RegExp&&n.test(i))return!0;return!r&&!o.show}function s(t){var e=i.length;if(1e4<e||"object"==typeof o&&o.max&&e>o.max){var n="object"==typeof o&&o.max||1e4;i.splice(0,i.length-n+1)}i.push(t)}t.log=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.log==u&&r(t)&&console.log.apply(console,t)},t.warn=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.warn==u&&r(t)&&console.warn.apply(console,t)},t.error=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.error==u&&r(t)&&console.error.apply(console,t)},t.Zt=function(t){for(var e=["API call to:",t],n=1;n<arguments.length;++n)e.push("arg"+n+":",arguments[n]);this.log.apply(this,e)},t.$t=function(){var t=["Trace log:"];t.push.apply(t,Array.prototype.slice.call(arguments)),this.log.apply(this,t)},t.ne=function(t,e){var n=["Deprecated API:",t,"is deprecated and will be eventually removed."];e&&n.push("Use",e,"instead."),this.warn.apply(this,n)},t.te=function(){return i}}},{}],19:[function(t,e,n){var r={},a="undefined";r.indexOf=function(n,t){var i=-1;return r.forEach(t,function(t,e){t==n&&(i=e)}),i},r.forEach=function(t,e,n){try{if("function"==typeof e)if(n=typeof n!=a?n:null,"number"!=typeof t.length||typeof t[0]==a){var i=typeof t.__proto__!=a;for(var r in t)t.hasOwnProperty(r)&&(!i||i&&typeof t.__proto__[r]==a)&&"function"!=typeof t[r]&&e.call(n,t[r],r)}else for(var o=0,s=t.length;o<s;o++)e.call(n,t[o],o)}catch(t){}},n.indexOf=r.indexOf,n.forEach=r.forEach},{}],20:[function(t,e,n){var i={},r="undefined",o=typeof document!=r&&document||void 0;i.ee=function(){if(!o)return!1;var t=!1;return typeof o.hidden!==r?t=!0:typeof o.mozHidden!==r?t=!0:typeof o.msHidden!==r?t=!0:typeof o.webkitHidden!==r&&(t=!0),function(){return t}}(),i.ie=function(){if(!o)return null;var t,e,n;typeof o.hidden!==r?(t="hidden",e="visibilitychange",n="visibilityState"):typeof o.mozHidden!==r?(t="mozHidden",e="mozvisibilitychange",n="mozVisibilityState"):typeof o.msHidden!==r?(t="msHidden",e="msvisibilitychange",n="msVisibilityState"):typeof o.webkitHidden!==r&&(t="webkitHidden",e="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:t,re:e,state:n};return function(){return i}}(),i.oe=function(){if(!o)return null;var t=i.ie();return function(){return o[t.hidden]}}(),i.ue=function(){if(!navigator)return"";var t,e,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(e=n.indexOf("Opera"))||-1!=(e=n.indexOf("OPR/"))?i="Opera":-1!=(e=n.indexOf("Android"))?i="Android":-1!=(e=n.indexOf("Chrome"))?i="Chrome":-1!=(e=n.indexOf("Safari"))?i="Safari":-1!=(e=n.indexOf("Firefox"))?i="Firefox":-1!=(e=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))?(i=n.substring(t,e)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.se=function(){if(!navigator)return"";var t,e,n,i=navigator.userAgent||"",r=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(e=i.indexOf("Opera"))?(o=i.substring(e+6),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))):-1!=(e=i.indexOf("OPR/"))?o=i.substring(e+4):-1!=(e=i.indexOf("Android"))?o=i.substring(e+11):-1!=(e=i.indexOf("Chrome"))?o=i.substring(e+7):-1!=(e=i.indexOf("Safari"))?(o=i.substring(e+7),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))):-1!=(e=i.indexOf("Firefox"))?o=i.substring(e+8):"Microsoft Internet Explorer"==r?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):"Netscape"==r?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):o=i.lastIndexOf(" ")+1<(e=i.lastIndexOf("/"))?i.substring(e+1):"unknown",-1!=(n=(o=o.toString()).indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),t=parseInt(""+o,10),isNaN(t)&&(o=""+parseFloat(navigator.appVersion)),o},i.Jt=function(){return typeof window!=r&&window.ae,!0},i.fe=function(){return typeof window!=r&&o},i.ce=function(){return!!o&&"s"===o.location.href.charAt(4)},e.exports.ee=i.ee,e.exports.ie=i.ie,e.exports.oe=i.oe,e.exports.ue=i.ue,e.exports.se=i.se,e.exports.Jt=i.Jt,e.exports.fe=i.fe,e.exports.ce=i.ce},{}],21:[function(t,e,n){var i,r=r||{},o="undefined";r.le=(i=1,function(){return+new Date+"_"+i++}),r.jt=function(t){return null==t||""===t||t instanceof Array&&0===t.length},r.lt=function(t){return!this.jt(t)},r.pe=function(t,e){return e=this.tn(e)?e:"",this.tn(t)?t:e},r.ve=function(t){return typeof t!=o&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},r.zt=function(t,e,n,i,r){if(e<0||i<0||e+r>t.length||i+r>n.length)return!1;for(;0<=--r;)if(t.charAt(e++)!=n.charAt(i++))return!1;return!0},r.tn=function(t){return typeof t!=o&&null!=t},e.exports.tn=r.tn,e.exports.zt=r.zt,e.exports.ve=r.ve,e.exports.pe=r.pe,e.exports.lt=r.lt,e.exports.jt=r.jt,e.exports.le=r.le},{}],22:[function(t,e,n){var i={};i.de=function(){function o(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=l(i=l(i=l(i=l(i=c(i=c(i=c(i=c(i=u(i=u(i=u(i=u(i=s(i=s(i=s(i=s(i,r=s(r,o=s(o,n=s(n,i,r,o,e[0],7,-680876936),i,r,e[1],12,-389564586),n,i,e[2],17,606105819),o,n,e[3],22,-1044525330),r=s(r,o=s(o,n=s(n,i,r,o,e[4],7,-176418897),i,r,e[5],12,1200080426),n,i,e[6],17,-1473231341),o,n,e[7],22,-45705983),r=s(r,o=s(o,n=s(n,i,r,o,e[8],7,1770035416),i,r,e[9],12,-1958414417),n,i,e[10],17,-42063),o,n,e[11],22,-1990404162),r=s(r,o=s(o,n=s(n,i,r,o,e[12],7,1804603682),i,r,e[13],12,-40341101),n,i,e[14],17,-1502002290),o,n,e[15],22,1236535329),r=u(r,o=u(o,n=u(n,i,r,o,e[1],5,-165796510),i,r,e[6],9,-1069501632),n,i,e[11],14,643717713),o,n,e[0],20,-373897302),r=u(r,o=u(o,n=u(n,i,r,o,e[5],5,-701558691),i,r,e[10],9,38016083),n,i,e[15],14,-660478335),o,n,e[4],20,-405537848),r=u(r,o=u(o,n=u(n,i,r,o,e[9],5,568446438),i,r,e[14],9,-1019803690),n,i,e[3],14,-187363961),o,n,e[8],20,1163531501),r=u(r,o=u(o,n=u(n,i,r,o,e[13],5,-1444681467),i,r,e[2],9,-51403784),n,i,e[7],14,1735328473),o,n,e[12],20,-1926607734),r=c(r,o=c(o,n=c(n,i,r,o,e[5],4,-378558),i,r,e[8],11,-2022574463),n,i,e[11],16,1839030562),o,n,e[14],23,-35309556),r=c(r,o=c(o,n=c(n,i,r,o,e[1],4,-1530992060),i,r,e[4],11,1272893353),n,i,e[7],16,-155497632),o,n,e[10],23,-1094730640),r=c(r,o=c(o,n=c(n,i,r,o,e[13],4,681279174),i,r,e[0],11,-358537222),n,i,e[3],16,-722521979),o,n,e[6],23,76029189),r=c(r,o=c(o,n=c(n,i,r,o,e[9],4,-640364487),i,r,e[12],11,-421815835),n,i,e[15],16,530742520),o,n,e[2],23,-995338651),r=l(r,o=l(o,n=l(n,i,r,o,e[0],6,-198630844),i,r,e[7],10,1126891415),n,i,e[14],15,-1416354905),o,n,e[5],21,-57434055),r=l(r,o=l(o,n=l(n,i,r,o,e[12],6,1700485571),i,r,e[3],10,-1894986606),n,i,e[10],15,-1051523),o,n,e[1],21,-2054922799),r=l(r,o=l(o,n=l(n,i,r,o,e[8],6,1873313359),i,r,e[15],10,-30611744),n,i,e[6],15,-1560198380),o,n,e[13],21,1309151649),r=l(r,o=l(o,n=l(n,i,r,o,e[4],6,-145523070),i,r,e[11],10,-1120210379),n,i,e[2],15,718787259),o,n,e[9],21,-343485551),t[0]=d(n,t[0]),t[1]=d(i,t[1]),t[2]=d(r,t[2]),t[3]=d(o,t[3])}function a(t,e,n,i,r,o){return e=d(d(e,t),d(i,o)),d(e<<r|e>>>32-r,n)}function s(t,e,n,i,r,o,s){return a(e&n|~e&i,t,e,r,o,s)}function u(t,e,n,i,r,o,s){return a(e&i|n&~i,t,e,r,o,s)}function c(t,e,n,i,r,o,s){return a(e^n^i,t,e,r,o,s)}function l(t,e,n,i,r,o,s){return a(n^(e|~i),t,e,r,o,s)}function f(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var i="0123456789abcdef".split("");function n(t){for(var e="",n=0;n<4;n++)e+=i[t>>8*n+4&15]+i[t>>8*n&15];return e}function t(t){return function(t){for(var e=0;e<t.length;e++)t[e]=n(t[e]);return t.join("")}(function(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)o(i,f(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(o(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,o(i,r),i}(t))}function d(t,e){return t+e&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=t("hello"))function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t}(),e.exports=i.de},{}],23:[function(t,e,n){var o=function(t){if("object"!=typeof t)return t;var e;if(t instanceof Array){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=o(t[n]);return e}for(var r in e={},t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e};e.exports=o},{}],24:[function(t,e,n){var i=i||{};i.filter=function(t,e){var n={};for(var i in e)e.hasOwnProperty(i)&&t(e[i])&&(n[i]=e[i]);return n},i.extend=function(t){var e,n=arguments.length;t=t||{};for(var i=1;i<n;i++)if(e=arguments[i])for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.exports.filter=i.filter,e.exports.extend=i.extend},{}],25:[function(t,e,n){var G=t(17),i={};i.encrypt=function(){var s=function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e));if(-1===n)throw new Error;return n};function m(t,e,n){null!=t&&("number"==typeof t?this.he(t,e,n):null==e&&"string"!=typeof t?this._e(t,256):this._e(t,e))}function I(){return new m(null)}m.prototype.ge=function(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;0<=--o;){var u=16383&this[t],c=this[t++]>>14,l=a*u+c*s;r=((u=s*u+((16383&l)<<14)+n[i]+r)>>28)+(l>>14)+a*c,n[i++]=268435455&u}return r},m.prototype.me=28,m.prototype.we=268435455,m.prototype.ye=1<<28,m.prototype.be=Math.pow(2,52),m.prototype.Ie=24,m.prototype.Se=4;var t,e,n="0123456789abcdefghijklmnopqrstuvwxyz",i=[];for(t="0".charCodeAt(0),e=0;e<=9;++e)i[t++]=e;for(t="a".charCodeAt(0),e=10;e<36;++e)i[t++]=e;for(t="A".charCodeAt(0),e=10;e<36;++e)i[t++]=e;function u(t){return n.charAt(t)}function c(t,e){var n=i[t.charCodeAt(e)];return null==n?-1:n}function g(t){var e=I();return e.Pe(t),e}function A(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function E(t){this.Ae=t}function v(t){this.Ae=t,this.Ce=t.ke(),this.Ee=32767&this.Ce,this.Te=this.Ce>>15,this.Ne=(1<<t.me-15)-1,this.Le=2*t.De}function r(t,e){return t&e}function o(t,e){return t|e}function a(t,e){return t^e}function l(t,e){return t&~e}function f(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function d(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function p(){}function _(t){return t}function S(t){this.r2=I(),this.Re=I(),m.ONE.Me(2*t.De,this.r2),this.Oe=this.r2.We(t),this.Ae=t}E.prototype.Ve=function(t){return t.xe<0||0<=t.Ue(this.Ae)?t.Be(this.Ae):t},E.prototype.Fe=function(t){return t},E.prototype.reduce=function(t){t.je(this.Ae,null,t)},E.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},E.prototype.qe=function(t,e){t.He(e),this.reduce(e)},v.prototype.Ve=function(t){var e=I();return t.abs().Me(this.Ae.De,e),e.je(this.Ae,null,e),t.xe<0&&0<e.Ue(m.ZERO)&&this.Ae.Ye(e,e),e},v.prototype.Fe=function(t){var e=I();return t.Je(e),this.reduce(e),e},v.prototype.reduce=function(t){for(;t.De<=this.Le;)t[t.De++]=0;for(var e=0;e<this.Ae.De;++e){var n=32767&t[e],i=n*this.Ee+((n*this.Te+(t[e]>>15)*this.Ee&this.Ne)<<15)&t.we;for(t[n=e+this.Ae.De]+=this.Ae.ge(0,i,t,e,0,this.Ae.De);t[n]>=t.ye;)t[n]-=t.ye,t[++n]++}t.ze(),t.Qe(this.Ae.De,t),0<=t.Ue(this.Ae)&&t.Ye(this.Ae,t)},v.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},v.prototype.qe=function(t,e){t.He(e),this.reduce(e)},m.prototype.Je=function(t){for(var e=this.De-1;0<=e;--e)t[e]=this[e];t.De=this.De,t.xe=this.xe},m.prototype.Pe=function(t){this.De=1,this.xe=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+DV:this.De=0},m.prototype._e=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.Xe(t,e);n=2}this.De=0,this.xe=0;for(var i=t.length,r=!1,o=0;0<=--i;){var s=8==n?255&t[i]:c(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==o?this[this.De++]=s:o+n>this.me?(this[this.De-1]|=(s&(1<<this.me-o)-1)<<o,this[this.De++]=s>>this.me-o):this[this.De-1]|=s<<o,(o+=n)>=this.me&&(o-=this.me))}8==n&&0!=(128&t[0])&&(this.xe=-1,0<o&&(this[this.De-1]|=(1<<this.me-o)-1<<o)),this.ze(),r&&m.ZERO.Ye(this,this)},m.prototype.ze=function(){for(var t=this.xe&this.we;0<this.De&&this[this.De-1]==t;)--this.De},m.prototype.Me=function(t,e){var n;for(n=this.De-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.De=this.De+t,e.xe=this.xe},m.prototype.Qe=function(t,e){for(var n=t;n<this.De;++n)e[n-t]=this[n];e.De=Math.max(this.De-t,0),e.xe=this.xe},m.prototype.Ze=function(t,e){var n,i=t%this.me,r=this.me-i,o=(1<<r)-1,s=Math.floor(t/this.me),a=this.xe<<i&this.we;for(n=this.De-1;0<=n;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;0<=n;--n)e[n]=0;e[s]=a,e.De=this.De+s+1,e.xe=this.xe,e.ze()},m.prototype.$e=function(t,e){e.xe=this.xe;var n=Math.floor(t/this.me);if(n>=this.De)e.De=0;else{var i=t%this.me,r=this.me-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.De;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;0<i&&(e[this.De-n-1]|=(this.xe&o)<<r),e.De=this.De-n,e.ze()}},m.prototype.Ye=function(t,e){for(var n=0,i=0,r=Math.min(t.De,this.De);n<r;)i+=this[n]-t[n],e[n++]=i&this.we,i>>=this.me;if(t.De<this.De){for(i-=t.xe;n<this.De;)i+=this[n],e[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<t.De;)i-=t[n],e[n++]=i&this.we,i>>=this.me;i-=t.xe}e.xe=i<0?-1:0,i<-1?e[n++]=this.ye+i:0<i&&(e[n++]=i),e.De=n,e.ze()},m.prototype.Ke=function(t,e){var n=this.abs(),i=t.abs(),r=n.De;for(e.De=r+i.De;0<=--r;)e[r]=0;for(r=0;r<i.De;++r)e[r+n.De]=n.ge(0,i[r],e,r,0,n.De);e.xe=0,e.ze(),this.xe!=t.xe&&m.ZERO.Ye(e,e)},m.prototype.He=function(t){for(var e=this.abs(),n=t.De=2*e.De;0<=--n;)t[n]=0;for(n=0;n<e.De-1;++n){var i=e.ge(n,e[n],t,2*n,0,1);(t[n+e.De]+=e.ge(n+1,2*e[n],t,2*n+1,i,e.De-n-1))>=e.ye&&(t[n+e.De]-=e.ye,t[n+e.De+1]=1)}0<t.De&&(t[t.De-1]+=e.ge(n,e[n],t,2*n,0,1)),t.xe=0,t.ze()},m.prototype.je=function(t,e,n){var i=t.abs();if(!(i.De<=0)){var r=this.abs();if(r.De<i.De)return null!=e&&e.Pe(0),void(null!=n&&this.Je(n));null==n&&(n=I());var o=I(),s=this.xe,a=t.xe,u=this.me-A(i[i.De-1]);0<u?(i.Ze(u,o),r.Ze(u,n)):(i.Je(o),r.Je(n));var c=o.De,l=o[c-1];if(0!=l){var f=l*(1<<this.Ie)+(1<c?o[c-2]>>this.Se:0),d=this.be/f,p=(1<<this.Ie)/f,_=1<<this.Se,h=n.De,g=h-c,E=null==e?I():e;for(o.Me(g,E),0<=n.Ue(E)&&(n[n.De++]=1,n.Ye(E,n)),m.ONE.Me(c,E),E.Ye(o,o);o.De<c;)o[o.De++]=0;for(;0<=--g;){var v=n[--h]==l?this.we:Math.floor(n[h]*d+(n[h-1]+_)*p);if((n[h]+=o.ge(0,v,n,g,0,c))<v)for(o.Me(g,E),n.Ye(E,n);n[h]<--v;)n.Ye(E,n)}null!=e&&(n.Qe(c,e),s!=a&&m.ZERO.Ye(e,e)),n.De=c,n.ze(),0<u&&n.$e(u,n),s<0&&m.ZERO.Ye(n,n)}}},m.prototype.ke=function(){if(this.De<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.ye)%this.ye)?this.ye-e:-e},m.prototype.ni=function(){return 0==(0<this.De?1&this[0]:this.xe)},m.prototype.exp=function(t,e){if(4294967295<t||t<1)return m.ONE;var n=I(),i=I(),r=e.Ve(this),o=A(t)-1;for(r.Je(n);0<=--o;)if(e.qe(n,i),0<(t&1<<o))e.Ge(i,r,n);else{var s=n;n=i,i=s}return e.Fe(n)},m.prototype.toString=function(t){if(this.xe<0)return"-"+this.ti().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.ei(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.De,a=this.me-s*this.me%e;if(0<s--)for(a<this.me&&0<(n=this[s]>>a)&&(r=!0,o=u(n));0<=s;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.me-e)):(n=this[s]>>(a-=e)&i,a<=0&&(a+=this.me,--s)),0<n&&(r=!0),r&&(o+=u(n));return r?o:"0"},m.prototype.ti=function(){var t=I();return m.ZERO.Ye(this,t),t},m.prototype.abs=function(){return this.xe<0?this.ti():this},m.prototype.Ue=function(t){var e=this.xe-t.xe;if(0!=e)return e;var n=this.De;if(0!=(e=n-t.De))return this.xe<0?-e:e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0},m.prototype.ii=function(){return this.De<=0?0:this.me*(this.De-1)+A(this[this.De-1]^this.xe&this.we)},m.prototype.Be=function(t){var e=I();return this.abs().je(t,null,e),this.xe<0&&0<e.Ue(m.ZERO)&&t.Ye(e,e),e},m.prototype.ri=function(t,e){var n;return n=t<256||e.ni()?new E(e):new v(e),this.exp(t,n)},m.ZERO=g(0),m.ONE=g(1),p.prototype.Ve=_,p.prototype.Fe=_,p.prototype.Ge=function(t,e,n){t.Ke(e,n)},p.prototype.qe=function(t,e){t.He(e)},S.prototype.Ve=function(t){if(t.xe<0||t.De>2*this.Ae.De)return t.Be(this.Ae);if(t.Ue(this.Ae)<0)return t;var e=I();return t.Je(e),this.reduce(e),e},S.prototype.Fe=function(t){return t},S.prototype.reduce=function(t){for(t.Qe(this.Ae.De-1,this.r2),t.De>this.Ae.De+1&&(t.De=this.Ae.De+1,t.ze()),this.Oe.oi(this.r2,this.Ae.De+1,this.Re),this.Ae.ui(this.Re,this.Ae.De+1,this.r2);t.Ue(this.r2)<0;)t.si(1,this.Ae.De+1);for(t.Ye(this.r2,t);0<=t.Ue(this.Ae);)t.Ye(this.Ae,t)},S.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},S.prototype.qe=function(t,e){t.He(e),this.reduce(e)};var h=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],y=(1<<26)/h[h.length-1];function T(){this.ai=0,this.fi=0,this.ci=[]}m.prototype.li=function(t){return Math.floor(Math.LN2*this.me/Math.log(t))},m.prototype.ei=function(t){if(null==t&&(t=10),0==this.pi()||t<2||36<t)return"0";var e=this.li(t),n=Math.pow(t,e),i=g(n),r=I(),o=I(),s="";for(this.je(i,r,o);0<r.pi();)s=(n+o.vi()).toString(t).substr(1)+s,r.je(i,r,o);return o.vi().toString(t)+s},m.prototype.Xe=function(t,e){this.Pe(0),null==e&&(e=10);for(var n=this.li(e),i=Math.pow(e,n),r=!1,o=0,s=0,a=0;a<t.length;++a){var u=c(t,a);u<0?"-"==t.charAt(a)&&0==this.pi()&&(r=!0):(s=e*s+u,++o>=n&&(this.di(i),this.si(s,0),s=o=0))}0<o&&(this.di(Math.pow(e,o)),this.si(s,0)),r&&m.ZERO.Ye(this,this)},m.prototype.he=function(t,e,n){if("number"==typeof e)if(t<2)this.Pe(1);else for(this.he(t,n),this.hi(t-1)||this._i(m.ONE.shiftLeft(t-1),o,this),this.ni()&&this.si(1,0);!this.gi(e);)this.si(2,0),this.ii()>t&&this.Ye(m.ONE.shiftLeft(t-1),this);else{var i=[],r=7&t;i.length=1+(t>>3),e.mi(i),0<r?i[0]&=(1<<r)-1:i[0]=0,this._e(i,256)}},m.prototype._i=function(t,e,n){var i,r,o=Math.min(t.De,this.De);for(i=0;i<o;++i)n[i]=e(this[i],t[i]);if(t.De<this.De){for(r=t.xe&this.we,i=o;i<this.De;++i)n[i]=e(this[i],r);n.De=this.De}else{for(r=this.xe&this.we,i=o;i<t.De;++i)n[i]=e(r,t[i]);n.De=t.De}n.xe=e(this.xe,t.xe),n.ze()},m.prototype.wi=function(t,e){var n=m.ONE.shiftLeft(t);return this._i(n,e,n),n},m.prototype.yi=function(t,e){for(var n=0,i=0,r=Math.min(t.De,this.De);n<r;)i+=this[n]+t[n],e[n++]=i&this.we,i>>=this.me;if(t.De<this.De){for(i+=t.xe;n<this.De;)i+=this[n],e[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<t.De;)i+=t[n],e[n++]=i&this.we,i>>=this.me;i+=t.xe}e.xe=i<0?-1:0,0<i?e[n++]=i:i<-1&&(e[n++]=this.ye+i),e.De=n,e.ze()},m.prototype.di=function(t){this[this.De]=this.ge(0,t-1,this,0,0,this.De),++this.De,this.ze()},m.prototype.si=function(t,e){if(0!=t){for(;this.De<=e;)this[this.De++]=0;for(this[e]+=t;this[e]>=this.ye;)this[e]-=this.ye,++e>=this.De&&(this[this.De++]=0),++this[e]}},m.prototype.ui=function(t,e,n){var i,r=Math.min(this.De+t.De,e);for(n.xe=0,n.De=r;0<r;)n[--r]=0;for(i=n.De-this.De;r<i;++r)n[r+this.De]=this.ge(0,t[r],n,r,0,this.De);for(i=Math.min(t.De,e);r<i;++r)this.ge(0,t[r],n,r,0,e-r);n.ze()},m.prototype.oi=function(t,e,n){--e;var i=n.De=this.De+t.De-e;for(n.xe=0;0<=--i;)n[i]=0;for(i=Math.max(e-this.De,0);i<t.De;++i)n[this.De+i-e]=this.ge(e-i,t[i],n,0,0,this.De+i-e);n.ze(),n.Qe(1,n)},m.prototype.bi=function(t){if(t<=0)return 0;var e=this.ye%t,n=this.xe<0?t-1:0;if(0<this.De)if(0==e)n=this[0]%t;else for(var i=this.De-1;0<=i;--i)n=(e*n+this[i])%t;return n},m.prototype.Ii=function(t){var e=this.Si(m.ONE),n=e.Pi();if(n<=0)return!1;var i=e.Ai(n);(t=t+1>>1)>h.length&&(t=h.length);for(var r=I(),o=0;o<t;++o){r.Pe(h[Math.floor(Math.random()*h.length)]);var s=r.Ci(i,this);if(0!=s.Ue(m.ONE)&&0!=s.Ue(e)){for(var a=1;a++<n&&0!=s.Ue(e);)if(0==(s=s.ri(2,this)).Ue(m.ONE))return!1;if(0!=s.Ue(e))return!1}}return!0},m.prototype.clone=function(){var t=I();return this.Je(t),t},m.prototype.vi=function(){if(this.xe<0){if(1==this.De)return this[0]-this.ye;if(0==this.De)return-1}else{if(1==this.De)return this[0];if(0==this.De)return 0}return(this[1]&(1<<32-this.me)-1)<<this.me|this[0]},m.prototype.ki=function(){return 0==this.De?this.xe:this[0]<<24>>24},m.prototype.Ei=function(){return 0==this.De?this.xe:this[0]<<16>>16},m.prototype.pi=function(){return this.xe<0?-1:this.De<=0||1==this.De&&this[0]<=0?0:1},m.prototype.Ti=function(){var t=this.De,e=[];e[0]=this.xe;var n,i=this.me-t*this.me%8,r=0;if(0<t--)for(i<this.me&&(n=this[t]>>i)!=(this.xe&this.we)>>i&&(e[r++]=n|this.xe<<this.me-i);0<=t;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.me-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.me,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.xe)!=(128&n)&&++r,(0<r||n!=this.xe)&&(e[r++]=n);return e},m.prototype.Ni=function(t){return 0==this.Ue(t)},m.prototype.min=function(t){return this.Ue(t)<0?this:t},m.prototype.max=function(t){return 0<this.Ue(t)?this:t},m.prototype.Li=function(t){var e=I();return this._i(t,r,e),e},m.prototype.Di=function(t){var e=I();return this._i(t,o,e),e},m.prototype.Ri=function(t){var e=I();return this._i(t,a,e),e},m.prototype.Mi=function(t){var e=I();return this._i(t,l,e),e},m.prototype.Oi=function(){for(var t=I(),e=0;e<this.De;++e)t[e]=this.we&~this[e];return t.De=this.De,t.xe=~this.xe,t},m.prototype.shiftLeft=function(t){var e=I();return t<0?this.$e(-t,e):this.Ze(t,e),e},m.prototype.Ai=function(t){var e=I();return t<0?this.Ze(-t,e):this.$e(t,e),e},m.prototype.Pi=function(){for(var t=0;t<this.De;++t)if(0!=this[t])return t*this.me+f(this[t]);return this.xe<0?this.De*this.me:-1},m.prototype.Wi=function(){for(var t=0,e=this.xe&this.we,n=0;n<this.De;++n)t+=d(this[n]^e);return t},m.prototype.hi=function(t){var e=Math.floor(t/this.me);return e>=this.De?0!=this.xe:0!=(this[e]&1<<t%this.me)},m.prototype.Vi=function(t){return this.wi(t,o)},m.prototype.xi=function(t){return this.wi(t,l)},m.prototype.Ui=function(t){return this.wi(t,a)},m.prototype.add=function(t){var e=I();return this.yi(t,e),e},m.prototype.Si=function(t){var e=I();return this.Ye(t,e),e},m.prototype.multiply=function(t){var e=I();return this.Ke(t,e),e},m.prototype.We=function(t){var e=I();return this.je(t,e,null),e},m.prototype.Bi=function(t){var e=I();return this.je(t,null,e),e},m.prototype.Fi=function(t){var e=I(),n=I();return this.je(t,e,n),[e,n]},m.prototype.Ci=function(t,e){var n,i,r=t.ii(),o=g(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new E(e):e.ni()?new S(e):new v(e);var s=[],a=3,u=n-1,c=(1<<n)-1;if(s[1]=i.Ve(this),1<n){var l=I();for(i.qe(s[1],l);a<=c;)s[a]=I(),i.Ge(l,s[a-2],s[a]),a+=2}var f,d,p=t.De-1,_=!0,h=I();for(r=A(t[p])-1;0<=p;){for(u<=r?f=t[p]>>r-u&c:(f=(t[p]&(1<<r+1)-1)<<u-r,0<p&&(f|=t[p-1]>>this.me+r-u)),a=n;0==(1&f);)f>>=1,--a;if((r-=a)<0&&(r+=this.me,--p),_)s[f].Je(o),_=!1;else{for(;1<a;)i.qe(o,h),i.qe(h,o),a-=2;0<a?i.qe(o,h):(d=o,o=h,h=d),i.Ge(h,s[f],o)}for(;0<=p&&0==(t[p]&1<<r);)i.qe(o,h),d=o,o=h,h=d,--r<0&&(r=this.me-1,--p)}return i.Fe(o)},m.prototype.ji=function(t){var e=t.ni();if(this.ni()&&e||0==t.pi())return m.ZERO;for(var n=t.clone(),i=this.clone(),r=g(1),o=g(0),s=g(0),a=g(1);0!=n.pi();){for(;n.ni();)n.$e(1,n),e?(r.ni()&&o.ni()||(r.yi(this,r),o.Ye(t,o)),r.$e(1,r)):o.ni()||o.Ye(t,o),o.$e(1,o);for(;i.ni();)i.$e(1,i),e?(s.ni()&&a.ni()||(s.yi(this,s),a.Ye(t,a)),s.$e(1,s)):a.ni()||a.Ye(t,a),a.$e(1,a);0<=n.Ue(i)?(n.Ye(i,n),e&&r.Ye(s,r),o.Ye(a,o)):(i.Ye(n,i),e&&s.Ye(r,s),a.Ye(o,a))}return 0!=i.Ue(m.ONE)?m.ZERO:0<=a.Ue(t)?a.Si(t):a.pi()<0?(a.yi(t,a),a.pi()<0?a.add(t):a):a},m.prototype.pow=function(t){return this.exp(t,new p)},m.prototype.Gi=function(t){var e=this.xe<0?this.ti():this.clone(),n=t.xe<0?t.ti():t.clone();if(e.Ue(n)<0){var i=e;e=n,n=i}var r=e.Pi(),o=n.Pi();if(o<0)return e;for(r<o&&(o=r),0<o&&(e.$e(o,e),n.$e(o,n));0<e.pi();)0<(r=e.Pi())&&e.$e(r,e),0<(r=n.Pi())&&n.$e(r,n),0<=e.Ue(n)?(e.Ye(n,e),e.$e(1,e)):(n.Ye(e,n),n.$e(1,n));return 0<o&&n.Ze(o,n),n},m.prototype.gi=function(t){var e,n=this.abs();if(1==n.De&&n[0]<=h[h.length-1]){for(e=0;e<h.length;++e)if(n[0]==h[e])return!0;return!1}if(n.ni())return!1;for(e=1;e<h.length;){for(var i=h[e],r=e+1;r<h.length&&i<y;)i*=h[r++];for(i=n.bi(i);e<r;)if(i%h[e++]==0)return!1}return n.Ii(t)},m.prototype.Ki=function(){var t=I();return this.He(t),t},T.prototype.init=function(t){var e,n,i;for(e=0;e<256;++e)this.ci[e]=e;for(e=n=0;e<256;++e)n=n+this.ci[e]+t[e%t.length]&255,i=this.ci[e],this.ci[e]=this.ci[n],this.ci[n]=i;this.ai=0,this.fi=0},T.prototype.next=function(){var t;return this.ai=this.ai+1&255,this.fi=this.fi+this.ci[this.ai]&255,t=this.ci[this.ai],this.ci[this.ai]=this.ci[this.fi],this.ci[this.fi]=t,this.ci[t+this.ci[this.ai]&255]};var C,b,P,O=256;function R(){var t;t=(new Date).getTime(),b[P++]^=255&t,b[P++]^=t>>8&255,b[P++]^=t>>16&255,b[P++]^=t>>24&255,O<=P&&(P-=O)}if(null==b){var N;for(b=[],P=0;P<O;)N=Math.floor(65536*Math.random()),b[P++]=N>>>8,b[P++]=255&N;P=0,R()}function D(){if(null==C){for(R(),(C=new T).init(b),P=0;P<b.length;++P)b[P]=0;P=0}return C.next()}function L(){}function w(t,e){return new m(t,e)}function B(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}L.prototype.mi=function(t){var e;for(e=0;e<t.length;++e)t[e]=D()},B.prototype.qi=function(t){return t.ri(this.e,this.n)},B.prototype.Hi=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=w(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},B.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=[],i=t.length-1;0<=i&&0<e;){var r=t.charCodeAt(i--);n[--e]=r<128?r:127<r&&r<2048?(n[--e]=63&r|128,r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,r>>12|224)}n[--e]=0;for(var o=new L,s=[];2<e;){for(s[0]=0;0==s[0];)o.mi(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new m(n)}(t,this.n.ii()+7>>3);if(null==e)return null;var n=this.qi(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},B.prototype.Yi=function(t){if(null==this.p||null==this.q)return t.Ci(this.d,this.n);for(var e=t.Be(this.p).Ci(this.dmp1,this.p),n=t.Be(this.q).Ci(this.dmq1,this.q);e.Ue(n)<0;)e=e.add(this.p);return e.Si(n).multiply(this.coeff).Be(this.p).multiply(this.q).add(n)},B.prototype.Ji=function(t,e,n){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=w(t,16),this.e=parseInt(e,16),this.d=w(n,16)):alert("Invalid RSA private key")},B.prototype.zi=function(t,e,n,i,r,o,s,a){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=w(t,16),this.e=parseInt(e,16),this.d=w(n,16),this.p=w(i,16),this.q=w(r,16),this.dmp1=w(o,16),this.dmq1=w(s,16),this.coeff=w(a,16)):alert("Invalid RSA private key")},B.prototype.Qi=function(t,e){var n=new L,i=t>>1;this.e=parseInt(e,16);for(var r=new m(e,16);;){for(;this.p=new m(t-i,1,n),0!=this.p.Si(m.ONE).Gi(r).Ue(m.ONE)||!this.p.gi(10););for(;this.q=new m(i,1,n),0!=this.q.Si(m.ONE).Gi(r).Ue(m.ONE)||!this.q.gi(10););if(this.p.Ue(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.Si(m.ONE),a=this.q.Si(m.ONE),u=s.multiply(a);if(0==u.Gi(r).Ue(m.ONE)){this.n=this.p.multiply(this.q),this.d=r.ji(u),this.dmp1=this.d.Be(s),this.dmq1=this.d.Be(a),this.coeff=this.q.ji(this.p);break}}},B.prototype.decrypt=function(t){var e=w(t,16),n=this.Yi(e);return null==n?null:function(t,e){for(var n=t.Ti(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var o=255&n[i];o<128?r+=String.fromCharCode(o):191<o&&o<224?(r+=String.fromCharCode((31&o)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.ii()+7>>3)};var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function U(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=M.charAt(n>>6)+M.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=M.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=M.charAt(n>>2)+M.charAt((3&n)<<4));0<(3&i.length);)i+="=";return i}B.prototype.Xi=function(t){t=this.Zi(t);var e=this.$i(),n=0,i=null,r=null,o=0;for(var s in e)e.hasOwnProperty(s)&&((i=e[s]).hasOwnProperty("offset")&&(n+=2*i.offset),o="string"==typeof i.length?this[i.length]:i.length,o*=2,r=t.substr(n,o),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=w(r,16))),n+=o,this[s]=r)},B.prototype.nr=function(t){var e="";t=function(t){var e,n,i,r=(t=""+t).length;if(0===r)return t;if(r%4!=0)throw new Error;e=0,"="===t.charAt(r-1)&&(e=1,"="===t.charAt(r-2)&&(e=2),r-=4);var o=[];for(n=0;n<r;n+=4)i=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6|s(t,n+3),o.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(e){case 1:i=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6,o.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=s(t,n)<<18|s(t,n+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")}(t);for(var n=0;n<t.length;++n){var i=t.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),e+=i}return e},B.prototype.Zi=function(t){var e=(t=t.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==e[0].substring(0,10)&&(e=e.slice(1,e.length-1)),t=e.join(""),this.nr(t)},B.prototype.tr=function(){var t="",e=this.$i(),n=null,i=null,r=0;for(var o in e)e.hasOwnProperty(o)&&(n=e[o]).er&&((i=this[o].toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.ir&&(i="00"+i),(r=(r=i.length/2).toString(16)).length%2&&(r="0"+r),n.hasOwnProperty("extraspace")&&(t+=r),t+=r,t+=i,t+="02");return t.slice(0,-2)},B.prototype.rr=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(new RegExp(n,"g")).join("\n")},B.prototype.or=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n",e="3082025e02010002";return e+=this.tr(),t+=this.rr(U(e))+"\n",t+="-----END RSA PRIVATE KEY-----"},B.prototype.ur=function(){var t="-----BEGIN PUBLIC KEY-----\n",e="30819f300d06092a864886f70d010101050003818d0030818902";return e+=this.tr(),t+=this.rr(U(e))+"\n",t+="-----END PUBLIC KEY-----"};var x=function(t){B.call(this),t&&this.Xi(t)};((x.prototype=new B).constructor=x).prototype.$i=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",er:!0,ir:!0,sr:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",er:!0,ir:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",er:!0,ir:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",er:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",er:!0,ir:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",er:!0,ir:!0}}};var k=function(t){B.call(this),t&&("string"==typeof t?this.Xi(t):t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&(this.n=t.n,this.e=t.e))};((k.prototype=new B).constructor=k).prototype.$i=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0}}};var V=function(){this.ar=null,this.cr=null};return V.prototype.lr=function(t){this.ar=new x(t),this.cr=new k(this.ar)},V.prototype.pr=function(t){this.cr=new k(t)},V.prototype.decrypt=function(t){return!!this.ar&&this.ar.decrypt(function(t){var e,n,i="",r=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var o=M.indexOf(t.charAt(e));o<0||(r=0==r?(i+=u(o>>2),n=3&o,1):1==r?(i+=u(n<<2|o>>4),n=15&o,2):2==r?(i+=u(n),i+=u(o>>2),n=3&o,3):(i+=u(n<<2|o>>4),i+=u(15&o),0))}return 1==r&&(i+=u(n<<2)),i}(t))},V.prototype.encrypt=function(t){var e=this.cr||this.ar;return!!e&&U(e.encrypt(t))},V.prototype.or=function(){return this.ar||(this.ar=new x,this.ar.Qi(1024,"010001"),this.cr=new k(this.ar)),this.ar.or()},V.prototype.ur=function(){return this.cr||(this.cr=new k,this.cr.Qi(1024,"010001")),this.cr.ur()},function(t){var e=new V;return e.pr(G.Xt),e.encrypt(t)}}(),e.exports=i.encrypt},{17:17}],26:[function(t,e,n){var i=i||{},r="undefined";i.vr=function(t,e){return e=e||!1,t?"0"!=t:e},i.U=function(t,e){return null==t||isNaN(t)?e||0:parseInt(t)},i.o=function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},i.toString=function(t){if(typeof t==r)return r;if("string"==typeof t)return t;if(t instanceof Array)return t.join(",");var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e||t.toString()},e.exports.vr=i.vr,e.exports.U=i.U,e.exports.o=i.o,e.exports.toString=i.toString},{}],27:[function(t,e,n){var a=t(19),i="undefined",u=typeof encodeURIComponent!==i?encodeURIComponent:escape,s=typeof decodeURIComponent!==i?decodeURIComponent:unescape,c="cs_dir_",l="cs_file_",f=typeof localStorage!==i?localStorage:null,d={},p=f&&u&&s,o={dir:function(t){if(!p)return null;var e=c+t,n=d[e];if(n)return n.slice();var i=f.getItem(e);if(i){n=[];for(var r=0,o=(i=i.split("|")).length;r<o;r++)0<i[r].length&&n.push(s(i[r]));return(d[e]=n).slice()}return null},append:function(t,e,n){if(p){var i=o.read(t,e);i?i+=n:i=n,o.write(t,e,i)}},write:function(t,e,n){if(p){var i,r=o.dir(t);r||(i=c+t,"function"==typeof f.setItem?f.setItem(i,""):f[i]="",d[i]=[],r=[]),-1==a.indexOf(e,r)&&function(t,e){var n=c+t;try{"function"==typeof f.setItem?f.setItem(n,f.getItem(n)+"|"+u(e)):f[n]=f.getItem(n)+"|"+u(e)}catch(t){}d[n].push(e)}(t,e),function(t,e,n){try{"function"==typeof f.setItem?f.setItem(l+t+e,n):f[l+t+e]=n}catch(t){}}(t,e,n)}},deleteFile:function(t,e){if(!p)return!1;var n=o.dir(t);return!!n&&-1!=a.indexOf(e,n)&&(function(t,e){var n=c+t,i=d[n];i.splice(a.indexOf(e,i),1);for(var r=[],o=0,s=i.length;o<s;o++)r.push(u(i[o]));try{"function"==typeof f.setItem?f.setItem(n,r.join("|")):f[n]=r.join("|"),"function"==typeof f.removeItem?f.removeItem(l+t+e):delete f[l+t+e]}catch(t){}}(t,e),!0)},read:function(t,e){if(!p)return null;var n=o.dir(t);return n?-1==a.indexOf(e,n)?null:function(t,e){try{return"function"==typeof f.getItem?f.getItem(l+t+e):f[l+t+e]}catch(t){}}(t,e):null}};e.exports=o},{19:19}],28:[function(t,e,n){var s,r,o=t(19),i="undefined",a=null,u=null,c="cs_dir_",l="|",f={},d=!1;function p(){a=typeof FileSystem!=i?new FileSystem:null,u=typeof curWidget!=i?curWidget.id:null,typeof sf!==i&&(r=s=function(t,e){sf.core.localData(t,e)}),null==a||typeof a.isValidCommonPath==i||a.isValidCommonPath(u)||a.createCommonDir(u),d=!0}function _(t){return t.replace(/^\s+|\s+$/g,"")}function h(t,e){var n=f[t];n?n.push(e):n=f[t]=[e],r(c+t,n.join(l))}function g(t,e){var n=f[t],i=o.indexOf(e,n);0<=i&&(n.splice(i,1),r(c+t,0===n.length?null:n.join(l)))}var E={dir:function(t){if(d||p(),a.isValidCommonPath(u+"/"+t)){var e=f[t];if(!e){if(!(e=s(c+t)))return null;e=f[t]=e.split(l)}for(var n=e.slice(),i=0,r=n.length;i<r;i++){var o=e[i];a.isValidCommonPath(u+"/"+t+"/"+o)||g(t,o)}return n}return null},append:function(t,e,n){d||p();var i=u+"/"+t;a.isValidCommonPath(i)||a.createCommonDir(i),a.isValidCommonPath(i+"/"+e)||h(t,e);var r=a.openCommonFile(i+"/"+e,"a");r.writeLine(_(n)),a.closeCommonFile(r)},write:function(t,e,n){d||p();var i=u+"/"+t;a.isValidCommonPath(i)||a.createCommonDir(i),a.isValidCommonPath(i+"/"+e)||h(t,e);var r=a.openCommonFile(i+"/"+e,"w");r.writeLine(_(n)),a.closeCommonFile(r)},deleteFile:function(t,e){d||p();var n=u+"/"+t;return!!a.isValidCommonPath(n)&&(g(t,e),a.deleteCommonFile(n+"/"+e))},read:function(t,e){d||p();var n=u+"/"+t;if(!a.isValidCommonPath(n))return null;var i=a.openCommonFile(n+"/"+e,"r");if(i){for(var r,o=[];r=i.readLine();)o.push(r);return a.closeCommonFile(i),o.join("\n")}return g(t,e),""}};e.exports=E},{19:19}],29:[function(t,e,n){e.exports={dir:function(){return null},append:function(t,e,n){},write:function(t,e,n){},deleteFile:function(){return!1},read:function(){return null}}},{}],30:[function(t,e,n){var i=t(21),r=t(17),o=t(49).dr,s=t(49).hr(),a=t(45),u=t(29),c="undefined",l=r.D,f=r.Qt,d=null,p=null,_=null;function h(){null==d&&(p=typeof atv!=c&&typeof atv.device!=c&&atv.device.idForVendor?(d=i.pe(atv.device.idForVendor,""),"62"):(d=+new Date+~~(1e3*Math.random()),"72"),_=null)}var g={PLATFORM:"atv",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return h(),_},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.softwareVersion,l)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.softwareVersion,l)},getDisplayResolution:function(){return typeof atv.device!=c&&typeof atv.device.screenFrame!=c&&typeof atv.device.screenFrame.height!=c&&typeof atv.device.screenFrame.width!=c?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:f},getLanguage:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(t,e){return typeof atv!=c&&typeof atv.setTimeout!=c&&atv.setTimeout(t,e)},setInterval:function(t,e){return typeof atv!=c&&typeof atv.setInterval!=c&&atv.setInterval(t,e)},clearTimeout:function(t){return typeof atv!=c&&typeof atv.clearTimeout!=c&&atv.clearTimeout(t)},clearInterval:function(t){return typeof atv!=c&&typeof atv.clearInterval!=c&&atv.clearInterval(t)},isCompatible:function(){return typeof window==c&&typeof atv!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,45:45,49:49}],31:[function(t,e,n){var i=t(21),r=t(20),o=t(17),s=t(50),a=t(48)._r,u=t(46),c=t(27),l="undefined",f=o.D,d=o.Qt,p={PLATFORM:"chromecast",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===l?f:ns_.crm.getApplicationData().name},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.pe(r.ue()+" "+r.se(),f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availWidth)?window.screen.availWidth:0,e=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availHeight)?window.screen.availHeight:0;return 0<t&&0<e?t+"x"+e:d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==l&&!i.jt(window.cast)&&!i.jt(cast.receiver)},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=p},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(t,e,n){e.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(t,e,n){var i=t(21),r=t(17),o=t(50),s=t(48).gr,a=t(48)._r,u=t(46),c=t(27),l="undefined",f=r.D,d=r.Qt,p=null,_=null,h=null;function g(){return typeof device!=l&&typeof device.available!=l&&device.available&&typeof window!=l&&typeof window.navigator!=l}function E(){if(null==p){var t=g()&&typeof device!=l&&i.tn(device.uuid)&&0<device.uuid.length?device.uuid:null;h=null!=t?(_="31",p=t):(p=+new Date+~~(1e3*Math.random()),_="72",null)}}var v={PLATFORM:"cordova",httpGet:function(){return typeof Image!=l?o.apply(this,arguments):s.apply(this,arguments)},httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return E(),h},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return E(),p},getVisitorIdSuffix:function(){return _},getDeviceModel:function(){return typeof device!=l&&i.tn(device.model)||f},getPlatformVersion:function(){return typeof device!=l&&i.tn(device.cordova)&&device.cordova||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=l&&i.tn(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=l&&i.tn(device.version)||f},getDisplayResolution:function(){var t=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availWidth)&&window.screen.availWidth||0,e=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<t&&0<e?t+"x"+e:d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.tn(window.navigator.language)&&window.navigator.language||f},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==l||!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:g,isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=v},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(t,e,n){var i=t(21),r=t(20),o=t(17),s=t(50),a=t(48).gr,u=t(48)._r,c=t(46),l=t(27),f="undefined",d=typeof document!=f&&document||void 0,p=o.D,_=o.Qt,h={PLATFORM:"html5",httpGet:function(){return typeof Image!=f?s.apply(this,arguments):a.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return d&&i.tn(d.title)&&d.title||p},getAppVersion:function(){return p},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.pe(r.ue()+" "+r.se(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t,e;typeof window!=f&&window.screen&&window.screen.width&&(t=window.screen.width),typeof window!=f&&window.screen&&window.screen.width&&(e=window.screen.height);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):_},getApplicationResolution:function(){var t,e;typeof window!=f&&window.innerWidth&&(t=window.innerWidth),typeof window!=f&&window.innerHeight&&(e=window.innerHeight);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):_},getLanguage:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||p},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==f||!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){return typeof window!==f&&i.tn(window.navigator)&&i.tn(window.localStorage)&&i.tn(d)&&!!d.createElement("canvas").getContext},isConnectionSecure:function(){return!!d&&"s"===d.location.href.charAt(4)}};e.exports=h},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(48)._r,a=t(46),u=t(27),c="undefined",l=r.D,f=r.Qt,d=null,p=null,_=null;function h(){if(null==d)if(typeof jsmaf!=c&&i.tn(jsmaf.hardwareId)){var t=jsmaf.hardwareId;p="31",_=d=t}else d=+new Date+~~(1e3*Math.random()),p="72",_=null}function g(){return typeof jsmaf==c||!i.tn(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var E={PLATFORM:"jsmaf",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return h(),_},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return h(),p},getDeviceModel:function(){return typeof jsmaf!=c&&i.tn(jsmaf.platform)?jsmaf.platform:l},getPlatformName:function(){return"js"},getPlatformVersion:function(){return l},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=c&&i.tn(jsmaf.version)?jsmaf.version:l},getDisplayResolution:function(){return typeof jsmaf!=c&&i.tn(jsmaf.screenWidth)&&i.tn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:f},getLanguage:function(){return typeof jsmaf!=c&&i.tn(jsmaf.locale)?jsmaf.locale:l},getPackageName:function(){return null},isConnectionAvailable:g,isCompatible:function(){return typeof jsmaf!=c},setTimeout:function(t,e){return jsmaf.setTimeout(t,e)},setInterval:function(t,e){return jsmaf.setInterval(t,e)},clearTimeout:function(t){return jsmaf.clearTimeout(t)},clearInterval:function(t){return jsmaf.clearInterval(t)},getDeviceArchitecture:function(){if(typeof jsmaf==c||!i.tn(jsmaf.platform))var t=l;return"ps3"==jsmaf.platform?t="cell":"ps4"==jsmaf.platform?t="ps4":"vita"==jsmaf.platform&&(t="vita"),t},getConnectionType:function(){return g()&&typeof jsmaf!=c&&i.tn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":l:l},getDeviceJailBrokenFlag:function(){return l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=E},{17:17,21:21,27:27,46:46,48:48}],36:[function(t,e,n){var i=t(50),r=t(52).mr,o=t(46),s=t(29),a=t(17),u=a.D,c=a.Qt,l={PLATFORM:"generic",httpGet:i,httpPost:r,Storage:o,IO:s,onDataFetch:function(t){t()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return c},getApplicationResolution:function(){return c},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearTimeout:function(t){return clearTimeout(t)},clearInterval:function(t){return clearInterval(t)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};e.exports=l},{17:17,29:29,46:46,50:50,52:52}],37:[function(t,e,n){var i=t(21),r=t(17),o=t(50),s=t(48).gr,a=t(52).mr,u=t(46),c=t(29),l="undefined",f=r.D,d=r.Qt,p=null,_=null,h=null;function g(){if(null==p){var t=function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.net_macAddress)&&i.lt(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(i.tn(ns_.netcastDevice.serialNumber)&&i.lt(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();h=null!=t?(_="31",p=t):(p=+new Date+~~(1e3*Math.random()),_="72",null)}}var E={PLATFORM:"netcast",httpGet:function(){return typeof Image!=l?o.apply(this,arguments):s.apply(this,arguments)},httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return g(),h},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return g(),p},getVisitorIdSuffix:function(){return _},getDeviceModel:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||f},getPlatformVersion:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.version,f)||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)?"lg-ott"+i.pe(ns_.netcastDevice.platform,f):f},getRuntimeVersion:function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(i.tn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(i.tn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return f},getDisplayResolution:function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return d},getLanguage:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.tvLanguage2,i.pe(window.navigator.language))||f},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===l||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==l){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return f},isCompatible:function(){return typeof ns_!=l&&typeof ns_.netcastDevice!=l&&typeof ns_.netcastDevice.version!=l&&typeof window!=l&&typeof window.navigator!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=E},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(_,h,g){(function(t){var e=_(21),n=_(17),i=_(52).mr,r=_(46),o=_(29),s="undefined",a=n.D,u=n.Qt,c=null,l=null,f=null;function d(){null==c&&(c=+new Date+~~(1e3*Math.random()),l="72",f=null)}var p={PLATFORM:"nodejs",httpGet:function(t,e){new function(n){var i=this,r=0;i.send=function(t){_("http").get(t,function(t){var e=t.statusCode;if((302==e||301==e)&&r<20&&t.headers&&t.headers.location)return r++,void i.send(t.headers.location);n(e)}).on("error",function(){n()})}}(e).send(t)},httpPost:i,Storage:r,IO:o,getCrossPublisherId:function(){return d(),f},getVisitorId:function(){return d(),c},getVisitorIdSuffix:function(){return l},getPlatformVersion:function(){var t=_("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof E===s||e.jt(E.version)?a:E.version},getDisplayResolution:function(){return u},isCompatible:function(){return typeof window===s&&typeof h!==s&&typeof g!==s&&typeof t!==s&&typeof E!==s&&e.tn(E.version)},isConnectionSecure:function(){return!1}};h.exports=p}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(t,e,n){var i=t(24),r=t(32),o=t(36),s=t(40),a=t(37),u=t(43),c=t(33),l=t(41),f=t(30),d=t(44),p=t(31),_=t(42),h=t(35),g=t(38),E=t(34),v=!1;o.autoDetect=function(){v||(v=!0,s.isCompatible()?i.extend(o,s):a.isCompatible()?i.extend(o,a):u.isCompatible()?i.extend(o,u):c.isCompatible()?i.extend(o,c):l.isCompatible()?i.extend(o,l):f.isCompatible()?i.extend(o,f):d.isCompatible()?i.extend(o,d):p.isCompatible()?i.extend(o,p):_.isCompatible()?i.extend(o,_):h.isCompatible()?i.extend(o,h):g.isCompatible()?i.extend(o,g):E.isCompatible()&&i.extend(o,E))},o.autoSelect=o.autoDetect,o.setPlatformAPI=function(t){switch(v=!0,t){case r.SmartTV:i.extend(o,s);break;case r.Netcast:i.extend(o,a);break;case r.Cordova:i.extend(o,c);break;case r.Trilithium:i.extend(o,l);break;case r.AppleTV:i.extend(o,f);break;case r.Chromecast:i.extend(o,p);break;case r.Xbox:i.extend(o,d);break;case r.webOS:i.extend(o,u);break;case r.tvOS:i.extend(o,_);break;case r.JSMAF:i.extend(o,h);break;case r.nodejs:i.extend(o,g);break;case r.html5:i.extend(o,E);break;case r.Skeleton:break;default:v=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(52).mr,a=t(47),u=t(28),c="undefined",l=r.D,f=r.Qt,d=null,p=null,_=null;function h(){if(null==d){var t=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var t=sf.core.sefplugin("NNAVI");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return null;t.Open("Network","1.001","Network");var e=t.Execute("GetMAC","0");if(!i.jt(e))return e;if(e=t.Execute("GetMAC","1"),!i.jt(e))return e;var n=t.Execute("GetDeviceID");return i.jt(n)?null:n}();_=null!=t?(p="31",d=t):(d=+new Date+~~(1e3*Math.random()),p="72",null)}}var g={PLATFORM:"smarttv",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return h(),_},getAppName:function(){return l},getAppVersion:function(){return typeof sf!=c&&i.tn(sf.env)&&i.tn(sf.env.getAppVersion)&&sf.env.getAppVersion()||l},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return typeof sf!=c&&i.tn(sf.core)&&i.tn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||l},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==c&&i.tn(sf.env)&&i.tn(sf.env.getProductType)&&i.tn(sf.env.PRODUCTTYPE_TV)&&i.tn(sf.env.PRODUCTTYPE_MONITOR)&&i.tn(sf.env.PRODUCTTYPE_BD)){var t=[];return t[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",t[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",t[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",t[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=c&&i.tn(sf.env)&&i.tn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===c||!i.tn(sf.env)||!i.tn(sf.env.getScreenSize))return f;var t=sf.env.getScreenSize();return t.width+"x"+t.height},getLanguage:function(){if(typeof sf!==c&&i.tn(sf.env)&&i.tn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=c&&typeof window.navigator!=c&&typeof sf!=c&&typeof sf.env!=c},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return l;var t=sf.core.sefplugin("NETWORK");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return l;t.Open("Network","1.001","Network");var e=t.Execute("GetActiveType");return 0===e?"wired":1===e?"wireless":l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(t,e,n){var i=t(21),r=t(17),o=t(51),s=t(52),a=t(46),u=t(29),c="undefined",l=r.D,f=r.Qt,d=null,p=null,_=null;function h(){if(null==d){var t=i.lt(engine.stats.device.id)?engine.stats.device.id:i.lt(engine.stats.network.mac)?engine.stats.network.mac:null;_=null!=t?(p="31",d=t):(d=+new Date+~~(1e3*Math.random()),p="72",null)}}var g={PLATFORM:"trilithium",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return h(),_},getAppName:function(){return i.lt(engine.stats.application.name)?engine.stats.application.name:l},getAppVersion:function(){return i.lt(engine.stats.application.version)?engine.stats.application.version:l},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return i.pe(engine.stats.device.platform,l)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return i.pe(engine.stats.device.version,l)},getDisplayResolution:function(){return typeof screen!=c&&typeof screen.height!=c&&typeof screen.width!=c?screen.height+"x"+screen.width:f},getLanguage:function(){return l},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=c&&typeof engine.stats!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(48)._r,a=t(46),u=t(27),c="undefined",l=r.D,f=r.Qt,d=null,p=null,_=null;function h(){null==d&&(p=i.jt(Device.vendorIdentifier)?(d=+new Date+~~(1e3*Math.random()),"72"):(d=Device.vendorIdentifier,"62"),_=d)}var g={PLATFORM:"tvos",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return h(),_},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return f},getLanguage:function(){return Settings.language},getPackageName:function(){return l},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===c&&typeof Device!==c&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};e.exports=g},{17:17,21:21,27:27,46:46,48:48}],43:[function(t,e,n){var a,u,c,i=t(21),r=t(17),o=t(50),s=t(48)._r,l=t(46),f=t(27),d="undefined",p=r.D,_=r.Qt,h={PLATFORM:"webos",httpGet:o,httpPost:s,Storage:l,IO:f,onDataFetch:function(t,e){var n,i,r,o=3,s=function(){0==--o&&t()};n=s,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(t){t.returnValue&&(a=t),n()},onFailure:function(){n()}}),i=s,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(t){t.returnValue&&(u=t),i()},onFailure:function(){i()}}),r=s,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(t){t.returnValue&&(c=t),r()},onFailure:function(){r()}})},getCrossPublisherId:function(){return typeof webOS!==d&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return a&&a.modelName?a.modelName:p},getPlatformVersion:function(){return a&&a.sdkVersion?a.sdkVersion:p},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==d&&webOS.device?webOS.device.platformVersion:p},getDisplayResolution:function(){var t=0;typeof webOS!==d&&webOS.device?t=webOS.device.screenWidth:typeof window!=d&&window.screen&&(t=window.screen.availWidth);var e=0;return typeof webOS!==d&&typeof webOS.device!==d?e=webOS.device.screenHeight:typeof window!=d&&window.screen&&(e=window.screen.availHeight),0<t&&0<e?t+"x"+e:_},getLanguage:function(){return u&&u.locales&&(u.locales.UI||u.locales.TV)||p},getPackageName:function(){return p},isConnectionAvailable:function(){return!c||!c.isInternetConnectionAvailable||c.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==d&&!i.jt(window.webOS)&&!i.jt(webOS.service)&&!i.jt(webOS.service.request)},getConnectionType:function(){if(c&&(c.wired||c.wifi)){if("connected"===c.wired.state&&"yes"===c.wired.onInternet)return"eth";if("connected"===c.wifi.state&&"yes"===c.wifi.onInternet)return"wifi"}return p},isConnectionSecure:function(){return typeof document!=d&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=h},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(t,e,n){var i=t(17),r=t(53).wr,o=t(53).yr,s=t(46),a=t(27),u="undefined",c=i.D,l=i.Qt,f=null,d=null,p=null,_=!1,h=!1,g=!1;function E(){typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){h=!0}),v(),g=!0}function v(){var t=null;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=e&&!e.br&&e.Ir&&(t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}p=t}var m={PLATFORM:"xbox",httpGet:r,httpPost:o,Storage:s,IO:a,getCrossPublisherId:function(){return g||E(),h&&v(),p},getAppName:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},getAppVersion:function(){var t=c;if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var e=Windows.ApplicationModel.Package.current.id.version;t=e.major+"."+e.minor+"."+e.build+"."+e.revision}return t},getVisitorId:function(){return _||function(){f=typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),d="72",_=!0}(),f},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=c;return typeof navigator!=u&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(t){return-1!=t.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(t){return t&&t.id&&t.id.name&&-1!=t.id.name.indexOf("WinJS")&&t.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var t=l;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var e=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;t=e.rawWidth+"x"+e.rawHeight}return t},getApplicationResolution:function(){var t=l;return typeof window!=u&&window.innerWidth&&window.innerHeight&&(t=window.innerWidth+"x"+window.innerHeight),t},getLanguage:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(t=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),t},getPackageName:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},isConnectionAvailable:function(){return!(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=u&&WinJS&&typeof Windows!=u&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return g||E(),h},getDeviceArchitecture:function(){var t="unknown";if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:t="arm";break;case 11:t="neutral";break;case 9:t="x64";break;case 0:t="x86"}return t},getConnectionType:function(){var t=c;if(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:t="eth";break;case 71:t="wifi"}return t},getDeviceJailBrokenFlag:function(){return c},isConnectionSecure:function(){return typeof document!=u&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=m},{17:17,27:27,46:46,53:53}],45:[function(t,e,n){var i=t(24),r="undefined",o="cs_";e.exports=function(){var n=typeof atv!=r&&typeof atv.localStorage!=r&&atv.localStorage||null;i.extend(this,{get:function(t){return n&&t&&n.getItem(o+t)||null},set:function(t,e){n&&t&&(n[o+t]=e)},has:function(t){return n&&t&&null!=n.getItem(o+t)||!1},remove:function(t){n&&t&&n.removeItem(o+t)},clear:function(){}})}},{24:24}],46:[function(t,e,n){var i=t(24),r="cs_";e.exports=function(){var n="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(r+t):n?n[r+t]:n}catch(t){}},set:function(t,e){try{n&&"function"==typeof n.setItem?n.setItem(r+t,e):n&&(n[r+t]=e)}catch(t){}},has:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(r+t):n?n[r+t]:n}catch(t){}},remove:function(t){try{n&&"function"==typeof n.removeItem?n.removeItem(r+t):n&&delete n[r+t]}catch(t){}},clear:function(){try{for(var t=0;n&&t<n.length;++t){var e=n.key(t);e.substr(0,r.length)===r&&("function"==typeof n.removeItem?n.removeItem(e):delete n[e])}}catch(t){}}})}},{24:24}],47:[function(t,e,n){var i,r,o=t(24),s="cs_";"undefined"!=typeof sf?r=i=function(t,e){sf.core.localData(t,e)}:(r=function(t,e){$.sf.setData(t,void 0===e?null:e)},i=function(t){return $.sf.getData(t)}),e.exports=function(){o.extend(this,{get:function(t){return i(s+t)},set:function(t,e){r(s+t,e)},has:function(t){return void 0!==i(s+t)},remove:function(t){r(s+t,null)}})}},{24:24}],48:[function(t,e,n){var r="undefined";n.gr=function(t,e){if(typeof XMLHttpRequest!=r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(e&&e(n.status),n=null)},n.send()}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n._r=function(t,e,n){if(typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",t,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(e)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(t,e,n){var r="undefined";n.dr=function(t,e){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&(e&&e(n.status),n=null)},n.send()}else typeof atv!=r&&"function"==typeof atv.setTimeout?e&&atv.setTimeout(e,0):e&&e()},n.hr=function(t,e,n){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",t,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(e)}else typeof atv!=r&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(t,e,n){e.exports=function(t,e){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){e&&e(200),n=null},n.onerror=function(){e&&e(),n=null},n.src=t}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],51:[function(t,e,n){e.exports=function(t,e){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",t,null).start(),e&&setTimeout(e,0)):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],52:[function(t,e,n){e.exports.Sr=function(t,e){"function"==typeof setTimeout?e&&setTimeout(function(){e(200)},0):e&&e(200)},e.exports.mr=function(t,e,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)}},{}],53:[function(t,e,n){var i="undefined";n.wr=function(t,e){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:t}).then(function(t){e&&e(t.status)},function(){e&&e()}):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n.yr=function(t,e,n){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:t,data:e,headers:{"Content-type":"application/xml"}}).then(function(t){n&&n(t.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(t,e,n){var rt=t(24),ot=t(17),st=t(21),at=t(68),ut=t(23);function i(){var e,n,S,y,i,r,o,s,T,C,b,P,a,u,O,R,c,N,D,l,L,w,B,M,U,x,k,V,G,F,H,f,j,W,t,Y,d,p,_,K,h,g,E,z,v,m,q,I,$,Q,X,Z,J,tt,A,et,nt=this,it=500;rt.extend(nt,{Pr:function(){return e},Ar:function(t){e=t},setPlaybackIntervalMergeTolerance:function(t){it=t},getPlaybackIntervalMergeTolerance:function(){return it},Cr:function(t,e){y[t]=e},kr:function(t){return y[t]},Er:function(t){return null!=y[t]},setLabels:function(t){t&&rt.extend(i,t)},getLabels:function(){return i},setLabel:function(t,e){i[t]=e},getLabel:function(t){return i[t]},dt:function(t){return t in i},Tr:function(){return parseInt(nt.kr("ns_st_cn"))},Nr:function(t){nt.Cr("ns_st_cn",t+"")},Lr:function(){return nt.dt("ns_st_pn")?parseInt(nt.getLabel("ns_st_pn")):parseInt(nt.kr("ns_st_pn"))},Dr:function(t,e,n){var i=t,r=parseInt(i.ns_st_po),o=st.jt(i.ns_st_ap)?L:parseInt(i.ns_st_ap);i.ns_st_dap=n&&et<0&&0<P-r?(i.ns_st_ap=o+P-r,o+P-r-w):n&&0<et&&0<r-P?(i.ns_st_ap=o+r-P,o+r-P-w):(i.ns_st_ap=o)-w;var s=st.jt(i.ns_st_pt)?nt.Rr():parseInt(i.ns_st_pt);i.ns_st_pt=s+(isNaN(T)?0:e-T)+"",i.ns_st_dpt=s+(isNaN(T)?0:e-T)-C+"",i.ns_st_ipt=s+(isNaN(T)?0:e-T)-b+"";var a=st.jt(i.ns_st_et)?nt.Mr():parseInt(i.ns_st_et);i.ns_st_et=a+(isNaN(O)?0:e-O)+"",i.ns_st_det=a+(isNaN(O)?0:e-O)-R+"";var u=st.jt(i.ns_st_bt)?nt.Or():parseInt(i.ns_st_bt);i.ns_st_bt=u+"",i.ns_st_dbt=u+(isNaN(j)?0:e-j)-W+"";var c=B,l=M;n&&(c=at.Wr(ut(B),et<0?r:U,et<0?U:r,it),l=at.Wr(ut(M),et<0?r:U,et<0?U:r,it));for(var f,d=0,p=0,_=0;_<c.length;_++)d+=f=Math.abs(c[_].end-c[_].start),p<f&&(p=f);var h=0,g=0;for(_=0;_<l.length;_++)h+=f=Math.abs(l[_].end-l[_].start),g<f&&(g=f);i.ns_st_upc=d+"",i.ns_st_dupc=d-x+"",i.ns_st_iupc=d-k+"",i.ns_st_iupc=k<d?d-k+"":"0",i.ns_st_lpc=p+"",i.ns_st_dlpc=p-V+"",i.ns_st_upa=h+"",i.ns_st_dupa=h-G+"",i.ns_st_iupa=F<h?h-F+"":"0",i.ns_st_lpa=g+"",i.ns_st_dlpa=g-H+"";var E=st.jt(i.ns_st_pc)?nt.Vr():parseInt(i.ns_st_pc);i.ns_st_pc=E+"",i.ns_st_dpc=E-q+"";var v=st.jt(i.ns_st_skc)?nt.xr():parseInt(i.ns_st_skc);i.ns_st_skc=v+"",i.ns_st_dskc=v-$+"";var m=st.jt(i.ns_st_bc)?nt.Ur():parseInt(i.ns_st_bc);i.ns_st_bc=m+"",i.ns_st_dbc=m-Y+"";var I=st.jt(i.ns_st_skt)?nt.Br():parseInt(i.ns_st_skt);i.ns_st_skt=I+"",i.ns_st_dskt=I-K+"";var A=st.jt(i.ns_st_ska)?nt.Fr():parseInt(i.ns_st_ska);i.ns_st_ska=A+"",i.ns_st_dska=A-z+"",S&&(i.ns_st_spc=Q+"",i.ns_st_apc=X+"",i.ns_st_sq=Z+"",i.ns_st_asq=J+""),i.ns_st_sc=S||0!=tt?tt+"":"1",i.ns_st_rt=et+"",i.ns_st_ldw=N,i.ns_st_ldo=D,rt.extend(i,y)},jr:function(t){C=parseInt(t.ns_st_pt),w=parseInt(t.ns_st_ap),R=parseInt(t.ns_st_et),W=parseInt(t.ns_st_bt),x=parseInt(t.ns_st_upc),V=parseInt(t.ns_st_lpc),G=parseInt(t.ns_st_upa),H=parseInt(t.ns_st_lpa),q=parseInt(t.ns_st_pc),$=parseInt(t.ns_st_skc),Y=parseInt(t.ns_st_bc),K=parseInt(t.ns_st_skt),z=parseInt(t.ns_st_ska),nt.Gr(0)},Kr:function(t){b=parseInt(t.ns_st_pt),k=parseInt(t.ns_st_upc),F=parseInt(t.ns_st_upa)},qr:function(){return nt.kr("ns_st_vt")},Hr:function(t){nt.Cr("ns_st_vt",t+"")},Yr:function(){return nt.kr("ns_st_at")},Jr:function(t){nt.Cr("ns_st_at",t+"")},zr:function(){return nt.kr("ns_st_tt")},Qr:function(t){nt.Cr("ns_st_tt",t+"")},Xr:function(){return nt.kr("ns_st_cdn")},Zr:function(t){nt.Cr("ns_st_cdn",t+"")},$r:function(){return B},no:function(t){B=t},to:function(){return M},eo:function(){m++},io:function(){I++},ro:function(){Z++},oo:function(){return Z},Or:function(){return f},uo:function(t){f=t},so:function(t){if(!isNaN(j)){var e=nt.Or();e+=t-j,nt.uo(e),j=NaN}},ao:function(t){U=parseInt(t)},fo:function(){return U},co:function(t){isNaN(U)||isNaN(t)||(B=at.Wr(B,et<0?t:U,et<0?U:t,it),M=at.Wr(M,et<0?t:U,et<0?U:t,it),U=NaN)},Mr:function(){return u},lo:function(t){u=t},po:function(t){if(!isNaN(O)){var e=nt.Mr();e+=t-O,nt.lo(e),O=NaN}},vo:function(){return O},do:function(t){O=t},ho:function(t){isNaN(T)||(s+=t-T,T=NaN)},Rr:function(){return s},_o:function(t){var e=P+l-D;return!o&&isNaN(T)||(e+=Math.floor((t-a)*et/100)),e},mo:function(t,e){return o?P-t+Math.floor((e-a)*et/100)+l:0},wo:function(t,e){P=t,a=e},yo:function(){return T},bo:function(t){T=t},Io:function(t){C=t},So:function(){return j},Po:function(t){j=t},Vr:function(){return m},Ao:function(t){m=t},xr:function(){return I},Co:function(t){I=t},ko:function(t){d=t},Eo:function(){return d},To:function(t){g=t},No:function(){return g},Lo:function(t){n=t},Do:function(){return n},Ro:function(t){S=t},Mo:function(){return S},Oo:function(t){p=t},Wo:function(){return p},Vo:function(t){if(!isNaN(p)){var e=nt.Br();e+=t-p,nt.xo(e),p=NaN}},Br:function(){return _},xo:function(t){_=t},Uo:function(t){v=t},Bo:function(){return v},Fo:function(t){h=t},jo:function(){return h},Go:function(t){E=t},Fr:function(){return E},Ko:function(t){var e,n=nt.Fr();n+=Math.abs(t-h),nt.Go(n),h==t?e=0:t<h?e=-1:h<t&&(e=1),nt.Gr(e),h=0},qo:function(){return parseInt(nt.kr("ns_st_skd"))},Gr:function(t){nt.Cr("ns_st_skd",t+"")},Ho:function(){M=[],$=I=z=E=K=_=R=u=H=F=G=Z=q=m=Y=t=W=f=b=C=s=w=L=0},Yo:function(){Q++},Jo:function(){tt++},zo:function(){X++},Qo:function(){return x},Xo:function(t){x=t},Zo:function(){return k},$o:function(t){k=t},nu:function(t){V=t},tu:function(){return V},eu:function(){M=[],H=F=G=0},iu:function(t){Q=t},ru:function(t){tt=t},ou:function(t){X=t},uu:function(t){c=t},su:function(){return Q},au:function(){return tt},fu:function(){return X},cu:function(){return c},Ur:function(){return t},lu:function(){t++},pu:function(){return W},vu:function(t){J=t},du:function(){J++},hu:function(){return J},_u:function(){return A},gu:function(t){A=t},mu:function(t){r=!!t},wu:function(){return r},yu:function(){return et},bu:function(t){et=t},Iu:function(t){et<0&&0<P-t?L+=P-t:0<et&&0<t-P&&(L+=t-P)},Su:function(t){N=t},Pu:function(){return N},Au:function(t){D=t},Cu:function(){return D},ku:function(t){l=t},Eu:function(t){o=t}}),(y={}).ns_st_cl="0",y.ns_st_pn="1",y.ns_st_tp="0",y.ns_st_cn="1",y.ns_st_skd="0",y.ns_st_ci="0",y.c3="*null",y.c4="*null",y.c6="*null",y.ns_st_st="*null",y.ns_st_pu="*null",y.ns_st_pr="*null",y.ns_st_ep="*null",y.ns_st_sn="*null",y.ns_st_en="*null",y.ns_st_ct="*null",n=S=!(i={}),e=ot.D,o=!(r=!0),B=[],p=j=U=O=T=NaN,tt=J=Z=X=Q=$=I=q=m=z=E=K=_=v=h=Y=t=W=f=H=F=G=V=k=x=w=L=l=D=N=b=R=c=u=C=P=s=0,A=g=d=!(M=[]),et=100}i.Tu=function(t,e,n){for(var i=t.getLabels(),r={},o=0;n&&o<n.length;++o)i.hasOwnProperty(n[o])&&(r[n[o]]=i[n[o]]);e.setLabels(r),e.setPlaybackIntervalMergeTolerance(t.getPlaybackIntervalMergeTolerance())},e.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(t,e,n){var c=t(73),d=t(74),p=t(76),_=t(77),h=t(69),E=t(71),v=t(72),m=t(70),I=t(75),Q=t(78),X=t(79),Z=t(80),J=t(81),tt=t(55),et=t(68),nt=t(65),it=t(20),rt=t(24),ot=t(19),st=t(82),at=t(62),ut=t(63),ct=t(58).Nu,lt=t(58).Lu,ft=t(58).Du,dt=t(61),pt=t(60),_t=t(59),ht=t(18),gt=t(66),Et=t(17),vt=t(2),mt="undefined",It="6.2.3.180328";e.exports=function(A){var S,y,T,C,b,P,O,R,N,D,L,w,B,M,e,n,U,x,i,r,o,k,V,a,l,G,F,H=this,t={},s=500,u=500,g={},f=!1,j=!0,W=!1,Y=!1;function K(t){var e=S.Mu().Ru();if(e==ct.IDLE||e==ct.PLAYBACK_NOT_STARTED||e==ct.BUFFERING_BEFORE_PLAYBACK||e==ct.SEEKING_BEFORE_PLAYBACK){if(t==lt.PLAY)return!0}else if(e==ct.PLAYING){if(t==lt.END||t==lt.AD_SKIP||t==lt.SEEK_START||t==lt.PAUSE)return!0}else if(e==ct.PAUSED||e==ct.BUFFERING_DURING_PAUSE||e==ct.SEEKING_DURING_PLAYBACK||e==ct.SEEKING_DURING_BUFFERING||e==ct.SEEKING_DURING_PAUSE){if(t==lt.END||t==lt.AD_SKIP||t==lt.PLAY)return!0}else if(e==ct.BUFFERING_DURING_PLAYBACK){if(t==lt.PAUSE_ON_BUFFERING||t==lt.END||t==lt.AD_SKIP||t==lt.SEEK_START||t==lt.PAUSE||t==lt.PLAY)return!0}else if(e==ct.BUFFERING_DURING_SEEKING){if(t==lt.END||t==lt.AD_SKIP||t==lt.PAUSE||t==lt.PLAY)return!0}else if(e==ct.PAUSED_DURING_BUFFERING&&(t==lt.END||t==lt.AD_SKIP||t==lt.BUFFER_STOP||t==lt.PLAY))return!0;return!1}function z(){W||(W=!0,st.Ou(q))}function q(t){F=t,Y=!0}function $(){var t={},e=et.Wu(t);H.Vu(lt.END,e,t)}rt.extend(H,{getConfiguration:function(){return A||{}},Dr:function(t,e,n){var i=S.getPlaybackSession(),r=i.getAsset(),o=!1;if(t==lt.HEARTBEAT){var s=isNaN(x)?U:x;((x=n)<s||Y)&&(Y=!(o=!0),n<s?(i.xu("1"),S.Uu().$t("System clock jump detected","to the far past")):F?(i.xu("3"),S.Uu().$t("System clock jump detected","to the future")):(i.xu("2"),S.Uu().$t("System clock jump detected","to the near past")),n=s)}var a={};if(f&&(a.c2=l),typeof document!=mt){var u=document;a.c7=u.URL,a.c8=u.title,a.c9=u.referrer}a.ns_ts=+new Date+"",a.ns_st_ev=lt.toString(t),a.ns_st_mp="js_api",a.ns_st_mv=It,a.ns_st_ub="0",a.ns_st_br="0",a.ns_st_pn="1",a.ns_st_tp="0",a.ns_st_it=ft.toString(ft.Bu),a.ns_st_sv=It,a.ns_st_smv="5.10",a.ns_type="hidden",a.ns_st_ec=S.ju().Fu()+"",a.ns_st_ki=S.S().Gu()+"",e.ns_st_po?a.ns_st_po=e.ns_st_po+"":r.wu()?a.ns_st_po=r._o(n)+"":a.ns_st_po=G+"",G=parseInt(a.ns_st_po),i.Dr(a,n),i.getAsset().Dr(a,n,t==lt.HEARTBEAT);var c={};return rt.extend(c,g),rt.extend(c,i.getLabels()),rt.extend(c,i.getAsset().getLabels()),rt.extend(c,e),o&&(r.wo(G,x),i.bo(x-parseInt(a.ns_st_dpt)),r.bo(x-parseInt(a.ns_st_dpt)),r.do(x-parseInt(a.ns_st_det))),{Wt:t,Ut:a,Ku:c}},Vu:function(t,e,n,i){H.qu();var r=S.Mu().Ru(),o=S.Mu().Hu(t);if(null!=o&&o!=r)if(!H.isThrottlingEnabled()||r!=ct.PLAYING&&r!=ct.PAUSED||o!=ct.PLAYING&&o!=ct.PAUSED||i){var s,a;A.systemClockJumpDetection&&(o==ct.IDLE?(st.Yu(q),W=!1):r==ct.IDLE&&z()),j&&et.Ju(r)&&!et.Ju(o)?at.zu($):j&&!et.Ju(r)&&et.Ju(o)&&at.Qu($);var u=S.getPlaybackSession(),c=u.getAsset(),l=isNaN(x)?U:x,f=!1;((x=e)<l||Y)&&(Y=!(f=!0),e<l?(u.xu("1"),S.Uu().$t("System clock jump detected","to the far past")):F?(u.xu("3"),S.Uu().$t("System clock jump detected","to the future")):(u.xu("2"),S.Uu().$t("System clock jump detected","to the near past")),e=l),n.ns_st_po?S.Mu().Ru()==ct.IDLE?c.Au(c.Pu()-parseInt(n.ns_st_po)):c.Au(c.mo(parseInt(n.ns_st_po),e)):c.wu()?S.Mu().Ru()==ct.IDLE?n.ns_st_po=c.Pu()-c.Cu()+"":n.ns_st_po=c._o(e)+"":n.ns_st_po=G+"";var d,p,_,h,g=parseInt(n.ns_st_po);G=g,d=t,p=e,_=n,h=S.Mu().Ru(),d==lt.AD_SKIP&&!_.hasOwnProperty("ns_st_ui")&&K(d)?_.ns_st_ui="skip":d==lt.SEEK_START&&!_.hasOwnProperty("ns_st_ui")&&K(d)&&(_.ns_st_ui="seek"),h==ct.IDLE?d==lt.BUFFER?y.Xu(p,_):d==lt.SEEK_START?y.Zu(p,_):d==lt.PLAY&&y.$u(p,_):h==ct.PLAYBACK_NOT_STARTED?d==lt.END||d==lt.AD_SKIP?C.ns(p,_):d==lt.SEEK_START?C.Zu(p,_):d==lt.PLAY?C.$u(p,_):d==lt.BUFFER&&C.Xu(p,_):h==ct.PLAYING?d==lt.END||d==lt.AD_SKIP?b.ns(p,_):d==lt.BUFFER?b.Xu(p,_):d==lt.SEEK_START?b.Zu(p,_):d==lt.PAUSE&&b.ts(p,_):h==ct.PAUSED?d==lt.END||d==lt.AD_SKIP?T.ns(p,_):d==lt.PLAY?T.$u(p,_):d==lt.BUFFER?M.es(p,_):d==lt.SEEK_START&&M.rs(p,_):h==ct.BUFFERING_BEFORE_PLAYBACK?d==lt.END||d==lt.AD_SKIP?P.ns(p,_):d==lt.BUFFER_STOP?P.os(p,_):d==lt.SEEK_START?P.Zu(p,_):d==lt.PAUSE?P.ts(p,_):d==lt.PLAY&&P.$u(p,_):h==ct.BUFFERING_DURING_PLAYBACK?d==lt.PAUSE_ON_BUFFERING?O.us(p,_):d==lt.BUFFER_STOP?M.ss(p,_):d==lt.END||d==lt.AD_SKIP?O.ns(p,_):d==lt.SEEK_START?O.Zu(p,_):d==lt.PAUSE?O.ts(p,_):d==lt.PLAY&&M.ss(p,_):h==ct.BUFFERING_DURING_SEEKING?d==lt.END||d==lt.AD_SKIP?R.ns(p,_):d==lt.PAUSE?R.ts(p,_):d==lt.PLAY?R.$u(p,_):d==lt.BUFFER_STOP&&M.as(p,_):h==ct.BUFFERING_DURING_PAUSE?d==lt.END||d==lt.AD_SKIP?N.fs(p,_):d==lt.PAUSE?N.ts(p,_):d==lt.PLAY?N.$u(p,_):d==lt.SEEK_START?M.rs(p,_):d==lt.BUFFER_STOP&&M.as(p,_):h==ct.SEEKING_BEFORE_PLAYBACK?d==lt.END||d==lt.AD_SKIP?L.ns(p,_):d==lt.PAUSE?L.ts(p,_):d==lt.PLAY?L.$u(p,_):d==lt.BUFFER&&M.es(p,_):h==ct.SEEKING_DURING_PLAYBACK?d==lt.END||d==lt.AD_SKIP?B.ns(p,_):d==lt.PLAY?B.$u(p,_):d==lt.BUFFER?M.es(p,_):d==lt.PAUSE&&M.cs(p,_):h==ct.SEEKING_DURING_BUFFERING?d==lt.PAUSE?w.ts(p,_):d==lt.BUFFER?M.es(p,_):d==lt.PLAY?M.ls(p,_):d==lt.END||d==lt.AD_SKIP?M.ps(p,_):d==lt.BUFFER_STOP&&M.vs(p,_):h==ct.PAUSED_DURING_BUFFERING?d==lt.END||d==lt.AD_SKIP?D.ns(p,_):d==lt.BUFFER_STOP?D.ds(p,_):d==lt.SEEK_START?D.Zu(p,_):d==lt.PAUSE?D.ts(p,_):d==lt.PLAY&&D.ds(p,_):h==ct.SEEKING_DURING_PAUSE&&(d==lt.BUFFER?M.es(p,_):d==lt.PLAY?M.ls(p,_):d==lt.PAUSE?M.cs(p,_):d==lt.END||d==lt.AD_SKIP?M.ps(p,_):d==lt.BUFFER_STOP&&M.vs(p,_)),K(d)&&S.getPlaybackSession().hs(!0),c.wo(g,e),c.ku(c.Cu());var E=0;isNaN(S.Mu()._s())||(E=e-S.Mu()._s()),S.Mu().Vu(t,e),f&&(c.wo(g,x),o!=ct.IDLE&&o!=ct.PLAYBACK_NOT_STARTED&&o!=ct.SEEKING_BEFORE_PLAYBACK&&o!=ct.BUFFERING_BEFORE_PLAYBACK&&c.do(x),o!=ct.BUFFERING_BEFORE_PLAYBACK&&o!=ct.BUFFERING_DURING_PAUSE&&o!=ct.BUFFERING_DURING_PLAYBACK&&o!=ct.BUFFERING_DURING_SEEKING&&o!=ct.PAUSED_DURING_BUFFERING||(u.Po(x),c.Po(x)),o==ct.PLAYING&&(u.bo(x),c.bo(x)),o!=ct.SEEKING_BEFORE_PLAYBACK&&o!=ct.SEEKING_DURING_BUFFERING&&o!=ct.SEEKING_DURING_PAUSE&&o!=ct.SEEKING_DURING_PLAYBACK&&o!=ct.BUFFERING_DURING_SEEKING||c.Oo(x)),S.Uu().log("Transition from",et.gs(r),"to",et.gs(o),"due to event:",lt.toString(t));for(var v=0,m=V.length;v<m;v++)V[v](r,o,n,E)}else{S.Uu().$t("Throttled event:",lt.toString(t),"during state",et.gs(r),n,H.getThrottlingDelay(),"ms");var I=(s=t,a=n,function(){H.Vu(s,e,a,!0)});k=H.getPlatformAPI().setTimeout(I,H.getThrottlingDelay())}else S.Uu().$t("Ignored event:",lt.toString(t),"during state",et.gs(r),n)},ms:function(t,e,n){var i=S.Mu().Ru();if(t!=lt.LOAD&&t!=lt.ENGAGE||i==ct.IDLE){t==lt.ERROR&&null==n.ns_st_er&&(n.ns_st_er=Et.D),t==lt.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=Et.D);var r,o,s,a,u=!0,c=!1;switch(t){case lt.BIT_RATE:r="ns_st_br",o="ns_st_pbr";break;case lt.PLAYBACK_RATE:r="ns_st_rt",o="ns_st_prt";break;case lt.VOLUME:r="ns_st_vo",o="ns_st_pvo";break;case lt.WINDOW_STATE:r="ns_st_ws",o="ns_st_pws";break;case lt.AUDIO:r="ns_st_at",o="ns_st_pat";break;case lt.VIDEO:r="ns_st_vt",o="ns_st_pvt";break;case lt.SUBS:r="ns_st_tt",o="ns_st_ptt";break;case lt.CDN:r="ns_st_cdn",o="ns_st_pcdn";break;default:u=!1}var l=S.getPlaybackSession(),f=l.getAsset();if(u&&r in n)switch(a=n[r],t){case lt.BIT_RATE:case lt.VOLUME:case lt.WINDOW_STATE:r in g&&(s=g[r],c=a==(n[o]=s)+""),g[r]=n[r];break;case lt.AUDIO:case lt.VIDEO:case lt.SUBS:case lt.CDN:f.Er(r)&&(s=f.kr(r),c=a==(n[o]=s)+""),f.Cr(r,n[r]);break;case lt.PLAYBACK_RATE:s=f.yu(),n[o]=s+""}if(u&&i!=ct.PLAYING&&i!=ct.BUFFERING_DURING_PLAYBACK||u&&c)return t==lt.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),void S.Uu().$t("No measurement send for the pseudo-event:",lt.toString(t),"during state",et.gs(i),n);var d=isNaN(x)?U:x,p=!1;((x=e)<d||Y)&&(Y=!(p=!0),e<d?(l.xu("1"),S.Uu().$t("System clock jump detected","to the far past")):F?(l.xu("3"),S.Uu().$t("System clock jump detected","to the future")):(l.xu("2"),S.Uu().$t("System clock jump detected","to the near past")),e=d),n.ns_st_po?f.Au(f.mo(parseInt(n.ns_st_po),e)):f.wu()?n.ns_st_po=f._o(e)+"":n.ns_st_po=G+"";var _=parseInt(n.ns_st_po);G=_,S.getPlaybackSession().getAsset().wo(_,e),f.ku(f.Cu()),i!=ct.IDLE&&i!=ct.PLAYBACK_NOT_STARTED&&i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_BEFORE_PLAYBACK&&(f.po(e),f.do(e)),i==ct.PLAYING&&(l.ho(e),l.bo(e),f.ho(e),f.bo(e),f.Iu(_),f.co(parseInt(n.ns_st_po)),f.ao(parseInt(n.ns_st_po))),i!=ct.BUFFERING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_DURING_PAUSE&&i!=ct.BUFFERING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING||(l.so(e),l.Po(e),f.so(e),f.Po(e));var h=H.Dr(t,n,e);f.jr(h.Ut),f.Kr(h.Ut),S.ju().Vu(h),t==lt.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),p&&(f.wo(_,x),i==ct.PLAYING&&(l.bo(x),f.bo(x)),i!=ct.IDLE&&i!=ct.PLAYBACK_NOT_STARTED&&i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_BEFORE_PLAYBACK&&f.do(x),i!=ct.BUFFERING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_DURING_PAUSE&&i!=ct.BUFFERING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING&&i!=ct.PAUSED_DURING_BUFFERING||(l.Po(x),f.Po(x)),i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.SEEKING_DURING_BUFFERING&&i!=ct.SEEKING_DURING_PAUSE&&i!=ct.SEEKING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING||f.Oo(x))}else S.Uu().$t("Ignored pseudo-event:",lt.toString(t),"during state",et.gs(i),n)},getState:function(){return S.Mu().Ru()},addListener:function(t){V.push(t)},removeListener:function(t){V.splice(ot.indexOf(t,V),1)},getLabel:function(t){return g[t]},getLabels:function(){return g},setLabel:function(t,e){null==e?delete g[t]:g[t]=e},setLabels:function(t){for(var e in t)t.hasOwnProperty(e)&&H.setLabel(e,t[e])},getPlatformAPI:function(){return S.ws().getPlatformAPI()},ys:function(){return t},isProperlyInitialized:function(){var t=S.ws().Wn(),e=S.ws().g(),n=S.ws().getPixelURL();return t&&n&&e},setThrottlingDelay:function(t){u=t},getThrottlingDelay:function(){return u},isThrottlingEnabled:function(){return o},setThrottlingEnabled:function(t){o=t},bs:function(){return e},Is:function(t){e=t},getLoadTimeOffset:function(){return n},setLoadTimeOffset:function(t){n=t},Ss:function(){return U},setPauseOnBufferingInterval:function(t){s=t},getPauseOnBufferingInterval:function(){return s},isPauseOnBufferingEnabled:function(){return i},setPauseOnBufferingEnabled:function(t){i=t},setExitEndEventEnabled:function(t){if(j!=t){var e=S.Mu().Ru();t||et.Ju(e)?t&&!et.Ju(e)&&at.zu($):at.Qu($)}j=t},isExitEndEventEnabled:function(){return j},Ps:function(t,i){H.As(),r=H.getPlatformAPI().setTimeout(function(){var t={},e=et.Wu(t),n=parseInt(i.ns_st_po);t.ns_st_po=n+"",H.Vu(lt.PAUSE_ON_BUFFERING,e,t)},s)},As:function(){null!=r&&(H.getPlatformAPI().clearTimeout(r),r=null)},qu:function(){k&&(H.getPlatformAPI().clearTimeout(k),k=null)},setLiveEndpointURL:function(t){if(null==t||0==t.length)return null;var e=decodeURIComponent||unescape,n=t.indexOf("?");if(0<=n){if(n<t.length-1){for(var i=t.substring(n+1).split("&"),r=0,o=i.length;r<o;r++){var s=i[r].split("=");2==s.length?H.setLabel(s[0],e(s[1])):1==s.length&&H.setLabel(tt.PAGE_NAME_LABEL,e(s[0]))}t=t.substring(0,n+1)}}else t+="?";return a=t},getLiveEndpointURL:function(){return a||(typeof ns_p!==mt&&"string"==typeof ns_p.src?a=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?a=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},Cs:function(){return S},ks:function(t){var e=S.getPlaybackSession();S.Es(new ut(S)),ut.ks(S,e,t)},Ts:function(){S.Ns().pause();var t=S.Ns().Ls();S.Ds(new pt(S)),S.Ns().Rs(t)},getVersion:function(){return It}}),function(){if((S=new nt(H)).Ms(vt.getCore()),S.Os(new dt(S)),S.Ds(new pt(S)),S.Ws(new _t(S)),S.Vs(new gt),S.xs(new ht("STA",A.debug)),S.Es(new ut(S)),y=new c(S),T=new d(S),C=new p(S),b=new _(S),P=new h(S),O=new E(S),R=new v(S),N=new m(S),D=new I(S),L=new Q(S),w=new X(S),B=new Z(S),M=new J(S),e=!1,n=0,U=+new Date,o=!(i=!0),V=[],A.publisherId){f=!0,l=A.publisherId+"";var t=(("secure"in A?A.secure:S.ws()&&S.ws().isProperlyInitialized()?S.ws().isSecure():et.fe()&&it.ce())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";H.setLiveEndpointURL(t)}A.liveEndpointURL&&H.setLiveEndpointURL(A.liveEndpointURL),A.systemClockJumpDetection&&(st.setPlatformAPI(H.getPlatformAPI()),A.systemClockJumpDetectionInterval?st.Us(parseInt(A.systemClockJumpDetectionInterval),!0):st.Us(),A.systemClockJumpDetectionPrecision?st.Bs(parseInt(A.systemClockJumpDetectionPrecision),!0):st.Bs(),z())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(t,e,n){var y,T,C=t(20),b=t(4);T=C.fe()?(y=window,document):(y={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),e.exports=function(t,e){for(var n,i=y.encodeURIComponent||escape,r=[],o=b.k,s=t.split("?"),a=s[0],u=s[1].split("&"),c=0,l=u.length;c<l;c++){var f=u[c].split("="),d=unescape(f[0]),p=unescape(f[1]);d&&(e[d]=p)}for(var _={},h=0,g=o.length;h<g;h++){var E=o[h];if(e.hasOwnProperty(E)){var v=e[E];void 0!==v&&null!=v&&(_[E]=!0,r.push(i(E)+"="+i(e[E])))}}for(var m in e)if(e.hasOwnProperty(m)){if(_[m])continue;var I=e[m];void 0!==I&&null!=I&&r.push(i(m)+"="+i(e[m]))}n=(n=a+"?"+r.join("&"))+(n.indexOf("&c8=")<0?"&c8="+i(T.title):"")+(n.indexOf("&c7=")<0?"&c7="+i(T.URL):"")+(n.indexOf("&c9=")<0?"&c9="+i(T.referrer):"");var A=C.Jt()?b.A:b.P;if(n.length>A&&0<n.indexOf("&")){var S=n.substr(0,A-8).lastIndexOf("&");n=(n.substring(0,S)+"&ns_cut="+i(n.substring(S+1))).substr(0,A)}return n}},{20:20,4:4}],58:[function(t,e,n){var i,r,o=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return i[t]}}),s=(r=["c","s","r"],{Bu:0,Fs:1,js:2,toString:function(t){return r[t]}});e.exports.Lu=o,e.exports.Nu={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},e.exports.Du=s},{}],59:[function(t,e,n){var a=t(24),u=t(57),c=t(58).Lu;e.exports=function(i){var e,r,o=this,s=[];a.extend(this,{Vu:function(t){for(var e=a.extend({},t.Ut,t.Ku),n=0;n<s.length;++n)s[n](e);!function(t){r=a.extend({},t);var e=i.Gs().getLiveEndpointURL();i.Gs().isProperlyInitialized()?i.ws().nt(t,e):e&&i.Gs().getPlatformAPI().httpGet(u(e,t))}(e),t.Wt!=c.HEARTBEAT&&o.Ks()},addMeasurementListener:function(t){"function"==typeof t&&s.push(t)},removeMeasurementListener:function(t){for(var e=NaN,n=0;n<s.length;++n)if(s[n]==t){e=n;break}isNaN(e)||s.splice(e,1)},Fu:function(){return e},Ks:function(){e++},qs:function(t){e=t},Hs:function(){return r}}),e=1}},{24:24,57:57,58:58}],60:[function(t,e,n){var l=t(58).Lu,f=t(68),d=t(24),p=[{Ys:6e4,interval:1e4},{Ys:null,interval:6e4}];e.exports=function(i){var n,r,o,s=this,a=p;function u(){o++;var t={},e=f.Wu(t);t.ns_st_hc=i.Ns().Js()+"";var n=i.Gs().Dr(l.HEARTBEAT,t,e);i.getPlaybackSession().getAsset().Kr(n.Ut),i.ju().Vu(n),r=0,s.resume()}function c(){null!=n&&(i.Gs().getPlatformAPI().clearTimeout(n),n=null)}d.extend(this,{Js:function(){return o},Rs:function(t){a=t},Gu:function(t){var e=0;if(null!=a)for(var n=0;n<a.length;n++){var i=a[n],r=i.Ys;if(!r||t<r){e=i.interval;break}}return e},Ls:function(){return a},resume:function(){c();var t=s.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));if(0<t){var e=0<r?r:t;n=i.Gs().getPlatformAPI().setTimeout(u,e)}r=0},pause:function(){c();var t=s.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));r=t-(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()))%t}}),o=r=0}},{24:24,58:58,68:68}],61:[function(t,e,n){var s=t(58).Lu,a=t(24),u=t(68);e.exports=function(n){var t,i=this,e=12e5;function r(){var t={},e=u.Wu(t);n.Gs().ms(s.KEEPALIVE,e,t),i.start()}function o(){null!=t&&(n.Gs().getPlatformAPI().clearTimeout(t),t=null)}a.extend(i,{start:function(){o(),t=n.Gs().getPlatformAPI().setTimeout(r,e)},stop:o,setInterval:function(t){e=t},Gu:function(){return e}})}},{24:24,58:58,68:68}],62:[function(t,e,n){var i=t(20),r=[],o=!1;function s(){for(var t=0;t<r.length;++t)r[t]()}e.exports={zu:function(t){r.push(t),o||i.fe()&&(window.addEventListener?(window.addEventListener("unload",s,!1),o=!0):window.attachEvent&&(window.attachEvent("onunload",s),o=!0))},Qu:function(t){for(var e=0;e<r.length;++e)if(r[e]==t){r.splice(e,1);break}0==r.length&&i.fe()&&(window.removeEventListener?(window.removeEventListener("unload",s,!1),o=!1):window.detachEvent&&(window.detachEvent("onunload",s),o=!1))}}},{20:20}],63:[function(t,e,n){var m=t(24),I=t(54),A=t(68),S=t(21),y=t(55).HASH_LABELS,T=t(58).Nu,C=t(58).Lu;function i(l){var r,n,e,o,s,i,a,u,c,f,d,p,_,h,g,E,v=this;m.extend(this,{Tu:function(){var t=r;r=new I,I.Tu(t,r)},zs:function(t){return null!=u[t]},Qs:function(t){u[t]={}},Xs:function(t){delete u[t]},Zs:function(){for(var t in u)if(u.hasOwnProperty(t)&&u[t].$s===r.Tr()){m.extend(u[t],{na:r.su(),ta:r.au(),ea:r.fu(),ia:r.cu(),seeking:r.Eo(),ra:r.Bo(),oa:r.jo(),ua:r.$r(),sa:r.qr(),aa:r.Yr(),fa:r.zr(),ca:r.Xr(),la:r.hu(),pa:r.Qo(),va:r.Zo(),da:r.tu()});break}},ha:function(t){return u[t]},Tr:function(t){return u[t].$s},_a:function(){return c},ga:function(t,e){u[t].$s=e,c<e&&(c=e)},setLabels:function(t){null!=t&&m.extend(i,t)},getLabels:function(){return i},setLabel:function(t,e){var n={};n[t]=e,v.setLabels(n)},getLabel:function(t){return i[t]},getAsset:function(){return r},xu:function(t){for(var e=0;e<E.length;++e)if(E[e]==t)return;E.push(t)},Dr:function(t,e){var n=t,i=S.jt(n.ns_st_pa)?v.Rr():parseInt(n.ns_st_pa);n.ns_st_pa=i+(isNaN(o)?0:e-o)+"",n.ns_st_pp=_+"",n.ns_st_sp=h+"",n.ns_st_bp=g+"",f||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),r.Mo()&&(n.ns_st_ppc=d+"",n.ns_st_psq=p+""),0<E.length&&(n.ns_st_ie=(n.ns_st_ie?n.ns_st_ie+";":"")+E.join(";")),m.extend(n,s)},ro:function(){h++},eo:function(){_++},ho:function(t){if(!isNaN(o)){var e=v.Rr();e+=t-o,v.ma(e),o=NaN}},so:function(t){if(!isNaN(n)){var e=v.Or();e+=t-n,v.uo(e),n=NaN}},Or:function(){return g},uo:function(t){g=t},Rr:function(){return e},Po:function(t){n=t},So:function(){return n},ma:function(t){e=t},bo:function(t){o=t},yo:function(){return o},Vr:function(){return _},Ao:function(t){_=t},wa:function(){return a},ya:function(t){a=t},ba:function(){return d},Ia:function(){d++},hs:function(t){f=t},vu:function(t){p=t},du:function(){p++},Sa:function(){return s.ns_st_id},setAsset:function(t,e){l.Uu().Zt("setAsset",t,e),t=A.Pa(t);var n=l.Mu().Ru();if(n!=T.IDLE){l.Uu().$t("Ending the current Clip. It was in state:",A.gs(n));var i={};l.Gs().Vu(C.END,A.Wu(i),i)}var r="",o=0;if(null!=t.ns_st_cn)r=t.ns_st_cn;else for(var s=0;s<y.length;s++)t[y[s]]&&(r+=y[s]+":"+t[y[s]]+";");var a=v,u=a.getAsset();o=u.Do()?(a.zs(u.Pr())||(a.Qs(u.Pr()),a.ga(u.Pr(),u.Tr())),a.Zs(),a.zs(r)?a.Tr(r):S.tn(t.ns_st_cn)?parseInt(t.ns_st_cn):a._a()+1):a.zs(r)?a.Tr(r):u.Tr(),a.Tu(),(u=a.getAsset()).Ar(r),u.Nr(o),u.setLabels(t);var c=a.ha(r);c&&(u.Lo(!0),u.iu(c.na),u.ru(c.ta),u.ou(c.ea),u.uu(c.ia),u.ko(c.seeking),u.Uo(c.ra),u.Fo(c.oa),u.no(c.ua),c.sa&&u.Hr(c.sa),c.aa&&u.Jr(c.aa),c.fa&&u.Qr(c.fa),c.ca&&u.Zr(c.ca),u.vu(c.la),u.Xo(c.pa),u.$o(c.va),u.nu(c.da)),u.Jo(),u.Do()&&e&&a.ro(),e&&(a.vu(0),u.gu(!0)),!S.tn(t.ns_st_tp)&&S.tn(t.ns_st_ad)&&S.lt(t.ns_st_ad)&&"0"!==t.ns_st_ad&&u.Cr("ns_st_tp","1")}}),r=new I,(s={}).ns_st_id=+new Date+"",i={},o=n=NaN,f=a=!(u={}),h=1,g=p=_=d=c=e=0,E=[]}i.ks=function(t,e,n){for(var i=e.getAsset(),r=e.getLabels(),o={},s=0;n&&s<n.length;s++)r.hasOwnProperty(n[s])&&(o[n[s]]=r[n[s]]);t.getPlaybackSession().setLabels(o),I.Tu(i,t.getPlaybackSession().getAsset(),n)},e.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(t,e,n){var d={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},p={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},_=t(67),h=t(58).Nu,g=t(58).Du,E=t(55).HASH_LABELS,v=t(21),m=t(24),I=t(18),i=function(t){var o=null,n=0,i=!1,r=null,s={Aa:0,Ca:1,ka:2},a=s.Aa,u=new I("TTSTA",(t||{}).debug);function c(t){r.getPlaybackSession().setAsset(t),o=t,r.notifyPlay()}function l(t){var e=t||{};e.ns_st_ad="1",e.ns_st_an=++n+"",r.getPlaybackSession().setAsset(e),r.notifyPlay(),i=!1}function f(t,e){a==s.Aa&&(a=e),i&&a==e&&function(t){for(var e in E)if(E.hasOwnProperty(e)&&(n=E[e],i=o,r=t,!(v.tn(n)&&v.tn(i)&&v.tn(r)&&(i.hasOwnProperty(n)&&r.hasOwnProperty(n)&&i[n]===r[n]||!i.hasOwnProperty(n)&&!r.hasOwnProperty(n)))))return!1;var n,i,r;return!0}(t)?(r.getPlaybackSession().getAsset().setLabels(t),r.getState()!=h.PLAYING&&r.notifyPlay()):c(t),i=!0,a=e}m.extend(this,{playVideoAdvertisement:function(t,e){u.Zt("playVideoAdvertisement",t,e);var n={ns_st_ct:"va"};e?n.ns_st_ct="va"+e:u.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&m.extend(n,t),l(n)},playAudioAdvertisement:function(t,e){u.Zt("playAudioAdvertisement",t,e);var n={ns_st_ct:"aa"};e?n.ns_st_ct="aa"+e:u.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&m.extend(n,t),l(n)},playVideoContentPart:function(t,e){u.Zt("playVideoContentPart",t,e);var n={ns_st_ct:"vc"};e?n.ns_st_ct="vc"+e:u.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&m.extend(n,t),f(n,s.ka)},playAudioContentPart:function(t,e){u.Zt("playAudioContentPart",t,e);var n={ns_st_ct:"ac"};e?n.ns_st_ct="ac"+e:u.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&m.extend(n,t),f(n,s.Ca)},stop:function(){u.Zt("stop"),r.notifyPause()}}),(r=new _(t)).setLabel("ns_st_it",g.toString(g.js))};i.ContentType=d,i.AdType=p,e.exports=i},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(t,e,n){var u=t(24);e.exports=function(t){var e,n,i,r,o,s,a;u.extend(this,{ws:function(){return e},Gs:function(){return t},ju:function(){return n},Mu:function(){return i},Ns:function(){return r},S:function(){return o},getPlaybackSession:function(){return s},Uu:function(){return a},Ms:function(t){e=t},Os:function(t){o=t},Ds:function(t){r=t},Ws:function(t){n=t},Vs:function(t){i=t},Es:function(t){s=t},xs:function(t){a=t}})}},{24:24}],66:[function(t,e,n){var a=t(58).Nu,u=t(24),c=t(58).Lu;e.exports=function(t){var i,r,o,s=this;u.extend(s,{Hu:function(t){if(o==a.IDLE){if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(o==a.PLAYBACK_NOT_STARTED){if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK;if(t==c.END||t==c.AD_SKIP)return a.IDLE}else if(o==a.PLAYING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.BUFFER)return a.BUFFERING_DURING_PLAYBACK;if(t==c.PAUSE)return a.PAUSED;if(t==c.SEEK_START)return a.SEEKING_DURING_PLAYBACK}else if(o==a.PAUSED){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.BUFFER)return a.BUFFERING_DURING_PAUSE;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_DURING_PAUSE}else if(o==a.BUFFERING_BEFORE_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PLAYBACK_NOT_STARTED;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK}else if(o==a.BUFFERING_DURING_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY||t==c.BUFFER_STOP)return a.PLAYING;if(t==c.PAUSE_ON_BUFFERING)return a.PAUSED_DURING_BUFFERING;if(t==c.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(t==c.PAUSE)return a.PAUSED}else if(o==a.BUFFERING_DURING_SEEKING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.BUFFER_STOP)return a.SEEKING_DURING_PLAYBACK;if(t==c.PAUSE)return a.PAUSED}else if(o==a.BUFFERING_DURING_PAUSE){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_DURING_PAUSE;if(t==c.BUFFER_STOP||t==c.PAUSE)return a.PAUSED}else if(o==a.SEEKING_BEFORE_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PAUSE)return a.PLAYBACK_NOT_STARTED;if(t==c.PLAY)return a.PLAYING;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(o==a.SEEKING_DURING_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_SEEKING}else if(o==a.SEEKING_DURING_BUFFERING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_SEEKING}else if(o==a.SEEKING_DURING_PAUSE){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_PAUSE}else if(o==a.PAUSED_DURING_BUFFERING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(t==c.PAUSE)return a.PAUSED;if(t==c.PLAY||t==c.BUFFER_STOP)return a.PLAYING}return null},Ru:function(){return o},Vu:function(t,e){var n=s.Hu(t);o!=n&&(r=o,o=n,i=e)},Ea:function(){return r},_s:function(){return i}}),o=a.IDLE,r=null,i=NaN}},{24:24,58:58}],67:[function(t,e,n){var r=t(24),o=t(68),s=t(56),a=t(58).Lu,l=t(58).Nu,f=t(63),i=t(55),d={notifyPlay:a.PLAY,notifyPause:a.PAUSE,notifyEnd:a.END,notifyBufferStart:a.BUFFER,notifyBufferStop:a.BUFFER_STOP,notifyLoad:a.LOAD,notifyEngage:a.ENGAGE,notifySeekStart:a.SEEK_START,notifySkipAd:a.AD_SKIP,notifyCallToAction:a.CTA,notifyError:a.ERROR,notifyTransferPlayback:a.TRANSFER,notifyDrmFail:a.DRM_FAILED,notifyDrmApprove:a.DRM_APPROVED,notifyDrmDeny:a.DRM_DENIED,notifyCustomEvent:a.CUSTOM},p={notifyChangeBitrate:[a.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[a.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[a.VOLUME,"ns_st_vo"],notifyChangeWindowState:[a.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[a.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[a.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[a.SUBS,"ns_st_tt"],notifyChangeCdn:[a.CDN,"ns_st_cdn"]};function u(t){var u,n=this;function c(t,e,n){if(a.toString(t)){n=o.Pa(n);var i=o.Wu(n);n.ns_st_po||isNaN(e)||(n.ns_st_po=parseInt(e)+""),t==a.PLAY||t==a.PAUSE||t==a.BUFFER||t==a.END||t==a.SEEK_START||t==a.AD_SKIP||t==a.BUFFER_STOP?u.Vu(t,i,n):u.ms(t,i,n)}}for(var e in r.extend(n,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(t){c(a.END);var e=u;e.Cs().S().stop(),e.Cs().Ns().pause(),u=new s(e.getConfiguration()),f.ks(u.Cs(),e.Cs().getPlaybackSession(),t)},setPauseOnBufferingInterval:function(t){u.setPauseOnBufferingInterval(t)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(t){u.Cs().S().setInterval(t)},getKeepAliveInterval:function(){return u.Cs().S().Gu()},setHeartbeatIntervals:function(t){u.Cs().Ns().Rs(t)},getLabels:function(){return u.getLabels()},getState:function(){return u.Cs().Mu().Ru()},setLabels:function(t){u.setLabels(t)},getLabel:function(t){return u.getLabel(t)},setLabel:function(t,e){u.setLabel(t,e)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(t){u.setLoadTimeOffset(t)},setLiveEndpointURL:function(t){return u.setLiveEndpointURL(t)},getLiveEndpointURL:function(){return u.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(t){u.setPauseOnBufferingEnabled(t)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(t){u.setThrottlingEnabled(t)},setThrottlingDelay:function(t){u.setThrottlingDelay(t)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(t){u.Cs().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(t)},getPlaybackIntervalMergeTolerance:function(){return u.Cs().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(t){u.Cs().Uu().Zt("createPlaybackSession",t),t=o.Pa(t);var e=u.Cs().Mu().Ru();e!=l.IDLE&&(u.Cs().Uu().$t("Ending the current Clip. It was in state:",o.gs(e)),n.notifyEnd()),u.Cs().getPlaybackSession().wa()&&u.ks(),u.Cs().getPlaybackSession().setLabels(t)},getVersion:function(){return u.getVersion()},addListener:function(t){u.addListener(t)},removeListener:function(t){u.removeListener(t)},addMeasurementListener:function(t){u.Cs().ju().addMeasurementListener(t)},removeMeasurementListener:function(t){u.Cs().ju().removeMeasurementListener(t)},getPlaybackSession:function(){return u.Cs().getPlaybackSession()},setExitEndEventEnabled:function(t){u.setExitEndEventEnabled(!!t)},isExitEndEventEnabled:function(){return u.isExitEndEventEnabled()},setDvrWindowLength:function(t){u.Cs().getPlaybackSession().getAsset().Su(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},setDvrWindowOffset:function(t){u.Cs().getPlaybackSession().getAsset().Au(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},getPlatformAPI:function(){return u.getPlatformAPI()},_getLogHistory:function(){return u.Cs().Uu().te()}}),d)!function(r,o){n[r]=function(t,e){u.Cs().Uu().Zt(r,t,e);var n={},i=NaN;"object"==typeof t?n=t:"object"==typeof e&&(n=e),"number"==typeof t?i=t:"number"==typeof e&&(i=e),c(o,i,n)}}(e,d[e]);for(var i in p)!function(o,s,a){n[o]=function(t,e,n){if(u.Cs().Uu().Zt(o,t,e,n),null!=t){var i={},r=NaN;"object"==typeof e?i=e:"object"==typeof n&&(i=n),"number"==typeof e?r=e:"number"==typeof n&&(r=n),i[a]=t+"",c(s,r,i)}}}(i,p[i][0],p[i][1]);t=r.extend({},t),(u=new s(t)).Cs().Uu().log("New StreamingAnalytics instance with configuration",t)}u.PlayerEvents=a,u.InternalStates=l,u.Constants=i,e.exports=u},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(t,e,n){var c=t(23),i=t(58).Nu;n.Pa=function(t){var e={};for(var n in t){var i=t[n];e[n]=null==i?i:t[n]+""}return e},n.Ta=function(t,e){var n,i=[];for(n in t)e&&!e.test(n)||!t.hasOwnProperty(n)||(i[i.length]=n);return i},n.Wu=function(t){if(t.ns_ts)return parseInt(t.ns_ts);var e=+new Date;return t.ns_ts=e+"",e},n.fe=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},n.Wr=function(t,e,n,i){var r,o,s={};if(!(e<=n))return c(t);if(s.start=e,s.end=n,0==t.length)return t.push(s),c(t);for(r=0;r<t.length;r++)if(s.start>=t[r].start&&s.end<=t[r].end)return c(t);var a=!1;for(o=0;o<t.length;o++)if(o+1===t.length&&s.start>=t[o].start||s.start>=t[o].start&&s.start<t[o+1].start){t.splice(o+1,0,s),a=!0;break}a||t.splice(0,0,s);var u=[t[0]];for(r=1;r<t.length;r++)u[u.length-1].end+i<t[r].start?u.push(t[r]):u[u.length-1].end<t[r].end&&(u[u.length-1].end=t[r].end);return c(u)},n.gs=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e]==t)return e},n.Ju=function(t){return t==i.IDLE||t==i.BUFFERING_BEFORE_PLAYBACK||t==i.SEEKING_BEFORE_PLAYBACK||t==i.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&i.Uo(t-i.Wo()),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},os:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1))},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()?i.No()||(i.Oo(t),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t))},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.Ro(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.Ro(!0),i.Yo(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],70:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{fs:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],71:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{us:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),i.po(t),i.do(t),n.so(t),i.so(t),n.eo(),i.eo();var r=s.Gs().Dr(a.PAUSE,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),n.Po(t),i.Po(t)},ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().As(),s.Ns().pause(),s.S().stop(),i.po(t),i.do(t),n.so(t),i.so(t),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t),n.eo(),i.eo();var o=s.Gs().Dr(a.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),i.po(t),i.do(t),n.so(t),i.so(t),n.eo(),i.eo();var r=s.Gs().Dr(a.PAUSE,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r)}})}},{24:24,26:26,58:58}],72:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),s.Gs().As(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),n.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],73:[function(t,e,n){var i=t(24),a=t(58).Lu;e.exports=function(s){i.extend(this,{Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),n.Po(t),i.Po(t)},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.ya(!0),i.Lo(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),i.Eo()&&(i.xo(i.Bo()),i.Ko(r),i.ko(!1)),n.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,58:58}],74:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.ko(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),i.du(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],75:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1));var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()?i.No()||(i.Oo(t),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t)),i.po(t),i.do(t)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},ds:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),n.so(t),i.so(t),i.ro(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],76:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession().getAsset(),i=parseInt(e.ns_st_po);n.Eo()?n.Oo(t):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(i),n.Oo(t))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);i.Eo()&&(i.Ko(r),i.ko(!1)),n.ya(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.Po(t),i.Po(t)}})}},{24:24,26:26,58:58}],77:[function(t,e,n){var i=t(24),a=t(26),u=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().Ts(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.po(t),i.co(r);var o=s.Gs().Dr(u.END,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&a.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),s.Gs().isPauseOnBufferingEnabled()&&s.Gs().Ps(t,e),i.lu(),n.Po(t),i.Po(t),i.po(t),i.do(t)},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t),i.po(t),i.do(t),n.eo(),i.eo();var o=s.Gs().Dr(u.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),i.po(t),i.do(t),n.eo(),i.eo();var o=s.Gs().Dr(u.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],78:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.du(),i.ro(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],79:[function(t,e,n){var i=t(24);e.exports=function(r){i.extend(this,{ts:function(t,e){var n=r.getPlaybackSession(),i=n.getAsset();n.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)}})}},{24:24}],80:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],81:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{rs:function(t,e){var n=s.getPlaybackSession().getAsset(),i=parseInt(e.ns_st_po);n.Eo()?n.No()||(n.Oo(t),n.To(!0)):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(i),n.Oo(t)),n.po(t),n.do(t)},es:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.Po(t),i.Po(t),i.po(t),i.do(t)},ls:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},as:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},cs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ps:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},vs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ss:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().As(),n.so(t),i.so(t),n.bo(t),i.bo(t),i.ao(r),i.po(t),i.do(t),s.Ns().resume(),s.S().start()}})}},{24:24,26:26,58:58}],82:[function(t,e,n){var s,a,i,r=null,u=[];function o(){var o=+new Date;r=i.setInterval(function(){var t=o+s,e=+new Date,n=e-t;if(o=e,Math.abs(n)>a)for(var i=0<n,r=0;r<u.length;++r)u[r](i)},s)}function c(){clearInterval(r),r=null}e.exports={Ou:function(t){u.push(t),r||o()},Yu:function(t){for(var e=0;e<u.length;++e)if(u[e]==t){u.splice(e,1);break}u.length||c()},setPlatformAPI:function(t){i=t},Us:function(t,e){!e&&s||(s=t||1e3),(r&&e||!r)&&(c(),o())},Bs:function(t,e){a=t||1e3}}},{}]},{},[16])(16)}).call(this,n(21),n(20))},function(t,e,n){var i,r;i=[n(7)],void 0===(r=function(r){"use strict";function o(t,e,n){this._persistantLabels={},this._urlParams="",this._cut="",this._httpGet=t,this._eventCount=0,this._isApp=e,this._isScorecardDomain=!0===n,this._hasStarted=!1}return o.IS_ECHO_APP_TAG=!0,o.URL_LIMIT=2048,o.prototype.setPixelURL=function(t){this._url=this._makeBaseUrl(t)},o.prototype.setCustomerC2=function(t){this.setLabel(r.COMSCORE_CUSTOMER,t)},o.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},o.prototype.setLabel=function(t,e){null===e?this.removeLabel(t):this._persistantLabels[t]=e},o.prototype.removeLabels=function(t){for(var e in t)void 0!==this._persistantLabels[t[e]]&&delete this._persistantLabels[t[e]]},o.prototype.removeLabel=function(t){void 0!==this._persistantLabels[t]&&delete this._persistantLabels[t]},o.prototype.view=function(t){this.send("view",t)},o.prototype.hidden=function(t){this.send("hidden",t)},o.prototype.send=function(t,e,n){var i,r,o=this._persistantLabels,s={};if(this._hasStarted){for(r in this._eventCount++,o)s[r]=o[r];for(r in e)s[r]=e[r];s.ns_type=t,this._isApp&&(s.ns_ap_ev=t,s.ns_ap_ec=this._eventCount),s[this._isApp?"ns_ts":"ns__t"]=+new Date,i=this._createUrl(s),this._httpGet(i,n)}},o.prototype._createUrl=function(t){var e,n=window.encodeURIComponent||escape,i=this._url;for(e in this._urlParams="",this._cut="",t.hasOwnProperty("name")&&this._addUrlParam("name",t.name),t)"name"!==e&&"ns_referrer"!==e&&this._addUrlParam(e,t[e]);return t.hasOwnProperty("ns_referrer")&&this._addUrlParam(this._isScorecardDomain?r.ENV_REFERRER:"ns_referrer",t.ns_referrer),i+=this._urlParams,this._cut.length?i+="ns_cut="+n(this._cut.replace(/&$/,"")):i=i.replace(/&$/,""),i},o.prototype._addUrlParam=function(t,e){var n=window.encodeURIComponent||escape,i=n(t)+"="+n(e)+"&",r=o.URL_LIMIT-8;this._url.length+this._urlParams.length+i.length<r?this._urlParams+=i:this._cut+=i},o.prototype._makeBaseUrl=function(t){for(var e=-1,n=t.charAt(t.length-1),i=0,r=t.length;i<r;i++)"?"===t.charAt(i)&&(e=i);return-1===e?t+="?":"?"!==n&&"&"!==n&&(t+="&"),t},o}.apply(e,i))||(t.exports=r)},function(t,e,u){var n;void 0===(n=function(t){"use strict";var i=u(41),r=u(3),e=u(0),n=u(2),o=u(42);function s(){return-1}function a(t,e,n,i){this._sensors=null,this._broker=null,this._media=null,this._meta={},this._stream=null,this._env=i,this._siteCode=n[r.BARB_SITE_CODE],this._debug=n[r.BARB_DEBUG],this._traceId=null,this._isPlaying=!1,this._isEssEnabled=!1,this._isEnabled=!0,this._hasStarted=!1,n[r.ECHO_TRACE]&&this.setTraceId(n[r.ECHO_TRACE]),n[r.USE_ESS]&&(this._isEssEnabled=!0),n&&!1===n[r.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}return a.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},a.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},a.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},a.prototype.setTraceId=function(t){this._traceId=t},a.SpringStreams=u(43),a.prototype.addLabels=s,a.prototype.addLabel=s,a.prototype.addProperties=s,a.prototype.addProperty=s,a.prototype.addManagedLabel=s,a.prototype.removeLabels=s,a.prototype.removeLabel=s,a.prototype.removeProperties=s,a.prototype.removeProperty=s,a.prototype.setLoggedInToBBCId=s,a.prototype.setLoggedOutOfBBCId=s,a.prototype.setAppVersion=s,a.prototype.setCounterName=s,a.prototype.setContentLanguage=s,a.prototype.setCacheMode=s,a.prototype.clearCache=s,a.prototype.flushCache=s,a.prototype.setESSEnabled=s,a.prototype.viewEvent=s,a.prototype.errorEvent=s,a.prototype.userActionEvent=s,a.prototype.setPlayerName=function(t){this._meta[i.PLAYER_DESC]=t},a.prototype.setPlayerVersion=function(t){this._meta[i.PLAYER_VERSION]=t},a.prototype.setPlayerIsPopped=s,a.prototype.setPlayerWindowState=s,a.prototype.setPlayerVolume=s,a.prototype.setPlayerIsSubtitled=s,a.prototype.setDestination=s,a.prototype.setProducer=s,a.prototype.setBroker=function(t){return this._broker=t,this},a.prototype.setMedia=function(t){this._eventsEnabled()&&(this.clearMedia(),this._media=t.getClone())},a.prototype.setMediaLength=function(t){this._media.setLength(t)},a.prototype.liveMediaUpdate=function(t){this._media=t.getClone(),this._isPlaying&&this._startTracking()},a.prototype.liveEnrichmentFailed=function(){this._media.getServiceId()||this._media.setServiceId("no-service-id-found"),this._isPlaying&&this._startTracking()},a.prototype.avPlayEvent=function(t,e){this._eventsEnabled()&&this.isValidMedia()&&this._broker&&(this._initSensors(),this._isPlaying=!0,this._media.isLive()&&!this._media.getServiceId()?this._isEssEnabled&&(this._media.getVersionId()||this._media.getVpId())||(this._media.setServiceId("invalid-data"),this._startTracking()):this._startTracking())},a.prototype._initSensors=function(){if(null===this._sensors){if(this._sensors=new a.SpringStreams(this._siteCode),null!==this._env.getSetLocalStorageItem()&&null!==this._env.getGetLocalStorageItem()&&null!==this._env.getHttpGet()){e.info("Using custom PageContext for BARB");var t=new o("com.kma.springstreams",this._env);this._sensors.setPageContext(t)}this._debug&&(this._sensors.debug=function(t){e.info("Spring DEBUG: "+t)})}},a.prototype._startTracking=function(){if(null===this._stream){var t=this._getAttributes(),e=t[i.PID]||" ";this._stream=this._sensors.track(e,t,this._getAdaptor())}},a.prototype._getMostPrecedentIdObject=function(){var t=this._media.getVersionIdObject(),e=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return t.isValueValid()?t:e.isValueValid()?e:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},a.prototype._getAttributes=function(){var t=this._media,e={};if(this._traceId&&(e[r.ECHO_TRACE]=this._traceId),!t.isLive()){var n=this._getMostPrecedentIdObject();null!==n&&(e[i.PID]=n.getValue())}return t.isOnDemand()?e[i.STREAM]="od":t.isDownload()?e[i.STREAM]="dwn":t.isLive()&&t.getServiceIdObject().isValueValid()&&(e[i.STREAM]="live/"+t.getServiceId()),e},a.prototype._getAdaptor=function(){var e,n=this;return e=this._media.isLive()?function(){return n._broker.getTimestamp()}:function(){return n._broker.getPosition()},{getMeta:function(t){return n._meta},getDuration:function(t){var e=0;return n._media.isLive()||(e=Math.floor(n._media.getLength()/1e3)),e},getPosition:function(t){return Math.floor(e()/1e3)}}},a.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},a.prototype.avPauseEvent=function(){},a.prototype.avBufferEvent=function(){},a.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isPlaying=!1,this.isValidMedia()&&this.clearMedia())},a.prototype.avRewindEvent=function(){},a.prototype.avFastForwardEvent=function(){},a.prototype.avSeekEvent=function(){},a.prototype.avUserActionEvent=s,a.prototype.clearMedia=function(){this.isValidMedia()&&(this._stream&&this._stream.stop(),this._stream=null,this._media=null)},a.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===n.AvType.VIDEO},a.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},a.prototype.setDeviceId=s,a.prototype.requiresLabelCleansing=function(){return!0},a}.call(e,u,e,t))||(t.exports=n)},function(t,e,n){t.exports={STREAM:"stream",PID:"cq",WIDTH:"sx",HEIGHT:"sy",PLAYER_DESC:"pl",PLAYER_VERSION:"plv"}},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(t,e){this.namespace=t,this.env=e}return t.prototype.preloadImage=function(t){return this.env.getHttpGet()(t)},t.prototype.getLocalStorageItem=function(t){return this.env.getGetLocalStorageItem()(t)},t.prototype.setLocalStorageItem=function(t,e){return this.env.getSetLocalStorageItem()(t,e)},t.prototype.getWindowLocationURL=function(){return this.env.getURL()},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){function t(t){this.namespace="com.kantarmedia.sensors.javascript",this.version="2.4.0";var r="2cnt.net",e=200,n=2e3,o="default",s=new Array;this.namespace="com.kma.springstreams",this.syncrate=20,this.pausesync=6,this.maxstates=50;var a=!0;this.nextuid="";var u,c={"+":"%2B",",":"%2C",";":"%3B","=":"%3D","~":"%7E","*":"%2A","'":"%27","!":"%21","(":"%28",")":"%29"},C=this;function i(t){for(var e=0;e<s.length;++e)try{s[e].update(t)}catch(t){b(t)}}function l(t){for(var e=0;e<s.length;++e)try{s[e].sync()}catch(t){b(t)}}function b(t){d("",t)}function f(t,e){return function t(e){var n;var i;var r;var o;var s=/[+&,;=~!*'()]/g;var a;switch(typeof e){case"string":return s.test(e)?encodeURIComponent(e).replace(s,function(t){var e=c[t];return e||t}):encodeURIComponent(e);case"number":return isFinite(e)?e.toString():"null";case"boolean":case"null":return e.toString();case"object":if(!e)return"null";if(n=[],"number"==typeof e.length&&!e.propertyIsEnumerable("length")){for(o=e.length,i=0;i<o;i+=1)n.push(t(e[i])||"null");return","+n.join("+")+";"}for(r in e)"string"==typeof r&&"site"!==r&&(a=t(e[r]))&&n.push(t(r)+"="+a);return","+n.join("+")+";"}return""}([[t,e]])}function d(t,e){if(void 0!==C.pageContext.tracking&&(a=C.pageContext.tracking),a)if(void 0===e.stream||""==e.stream)console.warn("Stream is mandatory for measurement"),C.debug("Stream is mandatory for measurement");else{var n=(void 0===C.pageContext.getWindowLocationURL()?"http://":"https"===C.pageContext.getWindowLocationURL().slice(0,5)?"https://ssl-":"http://")+((i=e)&&void 0!==i.site?i.site:o)+"."+r+"/j0="+f(t,e)+"?lt="+(new Date).getTime().toString(36)+function(){if(!C.nlso)try{var t,e="i00";if(void 0!==C.pageContext.getUniqueId&&(e=r),t=C.pageContext.getLocalStorageItem(e))return"&c="+t;var n="0000"+Math.ceil((new Date).getTime()/1e3).toString(16)+(32768|65535*Math.random()).toString(16)+"0000";C.pageContext.setLocalStorageItem(e,n)}catch(t){console.log("error"+t)}return""}();C.pageContext.preloadImage(n),C.debug(n)}var i}function p(t,e,n,i){var r,o="";o=t.getNextUID(),t.nextuid=null,""==o&&(r=Math.round(1e10*Math.random()).toString(36),o=(new Date).getTime().toString(36)+r);var s,a,u,c,l,f,d,p,_=Math.round((new Date).getTime()/1e3),h=[0,0,_.toString(36)],g=0,E=0,v=!0,m=!1,I=0;function A(t){var e;h=[t,t,Math.round((new Date).getTime()/1e3).toString(36)],e=h,u.length<s.maxstates&&u.push(e),v=!0,g=0}function S(){null!=d&&p<d.length&&(f=d[p++],s.debug("switch syncrate to "+f))}function y(){void 0!==C.pageContext.getSerialNumber?C.pageContext.getSerialNumber(T):T()}function T(){if(v){try{a.width&&(c.sx=a.width),a.videoWidth&&(c.sx=a.videoWidth),a.height&&(c.sy=a.height),a.videoHeight&&(c.sy=a.videoHeight)}catch(t){}var t;void 0!==C.pageContext.getUniqueId&&(c.psid=C.pageContext.getUniqueId()),c.uid=o,c.pst=u;try{c.dur&&0!==c.dur||(c.dur=l.getDuration(a))}catch(t){}try{t=l.getMeta(a),void 0!==C.pageContext.getDeviceID&&void 0!==C.pageContext.getDeviceID()&&(t[C.pageContext.getDeviceID().id_name]=C.pageContext.getDeviceID().id_value)}catch(t){}c.vt=Math.round((new Date).getTime()/1e3)-_,t.v="js "+C.version,"undefined"!=typeof PageContext&&void 0!==PageContext.prototype.addElectronParameters&&(PageContext.prototype.addElectronParameters(c),t.v="E "+C.version),l.isCasting&&1==l.isCasting()&&(t.v="C "+C.version),s.send(t,c),E=h[1]}v=!1}s=t,a=e,l=i||s.HTML5Adapter,c=function(t){var e=new Object;for(var n in t)e[n]=t[n];return e}(n),(u=new Array).push(h),p=0,f=t.syncrate,d=t.getSyncRates(),S(),this.update=function(t){if(!m){var e,n=h[1],i=n;try{i=Math.round(l.getPosition(a))}catch(t){}try{if(n===i)return void(0<=g&&++g===s.pausesync&&(v=!0));g>=s.pausesync?A(i):n<i-1||i<n?(e=i,setTimeout(function(){e==Math.round(l.getPosition(a))||e+1==Math.round(l.getPosition(a))?5<=++I&&(I=0,(1<e-h[1]||1<h[1]-e)&&A(e)):I=0},1e3)):(h[1]=i,h[1]-h[0]>=f&&f<=i-E&&(v=!0,S()),g=0)}catch(t){b=!0,s.error(t)}}},this.stop=function(){m||(m=v=!0,y())},this.sync=y}!function(t){var e;if(t){for(var n in t)n===r&&(e=t[n]);e&&(i=e.syncrates)&&(u=i)}var i}({"2cnt.net":{syncrates:[3,7,10,10,10,10,10,60]}}),t&&(o=t),setInterval(i,e),setInterval(l,n),this.getSyncRates=function(){return u},this.track=function(t,e,n){if(void 0===C.pageContext&&(C.pageContext=C.defaultPageContext),void 0!==C.pageContext.generateId&&C.pageContext.generateId(),t){var i=new p(this,t,e,n);return s.push(i),i}},this.trackWithUID=function(t,e,n,i){return i!=this.nextuid?void 0:this.track(t,e,n)},this.getNextUID=function(){var t;return""!=this.nextuid&&null!=this.nextuid||(this.nextuid=(t=Math.round(1e10*Math.random()).toString(36),(new Date).getTime().toString(36)+t)),this.nextuid},this.unload=function(){this.nextuid="";for(var t=0;t<s.length;++t)try{s[t].stop()}catch(t){b(t)}},this.doUpdate=i,this.doSync=l,this.error=b,this.debug=function(t){},this.send=d,this.defaultPageContext={getLocalStorageItem:function(t){return localStorage.getItem(t)},setLocalStorageItem:function(t,e){localStorage.setItem(t,e)},preloadImage:function(t){(new Image).src=t},getWindowLocationURL:function(){return document.location.href}},this.HTML5Adapter={getMeta:function(t){return{pl:"HTML 5 Video",plv:"HTML 5",sx:screen.width,sy:screen.height}},getPosition:function(t){return t.currentTime},getDuration:function(t){return Math.round(t.duration)}},this.DefaultAdapter={getMeta:function(t){return{pl:"DEF",plv:version,sx:screen.width,sy:screen.height}},getPosition:function(t){return(new Date).getTime()/1e3},getDuration:function(t){return 0}},this.WMStreamAdapter={getMeta:function(t){return{pl:"MSWM",plv:t.versionInfo,sx:screen.width,sy:screen.height}},getPosition:function(t){if(t.CurrentPosition)return t.CurrentPosition;if(t.currentPosition)return t.currentPosition;if(t.controls&&t.controls.currentPosition)return t.controls.currentPosition;if(t.Controls&&t.Controls.currentPosition)return t.Controls.currentPosition;return 0},getDuration:function(t){if(t.currentMedia){if(t.currentMedia.Duration)return t.currentMedia.Duration;if(t.currentMedia.duration)return t.currentMedia.duration}else if(t.CurrentMedia){if(t.CurrentMedia.duration)return t.CurrentMedia.duration;if(t.CurrentMedia.Duration)return t.CurrentMedia.Duration}}},this.RVStreamAdapter={getMeta:function(t){return{pl:"RV",plv:t.GetVersionInfo(),sx:screen.width,sy:screen.height}},getPosition:function(t){return t.GetPosition()/1e3},getDuration:function(t){return t.GetLength()/1e3}}}return t.prototype.setPageContext=function(t){this.pageContext=t},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,M){var n;void 0===(n=function(t){"use strict";var e=M(45),s=M(46),n=M(18),p=M(6),a=M(3),o=M(49),_=M(50),i=M(52),r=M(53),c=M(54),u=M(10),l=M(5),f=M(13),h=M(1),g=M(0),E=M(4),d=M(2),v=M(8),m=M(9),I="info",A="move",S="pause",y="play",T="stop",C="clip",b="live",P="ati-host.net",O="logw363.ati-host.net",R="logws1363.ati-host.net",N="api.bbc.co.uk",D="a1.api.bbc.co.uk",L="a1.api.bbc.co.uk";function w(){return-1}function B(t,e,n,i){this._tag=null,this._broker=null,this._media=null,this._mediaLength=null,this._commonMediaParams=null,this._env=i,this._pageValues={},this._customParams={},this._appName=t,this._appType=e,this._config=n,this._bbc_hid=null,this._lastHitUrl=null,this._lastPlayHitUrl=null,this._lastPage=null,this._counterName=null,this._orbitVars=null,this._trace=null;var r=this;if(setInterval(function(){r._remoteConfigManager=new f(n,r._env)},36e5),this._remoteConfigManager=this._config[a.REMOTE_CONFIG_MANAGER]||new f(n,this._env),this._deviceId=n[a.ECHO_DEVICE_ID]||void 0,!0!==n[a.ATI_DISABLE_COOKIE]||this._deviceId||(this._deviceId=s.v4()),this._deviceId||(this._deviceId=m.getCookieValueByName("idrxvr")),!this._deviceId){var o=m.getCookieValueByName("atuserid");o&&(this._deviceId=JSON.parse(decodeURIComponent(o)).val)}n[a.ECHO_TRACE]&&(this._trace=n[a.ECHO_TRACE]),this._isEnabled=n&&n[a.ECHO_ENABLED],n&&n[a.KEEPALIVE_DURATION]?this._keepAliveDuration=Number(n[a.KEEPALIVE_DURATION]):this._keepAliveDuration=3e5}return B.SmartTag=e,B.prototype._getHttpGetMethod=function(){return this._env.getHttpGet()||v._defaultHttpGet},B.prototype._setHTTPGetMethod=function(o){var s=this._getHttpGetMethod(),a=this,t=function(t,r){var e=function(e,n,i){return function(t){a._tag.emit(e,{lvl:i,details:{hit:n,event:t}}),r&&"function"==typeof r&&r(),o&&"function"==typeof o&&o()}},n=e("Tracker:Hit:Sent:Ok",t=a._addLengthToMediaHit(t),"INFO"),i=e("Tracker:Hit:Sent:Error",t,"ERROR");s(t,n,i)};"never"===this._tag.getConfig("Offline").storageMode?this._tag.builder.sendUrl=t:this._tag.sendUrl=t},B.prototype._getDestination=function(t,e){var n;return t&&(n=u.get(t[a.DESTINATION])),!n&&e&&(n=u.get(e.destination)),n||(g.warn("Destination not found, using default site"),n=u.DEFAULT),n},B.prototype._getProducer=function(t,e,n){var i,r;(r=this._remoteConfigManager.getProducers(),this._pageValues[p.LEVEL_2_SITE]&&(i=this._pageValues[p.LEVEL_2_SITE]),!i&&t)&&(i=!(!r||!r[t[a.PRODUCER]])?r[t[a.PRODUCER]]:l.getId(t[a.PRODUCER]));return!i&&e&&(i=r&&r[e.producer]?r[e.producer]:l.getId(e.producer)),!i&&n&&(g.warn("Producer not found, using default producer"),i=n.defaultProducer),i},B.prototype.setDestination=function(t){t||(t=u.DEFAULT,g.warn("Destination not found, using default site instead")),t&&(this.setProducer(t.defaultProducer),this._setDomain(t.isTest),this._tag.setConfig(p.LEVEL_1_SITE,t.id))},B.prototype.setProducer=function(t){this.addLabel(p.LEVEL_2_SITE,t)},B.prototype._getCookieDomain=function(t){var e;return e=t&&t.location&&t.location.hostname&&t.location.hostname.match(/.bbc.com$/)?"bbc.com":(t&&t.location&&!t.location.hostname.match(/.bbc.co.uk$/)&&g.info("Cookie hostname is: "+t.location.hostname+" failing back to bbc.co.uk"),"bbc.co.uk"),!0===this._config[a.TEST_SERVICE_ENABLED]&&this.addProperty(p.TEST_COOKIE_DOMAIN,e),e},B.prototype._setDomain=function(t){t?(this._tag.setConfig("domain",P),this._tag.setConfig("collectDomain",O),this._tag.setConfig("collectDomainSSL",R)):(this._tag.setConfig("domain",N),this._tag.setConfig("collectDomain",D),this._tag.setConfig("collectDomainSSL",L)),this._config&&(this._config[a.ATI_COLLECT_DOMAIN]&&this._tag.setConfig("collectDomain",this._config[a.ATI_COLLECT_DOMAIN]),this._config[a.ATI_COLLECT_DOMAIN_SSL]&&this._tag.setConfig("collectDomainSSL",this._config[a.ATI_COLLECT_DOMAIN_SSL]))},B.prototype._setSection=function(t,e,n){e&&(t&&t[p.SECTION]?(e[p.CHAPTER_1]=E.cleanCustomVariable(t[p.SECTION]),e.customObject&&delete e.customObject[p.SECTION]):n&&n.section&&(e[p.CHAPTER_1]=E.cleanCustomVariable(n.section)),g.info("Setting page view chapters: "+e[p.CHAPTER_1]))},B.prototype._createAtiOptions=function(t,e){var n;if(t)switch(n={collectDomain:e.isTest?O:D,collectDomainSSL:e.isTest?R:L,disableCookie:!0===t[a.ATI_DISABLE_COOKIE],cookieDomain:!0===t[a.ATI_USE_DEFAULT_COOKIE_DOMAIN]?null:this._getCookieDomain(window),domain:e.isTest?P:N,pixelPath:t[a.ATI_PIXEL_PATH]||"/hit.xiti",secure:!1!==t[a.ATI_FORCE_HTTPS],site:e.id},t[a.ATI_LOG]&&(n.log=t[a.ATI_LOG]),t[a.ATI_SSL_LOG]&&(n.logSSL=t[a.ATI_SSL_LOG]),t[a.ATI_COLLECT_DOMAIN]&&(n.collectDomain=t[a.ATI_COLLECT_DOMAIN]),t[a.ATI_COLLECT_DOMAIN_SSL]&&(n.collectDomainSSL=t[a.ATI_COLLECT_DOMAIN_SSL]),t[a.ECHO_DEVICE_ID]&&(n.ClientSideUserId={clientSideMode:"required",userIdCookieDuration:397,userIdExpirationMode:"fixed"}),t[a.ECHO_CACHE_MODE]){case d.EchoCacheMode.ALL:n.Offline={storageMode:a.ATI_CACHE_MODE_ALWAYS};break;case d.EchoCacheMode.OFFLINE:n.Offline={storageMode:a.ATI_CACHE_MODE_REQUIRED};break;default:n.Offline={storageMode:a.ATI_CACHE_MODE_NEVER}}return n},B.prototype._createTag=function(t){return new B.SmartTag.Tracker.Tag(t)},B.prototype._initTag=function(t){if(!this._tag){var e=this._config,n=this._getDestination(e,t),i=this._createAtiOptions(e,n);for(var r in this._tag=this._createTag(i),this._tag.onTrigger("Tracker:Hit:Sent:Ok",this._onHitSent.bind(this)),this._debug&&(this._tag.debug=function(t){g.info("ATI DEBUG: "+t)}),this._deviceId&&this._setSmartTagDeviceId(this._tag,this._deviceId),this._bbc_hid&&this._tag.setParam(p.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0}),e&&e[a.APP_CATEGORY]&&this.addLabel(p.APP_CATEGORY,e[a.APP_CATEGORY]),this._setHTTPGetMethod(),this._counterName&&this.setCounterName(this._counterName),this._trace&&this.setTraceId(this._trace),this._customParams)this._tag.setParam(r,E.cleanCustomVariable(this._customParams[r]),{hitType:["all"],permanent:!0});g.info("Initialised ATI SmartTag with options:"+JSON.stringify(i))}},B.prototype._setSmartTagDeviceId=function(t,e){t.clientSideUserId.set(e)},B.prototype.start=function(t){this._orbitVars=t,this._isEnabled&&!this._hasStarted&&(this._hasStarted=!0,this._initTag(t))},B.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},B.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},B.prototype._onHitSent=function(t,e){e&&e.details&&e.details.hit&&(g.info("Did send hit: ",e.details.hit),this._setLastHitUrl(e.details.hit))},B.prototype._addLengthToMediaHit=function(t){if(t&&"string"==typeof t&&t.match(/a\=(play|pause|stop|info|refresh|move)/)&&this._mediaLength){var e="m1="+Math.ceil(this._mediaLength/1e3);t=t.replace(/m1\=\d+/g,e)}return t},B.prototype._setLastHitUrl=function(t){t&&"string"==typeof t&&t.match(/a\=play/)?this._lastPlayHitUrl=t:this._lastHitUrl=t},B.prototype.setTraceId=function(t){t&&this._tag&&this._tag.setParam(a.ECHO_TRACE,t,{hitType:["all"],permanent:!0})},B.prototype.addLabels=function(t){this.addProperties(t)},B.prototype.addLabel=function(t,e){this.addProperty(t,e)},B.prototype.addProperties=function(t){if("object"==typeof t)for(var e in t.bbc_identity&&(this.setBBCUser({bbc_hid:t.bbc_hid,signed_in:"1"===t.bbc_identity}),delete t.bbc_hid,delete t.bbc_identity),t)t.hasOwnProperty(e)&&this.addProperty(e,t[e])},B.prototype.addProperty=function(t,e){t===p.BBC_COUNTER_NAME||t===p.LEVEL_2_SITE?this._pageValues[t]=e:this._customParams[t]=e},B.prototype.setLoggedInToBBCId=function(t){this.setBBCUser({bbc_hid:t,signed_in:!0}),g.info("Setting BBC user with hashed ID: "+t)},B.prototype.setLoggedOutOfBBCId=function(){this._tag&&this._tag.delParam(p.HASHED_ID),this._bbc_hid=null,g.info("Removing User ID")},B.prototype.setAppVersion=function(t){t&&this._tag&&this._tag.setParam(p.APP_VERSION,"["+t+"]",{hitType:["all"],permanent:!0})},B.prototype.setBBCUser=function(t){t.bbc_hid?this._bbc_hid=t.bbc_hid:t.signed_in&&(this._bbc_hid="unidentified-user"),this._tag&&!this._customParams.bbc_id_wait&&this._tag.setParam(p.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0}),g.info("Setting BBC user with hashed ID: "+this._bbc_hid)},B.prototype.addManagedLabel=w,B.prototype.removeLabels=function(t){this.removeProperties(t)},B.prototype.removeLabel=function(t){this.removeProperty(t)},B.prototype.removeProperties=function(t){for(var e=0,n=t.length;e<n;e++)this.removeProperty(t[e])},B.prototype.removeProperty=function(t){t===p.BBC_COUNTER_NAME||t===p.LEVEL_2_SITE?delete this._pageValues[t]:(this._tag&&this._tag.delParam(t),delete this._customParams[t])},B.prototype.setCounterName=function(t){var e=this._getDestination(this._config,this._orbitVars),n=this._getProducer(this._config,this._orbitVars,e);this.setProducer(n);var i={name:this._counterName=t,level2:this._pageValues[p.LEVEL_2_SITE]};this._tag&&(this._tag.page.set(i),this._lastPage=i)},B.prototype.setContentLanguage=w,B.prototype.setCacheMode=w,B.prototype.clearCache=function(){this._tag.offline.remove(),g.info("Clearing cache: this will not send cached events")},B.prototype.flushCache=function(){this._tag.offline.send(),g.info("Flushing cache: this will send cached events")},B.prototype.setESSEnabled=w,B.prototype.viewEvent=function(f,d){if(this._eventsEnabled())return this._tag.page.reset(),this.addLabel(p.BBC_COUNTER_NAME,f),this._counterName=f,n.get().then(function(t){var e=this._getDestination(this._config,t),n=this._getProducer(this._config,t,e);this.setProducer(n);var i=h.clone(this._customParams),r=_.create(this._appName,this._appType,i,d,t,document),o=h.extend(d,!0,p.ECHO_EVENT_NAME,"view"),s=h.combineObjects(i,o,!1),a={};for(var u in s)if("trace"!==u)h.startsWith(u,"ess_")?a[u]=s[u]:this._tag&&this._tag.setParam(u,E.cleanCustomVariable(s[u]),{hitType:["all"],permanent:!1});else{var c=s[u];this.setTraceId(c)}a.echo_event="view";var l=h.clone(this._pageValues);l.customObject=a,r&&this._tag.customVars.set(r),this._setSection(o,l,t),this._tag.page.set(l),this._tag.dispatch(),this._lastPage=l,g.info("Sending page view event with countername: "+f)}.bind(this))},B.prototype.errorEvent=w,B.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled()){var i=h.extend(n,!0,p.ECHO_EVENT_NAME,"userAct"),r=h.combineObjects(this._customParams,i,!1),o=h.clone(this._pageValues);if(o){o.actionName=e,o.actionType=t,o.user=this._bbc_hid,o[p.BBC_COUNTER_NAME]=this._counterName,o.customObject=r;var s,a=o.customObject[p.IS_BACKGROUND];for(var u in!1===a||"false"===a?s=!1:Boolean(o.customObject[p.IS_BACKGROUND])?s=!0:g.info("Unknown value for is_background: "+o.customObject[p.IS_BACKGROUND]),r)this._tag&&this._tag.setParam(u,E.cleanCustomVariable(r[u]),{hitType:["all"],permanent:!0});s?(c.sendImpressionEvent(this._tag,o),g.info("Sent Background action event: "+e)):(c.sendClickEvent(this._tag,o),g.info("Sent user action event: "+e))}}},B.prototype.setPlayerName=function(t){this._mediaPlayerName=t},B.prototype.setPlayerVersion=function(t){this._mediaPlayerVersion=t},B.prototype.setPlayerIsPopped=w,B.prototype.setPlayerWindowState=w,B.prototype.setPlayerVolume=w,B.prototype.setPlayerIsSubtitled=w,B.prototype.setBroker=function(t){return this._broker=t,this},B.prototype.setMedia=function(t){this._eventsEnabled()&&(this._mediaPlayerName&&!t.getMediaPlayerName()&&t.setMediaPlayerName(this._mediaPlayerName),this._mediaPlayerVersion&&!t.getMediaPlayerVersion()&&t.setMediaPlayerVersion(this._mediaPlayerVersion),this._appName?t.appName=this._appName:t.appName="",this._appType?t.appType=this._appType:t.appType="",this.clearMedia(),this._media=t,this.addMedia(this._media))},B.prototype.setMediaLength=function(t){this._mediaLength=t,this._media.setLength(t)},B.prototype.setMediaBitrate=w,B.prototype.setMediaCodec=w,B.prototype.setMediaCDN=w,B.prototype.liveMediaUpdate=function(t,e,n){h.assert("number"==typeof e,"newPosition must be a number"),h.assert("number"==typeof n,"oldPosition must be a number"),t.setProducerById(this._media.getProducer()),this._sendMediaEvent(T),this._media=t,this.addMedia(this._media),this._sendMediaEvent(y)},B.prototype.liveEnrichmentFailed=w,B.prototype._getIdObjectValue=function(t){return null!==t&&t.isValueValid()?t.getValue():""},B.prototype._getMostPrecedentIdObject=function(){var t=this._media.getVersionIdObject(),e=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return t.isValueValid()?t:e.isValueValid()?e:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},B.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},B.prototype.addMedia=function(t){if(this._tag&&this._tag.richMedia){this._commonMediaParams={playerId:t.getPlayerId(),mediaLabel:this._getIdObjectValue(this._getMostPrecedentIdObject()),mediaTheme1:i.constructThemeOne(t),mediaTheme2:i.constructThemeTwo(t),mediaTheme3:i.constructThemeThree(t)};var e={mediaType:t.getAvType(),playerId:this._commonMediaParams.playerId,duration:t&&t.getLength()?Math.ceil(t.getLength()/1e3):0,mediaLabel:this._commonMediaParams.mediaLabel,mediaTheme1:this._commonMediaParams.mediaTheme1,mediaTheme2:this._commonMediaParams.mediaTheme2,mediaTheme3:this._commonMediaParams.mediaTheme3,isEmbedded:t.isEmbedded(),broadcastMode:t.getMediaConsumptionMode()===b?b:C,refreshDuration:{0:10,1:60}};for(var n in t.getProducerId()?e.mediaLevel2=t.getProducerId():e.mediaLevel2=0,this._customParams)this._tag&&this._tag.setParam(n,E.cleanCustomVariable(this._customParams[n]),{hitType:["all"],permanent:!0});this._tag.richMedia.add(e)}},B.prototype._sendMediaEvent=function(t,e){this._commonMediaParams&&r.sendEvent(this._tag,this._commonMediaParams,t,e)},B.prototype.avPlayEvent=function(t,e){this._eventsEnabled()&&!this._media.getPlaying()&&(this._media.getBuffering()?this._sendMediaEvent(I,{isBuffering:!1}):(this._sendMediaEvent(y),this._addKeepAliveEventSchedule()))},B.prototype._addKeepAliveEventSchedule=function(){this._eventsEnabled()&&(this._keepAliveIntervalId||(this._keepAliveIntervalId=setInterval(this._sendKeepAliveEvent.bind(this),this._keepAliveDuration)))},B.prototype._removeKeepAliveEventSchedule=function(){this._keepAliveIntervalId&&(clearInterval(this._keepAliveIntervalId),this._keepAliveIntervalId=void 0)},B.prototype._sendKeepAliveEvent=function(){if(this._eventsEnabled()){var t={name:"keepalive",level2:this._media&&this._media.getProducerId()?this._media.getProducerId():0};this._tag.page.send(t),g.info("Sending keepalive"),this._lastPage&&this._tag.page.set(this._lastPage)}},B.prototype.avPauseEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(S)},B.prototype.avBufferEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(I,{isBuffering:!0})},B.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isMediaLoaded=!1,this._removeKeepAliveEventSchedule(),this._sendMediaEvent(T),this.isValidMedia()&&this.clearMedia())},B.prototype.avRewindEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(A)},B.prototype.avFastForwardEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(A)},B.prototype.avSeekEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(A)},B.prototype.avUserActionEvent=function(t,e,n,i){if(this._eventsEnabled()&&"echo_hb"===t&&"echo_hb_5"===e){var r=this._addLengthToMediaHit(this._lastPlayHitUrl);o.sendRefreshEvent(this._tag,this._getHttpGetMethod(),r),g.info("Performed 5 second heartbeat")}},B.prototype.clearMedia=function(){this.isValidMedia()&&(this._isMediaLoaded&&this.avEndEvent(),this._stream=null,this._media=null,this._commonMediaParams=null,this._tag.richMedia.removeAll())},B.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===d.AvType.VIDEO},B.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},B.prototype.getDeviceId=function(){return this._deviceId},B.prototype.setDeviceId=function(t){this._deviceId=t,this._tag&&(g.info("Updating ATI SmartTag device id:"+t),this._setSmartTagDeviceId(this._tag,t))},B.prototype.requiresLabelCleansing=function(){return!0},B}.call(e,M,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){return function(){var t,a={site:596068,log:"",logSSL:"",domain:"ati-host.net",collectDomain:"logw363.ati-host.net",collectDomainSSL:"logws1363.ati-host.net",userIdOrigin:"server",pixelPath:"/hit.xiti",disableCookie:!1,disableStorage:!1,cookieSecure:!1,cookieDomain:"",preview:!1,plgs:["Campaigns","Clicks","ClientSideUserId","ContextVariables","Offline","OnSiteAds","Page","RichMedia"],lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!0,medium:"",ignoreEmptyChapterValue:!0,base64Storage:!1,sendHitWhenOptOut:!0,forceHttp:!1,requestMethod:"GET",maxHitSize:2e3};(t=window).Echo1201ATInternet=t.Echo1201ATInternet||{},t.Echo1201ATInternet.Tracker=t.Echo1201ATInternet.Tracker||{},t.Echo1201ATInternet.Tracker.Plugins=t.Echo1201ATInternet.Tracker.Plugins||{};Echo1201ATInternet.Utils=new function(){function n(t){return null===t?"":(t+"").replace(e,"")}var c=this,i=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,e=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");c.isLocalStorageAvailable=function(){try{var t=localStorage;return t.setItem("__storage_test__","__storage_test__"),t.removeItem("__storage_test__"),!0}catch(t){return!1}},c.isBeaconMethodAvailable=function(){return window.navigator&&"function"==typeof window.navigator.sendBeacon},c.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,i,r,o,s,a="",u=0;for(t=c.Base64._utf8_encode(t);u<t.length;)r=(e=t.charCodeAt(u++))>>2,e=(3&e)<<4|(n=t.charCodeAt(u++))>>4,o=(15&n)<<2|(i=t.charCodeAt(u++))>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),a=a+this._keyStr.charAt(r)+this._keyStr.charAt(e)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return a},decode:function(t){var e,n,i,r,o,s="",a=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");a<t.length;)e=(e=this._keyStr.indexOf(t.charAt(a++)))<<2|(n=this._keyStr.indexOf(t.charAt(a++)))>>4,n=(15&n)<<4|(r=this._keyStr.indexOf(t.charAt(a++)))>>2,i=(3&r)<<6|(o=this._keyStr.indexOf(t.charAt(a++))),s+=String.fromCharCode(e),64!=r&&(s+=String.fromCharCode(n)),64!=o&&(s+=String.fromCharCode(i));return c.Base64._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(127<i&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e,n,i,r="",o=0;o<t.length;)(e=t.charCodeAt(o))<128?(r+=String.fromCharCode(e),o++):191<e&&e<224?(n=t.charCodeAt(o+1),r+=String.fromCharCode((31&e)<<6|63&n),o+=2):(n=t.charCodeAt(o+1),i=t.charCodeAt(o+2),r+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&i),o+=3);return r}},c.loadScript=function(t,e){var n;e=e||function(){},(n=document.createElement("script")).type="text/javascript",n.src=t.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(t){("load"===(t=t||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||document.documentMode<9))&&(n.onload=n.onreadystatechange=n.onerror=null,e(null,t))},n.onerror=function(t){n.onload=n.onreadystatechange=n.onerror=null,e({msg:"script not loaded",event:t})};var i=document.head||document.getElementsByTagName("head")[0];i.insertBefore(n,i.lastChild)},c.cloneSimpleObject=function(t,e){if("object"!=typeof t||null===t||t instanceof Date)return t;var n,i=new t.constructor;for(n in t)t.hasOwnProperty(n)&&(void 0===n||e&&void 0===t[n]||(i[n]=c.cloneSimpleObject(t[n])));return i},c.jsonSerialize=function(t){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(t):function t(e){var n=typeof e;if("object"!==n||null===e)return"string"===n&&(e='"'+e+'"'),String(e);var i,r,o=[],s=e.constructor===Array;for(i in e)e.hasOwnProperty(i)&&"function"!=(n=typeof(r=e[i]))&&"undefined"!==n&&("string"===n?r='"'+r.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==r&&(r=t(r)),o.push((s?"":'"'+i+'":')+String(r)));return(s?"[":"{")+String(o)+(s?"]":"}")}(t)}catch(t){return null}},c.jsonParse=function(t){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t+""):(o=null,(e=n((e=t)+""))&&!n(e.replace(i,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():null)}catch(t){return null}var e,r,o},c.arrayIndexOf=function(t,e){if(Array.prototype.indexOf){var n=-1;return void 0!==t.indexOf(e)&&(n=t.indexOf(e)),n}return function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!=i&&1/0!=i&&-1/0!=i&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(i=0<=i?i:Math.max(n-Math.abs(i),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}.apply(t,[e])},c.objectIsEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.uuid=function(){return{v4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},num:function(t){var e,n=new Date,i=function(t){return(t-=100*Math.floor(t/100))<10?"0"+t:String(t)};return i(n.getHours())+""+i(n.getMinutes())+i(n.getSeconds())+(e=t-6,Math.floor((9*Math.random()+1)*Math.pow(10,e-1)))}}},c.getObjectKeys=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},c.completeFstLevelObj=function(t,e,n){if(t){if(e)for(var i in e)!e.hasOwnProperty(i)||t[i]&&!n||(t[i]=e[i])}else t=e;return t},c.isPreview=function(){return window.navigator&&"preview"===window.navigator.loadPurpose},c.isPrerender=function(e){var n,t=!1,i=["webkit","ms"];if("prerender"===document.visibilityState)n="visibilitychange";else for(var r=0;r<i.length;r++)"prerender"===document[i[r]+"VisibilityState"]&&(n=i[r]+"visibilitychange");if(void 0!==n){var o=function(t){e(t),c.removeEvtListener(document,n,o)};c.addEvtListener(document,n,o),t=!0}return t};var r=c.addEvtListener=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},o=c.removeEvtListener=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)};c.hashcode=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++)e=0|(e=(e<<5)-e+t.charCodeAt(n));return e},c.setLocation=function(t){var e=t.location;t=window[t.target]||window,e&&(t.location.href=e)},c.dispatchCallbackEvent=function(t){var e;if("function"==typeof window.Event)e=new Event("ATCallbackEvent");else try{(e=document.createEvent("Event")).initEvent&&e.initEvent("ATCallbackEvent",!0,!0)}catch(t){}e&&"function"==typeof document.dispatchEvent&&(e.name=t,document.dispatchEvent(e))},c.addCallbackEvent=function(t){r(document,"ATCallbackEvent",t)},c.removeCallbackEvent=function(t){c.removeEvent("ATCallbackEvent",t)},function(){function t(t,e){var n;e=e||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail)}catch(t){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(t.prototype=window.Event.prototype),window.ATCustomEvent=t)}(),c.addEvent=function(t,e,n,i){c[t]=new ATCustomEvent(t,{detail:{name:e,id:n}}),r(document,t,i)},c.removeEvent=function(t,e){o(document,t,e)},c.dispatchEvent=function(t,e){c[t]=c[t]||new ATCustomEvent(t,{detail:{name:e,id:-1}});try{document.dispatchEvent(c[t])}catch(t){}},c.addOptOutEvent=function(t,e){c.addEvent("ATOptOutEvent","clientsideuserid",t,e)},c.removeOptOutEvent=function(t){c.removeEvent("ATOptOutEvent",t)},c.dispatchOptOutEvent=function(t){c.optedOut=t,c.dispatchEvent("ATOptOutEvent","clientsideuserid")},c.userOptedOut=function(){c.dispatchOptOutEvent(!0)},c.userOptedIn=function(){c.dispatchOptOutEvent(!1)},c.isOptedOut=function(){if(null===c.optedOut){var t;if(t=null,c.isLocalStorageAvailable()&&(t=localStorage.getItem("atoptedout")),null===t){var e=/(?:^| )atoptedout=([^;]+)/.exec(document.cookie);null!==e&&(t=e[1])}if(null!==t)try{t=decodeURIComponent(t)}catch(t){}t=!(!t||null===(t=c.jsonParse(t)||c.jsonParse(c.Base64.decode(t))))&&!!t.val,c.optedOut=t}return!!c.optedOut},c.optedOut=null,c.consentReceived=function(t){c.consent=!!t},c.consent=!0,c.isTabOpeningAction=function(t){var e=!1;return t&&(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1===t.button)&&(e=!0),e}};var u=function(g){var o=this,i=0,E=0,v=["dz"],r="",m=function(t,e,n,i,r,o,s){return{param:t="&"+t+"=",paramSize:t.length,str:e,strSize:e.length,truncate:n,multihit:i,separator:r||"",encode:o,last:s}},I=function(t,e){var n,i="",r=0,o=0,s=0,a=(r=-1,null),u=null;for(n in t)t.hasOwnProperty(n)&&(a=t[n])&&(r=e-o,a.last&&null!==u?u[n]=a:a.strSize+a.paramSize<=r?(i+=a.param+a.str,o+=a.paramSize+a.strSize):((u=u||{})[n]=a).truncate&&(s=r-a.paramSize,a.separator&&(r=a.str.substring(0,r),0<(r=a.encode?r.lastIndexOf(encodeURIComponent(a.separator)):r.lastIndexOf(a.separator))&&(s=r)),i+=a.param+a.str.substring(0,s),o+=a.paramSize+a.str.substring(0,s).length,u[n].str=a.str.substring(s,a.strSize),u[n].strSize=u[n].str.length));return[i,u]};o.getCollectDomain=function(){var t="",e=(t=g.getConfig("logSSL")||g.getConfig("log"),g.getConfig("domain"));return t&&e?t+"."+e:g.getConfig("collectDomainSSL")||g.getConfig("collectDomain")};var n=function(e,n,s){!function(t){var e="";if(i=g.getConfig("baseURL"))e=i;else{var n,i=o.getCollectDomain();"/"!==(n=(n=g.getConfig("pixelPath"))||"/").charAt(0)&&(n="/"+n),i&&(e=(g.getConfig("forceHttp")?"http://":"https://")+i+n)}i=g.getConfig("site"),e&&i?t&&t(null,e+"?s="+i):t&&t({message:"Config error"})}(function(t,o){t?s&&s(t):(E=i-(o.length+27),function(t,e,n){var i,h="",r=function(t){if(t==={})return[];var e,n,i,r,o,s,a,u,c,l,f=[],d=!(e={}),p=void 0,_="";for(l in t)if(t.hasOwnProperty(l))if(a=s=o=r=!1,n=t[l]._value,"boolean"==typeof(i=t[l]._options||{}).encode&&(r=i.encode),"function"==typeof n&&(n=n()),n=n instanceof Array?n.join(i.separator||","):"object"==typeof n?Echo1201ATInternet.Utils.jsonSerialize(n):void 0===n?"undefined":n.toString(),r&&(n=encodeURIComponent(n)),-1<Echo1201ATInternet.Utils.arrayIndexOf(v,l)?o=!0:"boolean"==typeof i.truncate&&(o=i.truncate),"boolean"==typeof i.multihit&&(s=i.multihit),"boolean"==typeof i.last&&(a=i.last),n=m(l,n,o,s,i.separator,r,a),s)E-=n.paramSize+n.strSize,_+=n.param+n.str;else if(a)n.paramSize+n.strSize>E&&(n.str=n.str.substring(0,E-n.paramSize),n.strSize=n.str.length),u=l,c=n;else if(e[l]=n,e[l].paramSize+e[l].strSize>E&&!e[l].truncate){g.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+e[l].param+'"',details:{value:e[l].str}}),d=!0,p=l;break}if(u&&(e[u]=c),t=(e=[e,d,p,_])[0],d=e[1],h=e[3],d&&((t=t[e=e[2]]).str=t.str.substring(0,E-t.paramSize),t.strSize=t.str.length,(d={}).mherr=m("mherr","1",!1,!1,"",!1,!1),d[e]=t,t=d),null===(t=I(t,E))[1])f=t[0];else for(f.push(t[0]);null!==t[1];)t=I(t[1],E),f.push(t[0]);return f},o="";if(g.buffer.presentInFilters(e,"hitType")||(e=g.buffer.addInFilters(e,"hitType",["page"])),e=g.buffer.addInFilters(e,"hitType",["all"]),"object"==typeof t&&null!==t){var s;for(i in e=g.buffer.addInFilters(e,"permanent",!0),e=g.buffer.get(e,!0),t)t.hasOwnProperty(i)&&(s={},t[i]&&"object"==typeof t[i]&&t[i].hasOwnProperty("_value")?(o=t[i]._value,t[i].hasOwnProperty("_options")&&(s=t[i]._options)):o=t[i],e[i]={_value:o,_options:s});o=r(e)}else for(i in o=r(e=g.buffer.get(e,!0)),e)e.hasOwnProperty(i)&&(e[i]._options&&e[i]._options.permanent||g.buffer.del(i));n&&n(o,h)}(e,n,function(t,e){var n=[],i=Echo1201ATInternet.Utils.uuid().num(13);if(t instanceof Array)for(var r=1;r<=t.length;r++)n.push(o+e+"&mh="+r+"-"+t.length+"-"+i+t[r-1]);else n.push(o+e+t);s&&s(null,n)}))})},s=function(e,n,i,r,o){return function(t){g.emit(e,{lvl:o,details:{hit:n,method:i,event:t}}),r&&r()}};o.send=function(t,e,i,r){n(t,e,function(t,e){if(t)g.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:t.message,details:{}}),i&&i();else for(var n=0;n<e.length;n++)o.sendUrl(e[n],i,r)})},i=Math.max(g.getConfig("maxHitSize")||0,2e3),E=Math.max(g.getConfig("maxHitSize")||0,2e3),"POST"!==(r=g.getConfig("requestMethod")||"GET")||Echo1201ATInternet.Utils.isBeaconMethodAvailable()||(r="GET"),o.sendUrl=function(t,e,n){n=n||r,Echo1201ATInternet.Utils.isOptedOut()&&!g.getConfig("sendHitWhenOptOut")?s("Tracker:Hit:Sent:NoTrack",t,n,e,"INFO")():"POST"===n?window.navigator.sendBeacon(t,null)?s("Tracker:Hit:Sent:Ok",t,"POST",e,"INFO")():s("Tracker:Hit:Sent:Error",t,"POST",e,"ERROR")():((n=new Image).onload=s("Tracker:Hit:Sent:Ok",t,"GET",e,"INFO"),n.onerror=s("Tracker:Hit:Sent:Error",t,"GET",e,"ERROR"),n.src=t)}},c=function(){function s(t,e,n){for(var i=[],r=0;r<t.length;r++)t[r].callback(e,n),t[r].singleUse||i.push(t[r]);return i}var i={};this.on=function(t,e,n){return n=n||!1,function t(e,n,i,r){var o=e.shift();return"*"===o?(n["*"]=n["*"]||[],n["*"].push({callback:i,singleUse:r}),n["*"].length-1):0===e.length?t([o,"*"],n,i,r):(n["*"]=n["*"]||[],n[o]=n[o]||{},t(e,n[o],i,r))}(t.split(":"),i,e,n)},this.emit=function(t,e){i["*"]&&(i["*"]=s(i["*"],t,e)),function t(e,n,i,r){var o=n.shift();"*"!==o&&(0===n.length?t(e,[o,"*"],i,r):i[o]&&(i[o]["*"]=s(i[o]["*"],e,r),t(e,n,i[o],r)))}(t,t.split(":"),i,e)}},l=function(s){var a={},n={},i=0,o={},u=0,c=function(t){var e=!1;return a[t]&&(e=!0),e},r=this.unload=function(t){return c(t)?(a[t]=void 0,s.emit("Tracker:Plugin:Unload:"+t+":Ok",{lvl:"INFO"})):s.emit("Tracker:Plugin:Unload:"+t+":Error",{lvl:"ERROR",msg:"not a known plugin"}),s},e=this.load=function(t,e){return"function"==typeof e?void 0===s.getConfig.plgAllowed||0===s.getConfig.plgAllowed.length||-1<s.getConfig.plgAllowed.indexOf(t)?(a[t]=new e(s),n[t]&&c(t)&&(n[t]=!1,i--,c(t+"_ll")&&r(t+"_ll"),0===i&&s.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),s.emit("Tracker:Plugin:Load:"+t+":Ok",{lvl:"INFO"})):s.emit("Tracker:Plugin:Load:"+t+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):s.emit("Tracker:Plugin:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:e}}),s},l=this.isLazyloading=function(t){return t?!0===n[t]:0!==i},f=function(t){return!c(t)&&!l(t)&&c(t+"_ll")},d=function(t){n[t]=!0,i++,Echo1201ATInternet.Utils.loadScript({url:s.getConfig("lazyLoadingPath")+t+".js"})},p=function(t,e,n,i){var r=null;e=e.split("."),c(t)&&a[t][e[0]]&&(r=1<e.length&&a[t][e[0]][e[1]]?a[t][e[0]][e[1]].apply(a[t],n):a[t][e[0]].apply(a[t],n)),i&&i(r)},_=function(e,t,n,i){var r;o[r=e]?o[r]++:o[r]=1,u++,s.onTrigger("Tracker:Plugin:Load:"+e+":Ok",function(){p(e,t,n,function(t){o[e]--,0===--u&&s.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),i&&i(t)})},!0)};this.isExecWaitingLazyloading=function(){return 0!==u},s.exec=this.exec=function(t,e,n,i){f(t)?(_(t,e,n,i),d(t)):l(t)?_(t,e,n,i):p(t,e,n,i)},this.waitForDependencies=function(t,r){var e,o=function(t){for(var e={mcount:0,plugins:{}},n=0;n<t.length;n++)a.hasOwnProperty(t[n])||(e.mcount++,e.plugins[t[n]]=!0);return e}(t);if(0===o.mcount)s.emit("Tracker:Plugin:Dependencies:Loaded",{lvl:"INFO",details:{dependencies:t}}),r();else for(var n in o.plugins)o.plugins.hasOwnProperty(n)&&(s.emit("Tracker:Plugin:Dependencies:Error",{lvl:"WARNING",msg:"Missing plugin "+n}),s.onTrigger("Tracker:Plugin:Load:"+n,function(t,e){var n=t.split(":"),i=n[3];"Ok"===n[4]&&(o.plugins[i]=!1,o.mcount--,0===o.mcount&&r())},!0),f(e=n)&&d(e))},this.init=function(){for(var t in Echo1201ATInternet.Tracker.pluginProtos)Echo1201ATInternet.Tracker.pluginProtos.hasOwnProperty(t)&&e(t,Echo1201ATInternet.Tracker.pluginProtos[t])}},f=function(i){var r=this,o={},s=function(t){if(t.name){var e=!0;if("undefined"!=typeof configuration&&(configuration.include instanceof Array&&-1===Echo1201ATInternet.Utils.arrayIndexOf(configuration.include,t.name)&&(e=!1),configuration.exclude instanceof Array&&-1!==Echo1201ATInternet.Utils.arrayIndexOf(configuration.exclude,t.name)&&(e=!1)),Echo1201ATInternet.Callbacks&&Echo1201ATInternet.Callbacks.hasOwnProperty(t.name)){var n={};n[t.name]={function:Echo1201ATInternet.Callbacks[t.name]},e&&r.load(t.name,n[t.name].function),Echo1201ATInternet.Tracker.callbackProtos[t.name]||(Echo1201ATInternet.Tracker.callbackProtos[t.name]=n[t.name])}}};r.load=function(t,e){return"function"==typeof e?(new e(i),i.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:e}})):i.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:e}}),i},r.init=function(){if(i.getConfig("activateCallbacks")){var t=i.getConfig("callbacks");if(void 0!==t&&t.include instanceof Array)for(var e=0;e<t.include.length;e++)Echo1201ATInternet.Callbacks&&Echo1201ATInternet.Callbacks.hasOwnProperty(t.include[e])&&(o[t.include[e]]={function:Echo1201ATInternet.Callbacks[t.include[e]]},Echo1201ATInternet.Tracker.callbackProtos[t.include[e]]||(Echo1201ATInternet.Tracker.callbackProtos[t.include[e]]=o[t.include[e]]));else for(e in Echo1201ATInternet.Callbacks)Echo1201ATInternet.Callbacks.hasOwnProperty(e)&&(o[e]={function:Echo1201ATInternet.Callbacks[e]},Echo1201ATInternet.Tracker.callbackProtos[e]||(Echo1201ATInternet.Tracker.callbackProtos[e]=o[e]));if(void 0!==t&&t.exclude instanceof Array)for(e=0;e<t.exclude.length;e++)o[t.exclude[e]]&&(o[t.exclude[e]]=void 0);for(var n in o)o.hasOwnProperty(n)&&o[n]&&r.load(n,o[n].function);Echo1201ATInternet.Utils.addCallbackEvent(s)}},r.removeCallbackEvent=function(){Echo1201ATInternet.Utils.removeCallbackEvent(s)}},d=function(t){var s=this,c={};s.set=function(t,e,n){(n=n||{}).hitType=n.hitType||["page"],c[t]={_value:e,_options:n}};var o=function(t,e,n){return(t=Echo1201ATInternet.Utils.cloneSimpleObject(t[e]))&&!n?t._value:t};s.get=function(t,e){var n={};if("string"==typeof t)n=o(c,t,e);else for(var i=function t(e,n){if(!(e&&n instanceof Array&&e instanceof Array))return[];if(0===e.length)return n;var i,r=e[0],o=[],s=Echo1201ATInternet.Utils.cloneSimpleObject(e);s.shift();for(var a=0;a<n.length;a++)if("object"!=typeof r[1])c[n[a]]&&c[n[a]]._options[r[0]]===r[1]&&o.push(n[a]);else{i=r[1].length;for(var u=0;u<i;u++)if(c[n[a]]&&c[n[a]]._options[r[0]]instanceof Array&&0<=Echo1201ATInternet.Utils.arrayIndexOf(c[n[a]]._options[r[0]],r[1][u])){o.push(n[a]);break}}return t(s,o)}(t,Echo1201ATInternet.Utils.getObjectKeys(c)),r=0;r<i.length;r++)n[i[r]]=o(c,i[r],e);return n},s.presentInFilters=function(t,e){return!(!t||0===t.length)&&(t[0][0]===e||s.presentInFilters(t.slice(1),e))},s.addInFilters=function(t,e,n,i){if(!t||0===t.length)return i?[]:[[e,n]];var r=t[0][0],o=t[0][1];return r===e&&(o instanceof Array&&-1===Echo1201ATInternet.Utils.arrayIndexOf(o,n[0])&&o.push(n[0]),i=!0),[[r,o]].concat(s.addInFilters(t.slice(1),e,n,i))},s.del=function(t){c[t]=void 0},s.clear=function(){c={}}};Echo1201ATInternet.Tracker.Tag=function(t,e,n){e=e||{};var r=this;r.version="5.20.0";var i=window.Echo1201ATInternet.Utils.cloneSimpleObject(e);r.triggers=new c(r),r.emit=r.triggers.emit,r.onTrigger=r.triggers.on;var o,s=window.Echo1201ATInternet.Utils.cloneSimpleObject(a)||{};for(o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);r.getConfig=function(t){return s[t]},r.setConfig=function(t,e,n){void 0!==s[t]&&n||(r.emit("Tracker:Config:Set:"+t,{lvl:"INFO",details:{bef:s[t],aft:e}}),s[t]=e)},r.configPlugin=function(t,e,n){for(var i in s[t]=s[t]||{},e)e.hasOwnProperty(i)&&void 0===s[t][i]&&(s[t][i]=e[i]);return n&&(n(s[t]),r.onTrigger("Tracker:Config:Set:"+t,function(t,e){n(e.details.aft)})),s[t]},r.getContext=function(t){return i[t]},r.setContext=function(t,e){r.emit("Tracker:Context:Set:"+t,{lvl:"INFO",details:{bef:i[t],aft:e}}),i[t]=e},r.delContext=function(t,e){if(r.emit("Tracker:Context:Deleted:"+t+":"+e,{lvl:"INFO",details:{key1:t,key2:e}}),t)i.hasOwnProperty(t)&&(e?i[t]&&i[t].hasOwnProperty(e)&&(i[t][e]=void 0):i[t]=void 0);else if(e)for(var n in i)i.hasOwnProperty(n)&&i[n]&&i[n].hasOwnProperty(e)&&(i[n][e]=void 0)},r.plugins=new l(r),r.buffer=new d(r),r.setParam=r.buffer.set,r.getParams=function(t){return r.buffer.get(t,!1)},r.getParam=r.buffer.get,r.delParam=r.buffer.del,r.builder=new u(r),r.sendHit=r.builder.send,r.sendUrl=r.builder.sendUrl,r.callbacks=new f(r),r.setParam("ts",function(){return(new Date).getTime()},{permanent:!0,hitType:["all"]}),(r.getConfig("disableCookie")||r.getConfig("disableStorage"))&&r.setParam("idclient","Consent-NO",{permanent:!0,hitType:["all"]}),r.getConfig("medium")&&r.setParam("medium",r.getConfig("medium"),{permanent:!0,hitType:["all"]}),r.plugins.init(),r.callbacks.init(),Echo1201ATInternet.Tracker.instances.push(r),r.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:r,args:{config:t,context:e,callback:n}}}),n&&n(r)},Echo1201ATInternet.Tracker.instances=[],Echo1201ATInternet.Tracker.pluginProtos={},Echo1201ATInternet.Tracker.addPlugin=function(t,e){if(e=e||Echo1201ATInternet.Tracker.Plugins[t],!Echo1201ATInternet.Tracker.pluginProtos[t]){Echo1201ATInternet.Tracker.pluginProtos[t]=e;for(var n=0;n<Echo1201ATInternet.Tracker.instances.length;n++)Echo1201ATInternet.Tracker.instances[n].plugins.load(t,e)}},Echo1201ATInternet.Tracker.delPlugin=function(t){if(Echo1201ATInternet.Tracker.pluginProtos[t]){Echo1201ATInternet.Tracker.pluginProtos[t]=void 0;for(var e=0;e<Echo1201ATInternet.Tracker.instances.length;e++)Echo1201ATInternet.Tracker.instances[e].plugins.unload(t)}},Echo1201ATInternet.Tracker.callbackProtos={}}.call(window),function(){var t={lifetime:30,lastPersistence:!0,listEventsForExec:[],domainAttribution:!0},e=30,n=30;window.Echo1201ATInternet.Tracker.Plugins.Campaigns=function(r){r.setConfig("visitLifetime",e,!0),r.setConfig("redirectionLifetime",n,!0);var o,s,a={};r.configPlugin("Campaigns",t,function(t){a=t});var u,c,l,f,d,p,_,h,g,E,v,m,I,A=function(){var u=function(t){var e="";return t&&(e=isNaN(t)&&-1===t.search(/\[(.*?)\]/g)?"["+t+"]":t),e},c=function(t){for(;"-"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);return t};this.SponsoredLinks=function(){var s={google:"goo",yahoo:"ysm",miva:"miv",orange:"wan",msn:"msn",mirago:"mir",sklik:"skl",adfox:"adf",etarget:"etg",yandex:"yan",ebay:"eba",searchalliance:"sal",bing:"bin",naver:"nav",baidu:"bdu",qwant:"qwt",waze:"waz",amazon:"amz"},a={search:"s",content:"c"};this.at_medium="sl",this.at_term=this.at_network=this.at_variant=this.at_creation=this.at_platform=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=s[this.at_platform]||"",n=u(this.at_creation),i=u(this.at_variant),r=a[this.at_network]||"",o=u(this.at_term);return c("sec-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_platform=r.utils.getQueryStringValue("at_platform",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||"",this.at_network=r.utils.getQueryStringValue("at_network",t)||"",this.at_term=r.utils.getQueryStringValue("at_term",t)||""}},this.Email=function(){var e={acquisition:"erec",retention:"epr",promotion:"es"};this.at_medium="email",this.at_send_time=this.at_recipient_list=this.at_recipient_id=this.at_link=this.at_send_date=this.at_creation=this.at_campaign=this.at_emailtype="",this.format=function(){var t=(t=e[this.at_emailtype]||e.promotion)+"-"+u(this.at_campaign)+"-"+u(this.at_creation)+"-"+this.at_send_date+"-"+u(this.at_link)+"-"+this.at_recipient_id+(this.at_recipient_list?"@"+this.at_recipient_list:"")+"-"+this.at_send_time;return c(t)},this.setProperties=function(t){this.at_emailtype=r.utils.getQueryStringValue("at_emailtype",t)||"",this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_send_date=r.utils.getQueryStringValue("at_send_date",t)||"",this.at_link=r.utils.getQueryStringValue("at_link",t)||"",this.at_recipient_id=r.utils.getQueryStringValue("at_recipient_id",t)||"",this.at_recipient_list=r.utils.getQueryStringValue("at_recipient_list",t)||"",this.at_send_time=r.utils.getQueryStringValue("at_send_time",t)||""}},this.Affiliate=function(){this.at_medium="affiliate",this.at_variant=this.at_creation=this.at_format=this.at_identifier=this.at_type=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=u(this.at_type),n=u(this.at_identifier),i=u(this.at_format),r=u(this.at_creation),o=u(this.at_variant);return c("al-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_type=r.utils.getQueryStringValue("at_type",t)||"",this.at_identifier=r.utils.getQueryStringValue("at_identifier",t)||"",this.at_format=r.utils.getQueryStringValue("at_format",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||""}},this.Display=function(){this.at_medium="display",this.at_detail_placement=this.at_general_placement=this.at_channel=this.at_format=this.at_variant=this.at_creation=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=u(this.at_creation),n=u(this.at_variant),i=u(this.at_format),r=u(this.at_channel),o=u(this.at_general_placement),s=u(this.at_detail_placement);return c("ad-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o+"-"+s)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||"",this.at_format=r.utils.getQueryStringValue("at_format",t)||"",this.at_channel=r.utils.getQueryStringValue("at_channel",t)||"",this.at_general_placement=r.utils.getQueryStringValue("at_general_placement",t)||"",this.at_detail_placement=r.utils.getQueryStringValue("at_detail_placement",t)||""}},this.Custom=function(){this.at_custom4=this.at_custom3=this.at_custom2=this.at_custom1=this.at_campaign=this.at_medium="",this.format=function(){var t="";/\d+$/.test(this.at_medium)&&(t=/\d+$/.exec(this.at_medium)[0]);t="cs"+t;var e=u(this.at_campaign),n=u(this.at_custom1),i=u(this.at_custom2),r=u(this.at_custom3),o=u(this.at_custom4);return c(t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_medium=r.utils.getQueryStringValue("at_medium",t)||"",this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_custom1=r.utils.getQueryStringValue("at_custom1",t)||"",this.at_custom2=r.utils.getQueryStringValue("at_custom2",t)||"",this.at_custom3=r.utils.getQueryStringValue("at_custom3",t)||"",this.at_custom4=r.utils.getQueryStringValue("at_custom4",t)||""}},this.medium={sl:this.SponsoredLinks,email:this.Email,affiliate:this.Affiliate,display:this.Display}},S=function(t,e){var n=r.storage[s](t);return null!==n?"object"==typeof n&&!(n instanceof Array):(r.storage[o](t,{},e),!0)},y=function(t,e){var n=r.getContext("campaigns")||{};n[t]=e,r.setContext("campaigns",n)};r.plugins.waitForDependencies(["Storage","Utils"],function(){o="set"+(a.domainAttribution?"":"Private"),s="get"+(a.domainAttribution?"":"Private"),u=r.storage[s](["atredir","gopc"]),c=r.storage[s](["atredir","gopc_err"]),l=r.storage[s](["atredir","camp"]),r.storage.del(["atredir","gopc"]),r.storage.del(["atredir","gopc_err"]),r.storage.del(["atredir","camp"]),f=r.storage[s](["atsession","histo_camp"]),d=r.storage[s](["atreman","camp"]),p=r.storage[s](["atreman","date"]);var t,e=r.utils.getLocation();if(n=r.utils.getQueryStringValue("at_medium",e)){var n,i=new A;(n="function"==typeof i.medium[n]?new i.medium[n]:new i.Custom).setProperties(e),_=n.format()}else _=r.utils.getQueryStringValue("xtor",e);h=r.utils.getQueryStringValue("xtdt",e),g=r.utils.getQueryStringValue("xts",e),E=r.getContext("forcedCampaign"),v=!!r.getConfig("redirect"),I=!1,(m=!!(_&&h&&g))&&(e=(new Date).getTime()/6e4,I=!v&&g!==r.getConfig("site")||e-h<0||e-h>=r.getConfig("visitLifetime")),e=E||l||_,v&&e&&S("atredir",{path:"/",end:r.getConfig("redirectionLifetime")})&&(r.storage[o](["atredir","camp"],e),n=e=!1,E||(n=l?(e=u,c):(e=m,I)),r.storage[o](["atredir","gopc"],e),r.storage[o](["atredir","gopc_err"],n)),!v&&d&&(y("xtor",d),e=(new Date).getTime()/36e5,e=Math.floor(e-p),y("roinbh",0<=e?e:0)),v||(e=null,e=l?u?E||e:E||l:m?E:E||_||e,f&&f instanceof Array&&-1<f.indexOf(e)&&(e=null),e&&y("xto",e)),v||E||(l?c&&(t=l):I&&(t=_),t&&y("pgt",t)),v||!(t=l?E||l:E||_||null)||!E&&!l&&m&&I||!E&&l&&u&&c||((!f||f instanceof Array&&f.indexOf(t)<0)&&S("atsession",{path:"/",session:60*r.getConfig("visitLifetime")})&&r.storage[o](["atsession","histo_camp"],f&&f.push(t)?f:[t]),d&&!a.lastPersistence||!S("atreman",{path:"/",session:86400*a.lifetime})||(r.storage[o](["atreman","camp"],t),r.storage[o](["atreman","date"],(new Date).getTime()/36e5))),r.emit("Campaigns:process:done",{lvl:"INFO"})})},window.Echo1201ATInternet.Tracker.addPlugin("Campaigns")}.call(window),function(){var t={};Echo1201ATInternet.Tracker.Plugins.Cookies=Echo1201ATInternet.Tracker.Plugins.Storage=function(a){var i=this,e=!1,r=null;a.configPlugin("Storage",t,function(t){"localStorage"===t.storageMode&&(e=Echo1201ATInternet.Utils.isLocalStorageAvailable())});var o={},u=function(t){return a.getConfig("base64Storage")?Echo1201ATInternet.Utils.Base64.encode(t):encodeURIComponent(t)},s=function(t){return a.getConfig("base64Storage")?Echo1201ATInternet.Utils.Base64.decode(t):decodeURIComponent(t)};r=e?new function(){var r=function(t){var e,n=+new Date,i=!1;return t.options&&(void 0!==t.options.expires?e=t.options.expires:"function"==typeof(t=t.options.end||{}).getTime?e=t.getTime():"number"==typeof t&&(e=n+1e3*t)),"number"==typeof e&&e<=n&&(i=!0),{itemToDelete:i,timestamp:e}},o=function(t){var e=!1;try{localStorage.removeItem(t),e=!0}catch(t){}return e};this.getData=function(t){var e=null;if(n=localStorage.getItem(t)){var n=s(n),i=Echo1201ATInternet.Utils.jsonParse(n);i&&"object"==typeof i?r(i).itemToDelete&&o(t)||(delete i.options.expires,e=Echo1201ATInternet.Utils.jsonSerialize(i)):e=n}return e},this.setData=function(t){var e=!1;if(t.name&&"string"==typeof t.name){var n=r(t);"number"==typeof n.timestamp&&(t.options.expires=n.timestamp);var i=Echo1201ATInternet.Utils.jsonSerialize(t);if(n.itemToDelete)e=o(t.name);else try{localStorage.setItem(t.name,u(i)),e=!0}catch(t){}}return e}}:new function(){this.getData=function(t){var e=null;return(t=RegExp("(?:^| )"+t+"=([^;]+)").exec(document.cookie)||null)&&(e=s(t[1])),e},this.setData=function(t){var e=!1;if(t.name&&"string"==typeof t.name){var n=t.options||{},i=n.end||{},r=n.domain||a.getConfig("cookieDomain"),o=n.secure||a.getConfig("cookieSecure"),s=Echo1201ATInternet.Utils.jsonSerialize(t);s=(s=(s=t.name+"="+u(s))+(n.path&&"string"==typeof n.path?";path="+n.path:""))+(r&&"string"==typeof r?";domain="+r:"")+(o&&"boolean"==typeof o?";secure":""),"function"==typeof i.toUTCString?s+=";expires="+i.toUTCString():"number"==typeof i&&(s+=";max-age="+i.toString()),document.cookie=s,this.getData(t.name)&&(e=!0)}return e}};var c=function(t,e){var n=!1;return!Echo1201ATInternet.Utils.consent&&!e||a.getConfig("disableCookie")||a.getConfig("disableStorage")||!t||"object"!=typeof t||(n=r.setData(t)),n},l=function(t,e,n){return t={name:t,val:e},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),t.options=n||{},t},f=function(t){var e=null,n=null;return a.getConfig("disableCookie")||a.getConfig("disableStorage")||!t||"string"!=typeof t||(n=r.getData(t)),(t=n)&&(e=Echo1201ATInternet.Utils.jsonParse(t)),e},d=function(t,e){var n=Echo1201ATInternet.Utils.cloneSimpleObject(t);return c(n,e)?Echo1201ATInternet.Utils.jsonParse(Echo1201ATInternet.Utils.jsonSerialize(t)):null},n=function(t,e,n){return!n&&o[t]?n=o[t]:(n=f(t))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,d(n,!1)),o[t]=n),n?e?(t=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[e]||(t=n.val[e]),t):n.val:null},p=function(t,e,n,i,r){return e?(r=f(t))&&(!r||"object"!=typeof r.val||r.val instanceof Array?r=null:void 0===n?delete r.val[e]:r.val[e]=n,r&&(r=d(r,i))):(r=l(t,n,r=r||{}),r=d(r,i)),r?(o[t]=r).val:null},_=function(t,e){if(e)p(t,e,void 0,!1,null);else{o[t]=void 0;var n=l(t,"",{end:new Date("Thu, 01 Jan 1970 00:00:00 UTC"),path:"/"});c(n,!1)}};a.storage={},a.storage.get=i.get=function(t,e){return e=!!e,t instanceof Array?n(t[0],t[1],e):n(t,"",e)},a.storage.getPrivate=i.getPrivate=function(t,e){return t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.get(t,e)},a.storage.set=i.set=function(t,e,n,i){return t instanceof Array?p(t[0],t[1],e,i,null):p(t,null,e,i,n)},a.storage.setPrivate=i.setPrivate=function(t,e,n){return t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.set(t,e,n)},a.storage.del=i.del=function(t){t instanceof Array?_(t[0],t[1]):_(t,"")},a.storage.delPrivate=i.delPrivate=function(t){t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.del(t)},a.storage.cacheInvalidation=i.cacheInvalidation=function(){o={}}},Echo1201ATInternet.Tracker.addPlugin("Storage"),Echo1201ATInternet.Tracker.addPlugin("Cookies")}.call(window),function(){window.Echo1201ATInternet.Tracker.Plugins.Utils=function(c){var t=this,o={};c.utils={},c.utils.getQueryStringValue=t.getQueryStringValue=function(t,e){var n=Echo1201ATInternet.Utils.hashcode(e).toString();if(!o[n]){o[n]={};for(var i=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=i.exec(e);null!==r;)o[n][r[1]]=r[2],r=i.exec(e)}return o[n].hasOwnProperty(t)?o[n][t]:null},c.utils.manageChapters=t.manageChapters=function(t,e,n){var i="";if(t)for(var r=c.getConfig("ignoreEmptyChapterValue"),o="",s=1;s<parseInt(n,10)+1;s++)o=t[e+s]||"",i=r?i+(o?o+"::":""):i+(t.hasOwnProperty(e+s)?o+"::":"");return i},c.utils.getDocumentLevel=t.getDocumentLevel=function(){var t=c.getConfig("documentLevel");return t?t.indexOf(".")<0?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document):document},c.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},c.utils.getHostName=t.getHostName=function(){return t.getDocumentLevel().location.hostname},c.dispatchIndex={},c.dispatchStack=[],c.dispatchEventFor={};var i=0;c.dispatchSubscribe=function(t){return!c.dispatchIndex[t]&&(c.dispatchStack.push(t),c.dispatchIndex[t]=!0)},c.dispatchSubscribed=function(t){return!0===c.dispatchIndex[t]},c.addSpecificDispatchEventFor=function(t){return!c.dispatchEventFor[t]&&(c.dispatchEventFor[t]=!0,i++,!0)},c.processSpecificDispatchEventFor=function(t){c.dispatchEventFor[t]&&(c.dispatchEventFor[t]=!1,0===--i&&(c.dispatchEventFor={},c.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},c.dispatch=function(n){var t=function(){for(var t="",e=null;0<c.dispatchStack.length;)t=c.dispatchStack.pop(),0===c.dispatchStack.length&&(e=n),c[t].onDispatch(e);c.dispatchIndex={},c.delContext(void 0,"customObject")},e=function(){c.plugins.isExecWaitingLazyloading()?c.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",function(){t()},!0):t()};0===i?e():c.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",function(){e()},!0)},c.dispatchRedirect=function(t){var e=!0,n=null;return t&&(n=null,t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1201ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(t.elem.timeoutonly=!0,c.plugins.exec("TechClicks","manageClick",[t.elem,n],function(t){e=t})),n=t.callback),c.dispatch(n),e};var l=c.manageSend=function(e){Echo1201ATInternet.Utils.isPreview()&&!c.getConfig("preview")||Echo1201ATInternet.Utils.isPrerender(function(t){e(t)})||e()};c.processTagObject=function(t,e,n){if((t=c.getParam(t,!0))&&t._options.permanent){for(var i=!1,r=t._options.hitType||[],o=0;o<r.length;o++)if(-1!==Echo1201ATInternet.Utils.arrayIndexOf(e.concat("all"),r[o])){i=!0;break}i&&(n=Echo1201ATInternet.Utils.completeFstLevelObj(t._value||{},n,!0))}return n},c.processContextObjectAndSendHit=function(t,e,n,i){var r={hitType:e.hitType,encode:e.encode,separator:e.separator,truncate:e.truncate},o=c.getParam(t,!0);if(o){for(var s=!1,a=o._options.hitType||[],u=0;u<a.length;u++)if(-1!==Echo1201ATInternet.Utils.arrayIndexOf(e.hitType.concat("all"),a[u])){s=!0;break}s?((s=Echo1201ATInternet.Utils.cloneSimpleObject(o))._value=Echo1201ATInternet.Utils.completeFstLevelObj(s._value||{},n,!0),c.setParam(t,s._value,r),l(function(){c.sendHit(null,[["hitType",e.hitType]],i,e.requestMethod)}),o._options.permanent&&c.setParam(t,o._value,o._options)):(c.setParam(t,n,r),l(function(){c.sendHit(null,[["hitType",e.hitType]],i,e.requestMethod)}),c.setParam(t,o._value,o._options))}else c.setParam(t,n,r),l(function(){c.sendHit(null,[["hitType",e.hitType]],i,e.requestMethod)})}},window.Echo1201ATInternet.Tracker.addPlugin("Utils")}.call(window),function(){var t={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500};window.Echo1201ATInternet.Tracker.Plugins.TechClicks=function(s){var a,u,c=this;s.configPlugin("TechClicks",t,function(t){a=t.clicksAutoManagementEnabled,u=t.clicksAutoManagementTimeout}),c.deactivateAutoManagement=function(){a=!1};var l=function(t){switch(t.target){case"_top":window.top.location.href=t.url;break;case"_parent":window.parent.location.href=t.url;break;default:window.location.href=t.url}},f=function(t){var e=t.timeout;t.mailto?c.timeout=setTimeout(function(){window.location.href=t.mailto},e):t.form?c.timeout=setTimeout(function(){t.form.submit()},e):t.url&&(c.timeout=setTimeout(function(){l({url:t.url,target:t.target})},e))};s.techClicks={},s.techClicks.manageClick=c.manageClick=function(t,e){var n=!0;if(a&&t){var i;t:{for(i=t;i;){if("function"==typeof i.getAttribute&&("_blank"===i.getAttribute("target")||"no"===i.getAttribute("data-atclickmanagement"))){i=!0;break t}i=i.parentNode}i=t;for(var r,o=window.location.href;i;){if((r=i.href)&&0<=r.indexOf("#")&&o.substring(0,0<=o.indexOf("#")?o.indexOf("#"):o.length)===r.substring(0,r.indexOf("#"))){i=!0;break t}i=i.parentNode}i=!1}if(o=function(t){for(var e=t;e;){if(e.href){if(0<=e.href.indexOf("mailto:"))return"mailto";if(0===e.href.indexOf("http"))return"redirection"}else if("FORM"===e.nodeName){var n=t;if(t=!1,n&&("form"===(e=(e=n.tagName||"").toLowerCase())?t=!0:(n=(n=n.getAttribute("type")||"").toLowerCase(),"button"===e?"reset"!==n&&"button"!==n&&(t=!0):"input"===e&&"submit"===n&&(t=!0))),t)return"form";break}e=e.parentNode}return""}(t),!i&&o){switch(o){case"mailto":!function(t){var e=t;for(t=e.timeoutonly;e&&!(e.href&&0<=e.href.indexOf("mailto:"));)e=e.parentNode;e&&(t||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),window.location.href=e.href}),f({mailto:e.href,timeout:u}))}(t),n=!1;break;case"form":!function(t){var e=t;for(t=e.timeoutonly;e&&"FORM"!==e.nodeName;)e=e.parentNode;e&&(t||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),e.submit()}),f({form:e,timeout:u}))}(t),n=!1;break;case"redirection":(function(t){for(var e,n="_self",i=t.timeoutonly;t;){if(t.href&&0===t.href.indexOf("http")){e=t.href.split('"').join('\\"'),n=t.target?t.target:n;break}t=t.parentNode}e&&(i||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),l({url:e,target:n})}),f({url:e,target:n,timeout:u}))})(t),n=!1}e&&(i=e.defaultPrevented,"function"==typeof e.isDefaultPrevented&&(i=e.isDefaultPrevented()),i||e.preventDefault&&e.preventDefault())}}return n}},window.Echo1201ATInternet.Tracker.addPlugin("TechClicks")}.call(window),function(){var t={requestMethod:"POST"};Echo1201ATInternet.Tracker.Plugins.Clicks=function(r){var o="",e={};r.configPlugin("Clicks",t,function(t){e=t});var s=function(t){var e="";switch(t){case"exit":e="S";break;case"download":e="T";break;case"action":e="A";break;case"navigation":e="N"}return e},a=function(t){return r.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},i=function(t){var e={p:a(t),s2:t.level2||"",click:s(t.type)||""},n=["click"],i=r.getContext("page")||{};e.pclick=a(i),e.s2click=i.level2||"",(i=t.customObject)&&(i=r.processTagObject("stc",n,i),e.stc={_value:Echo1201ATInternet.Utils.jsonSerialize(i),_options:{hitType:n,encode:!0,separator:",",truncate:!0}}),r.sendHit(e,[["hitType",n]],t.callback,o)};"POST"!==(o=e.requestMethod)||Echo1201ATInternet.Utils.isBeaconMethodAvailable()||(o="GET"),r.click={},r.clickListener=this.clickListener={},r.click.send=this.send=function(t){var e=!0,n=null;return t&&t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1201ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(e=r.techClicks.manageClick(t.elem,n)),i(t),e},r.clickListener.send=this.clickListener.send=function(e){if(e.elem){var n="click";r.plugins.exec("TechClicks","isFormSubmit",[e.elem],function(t){n=t?"submit":"click"}),Echo1201ATInternet.Utils.addEvtListener(e.elem,n,function(t){Echo1201ATInternet.Utils.isTabOpeningAction(t)||r.techClicks.manageClick(e.elem,t),i(e)})}},r.click.set=this.set=function(t){r.dispatchSubscribe("click"),r.setContext("click",{name:a(t),level2:t.level2||"",customObject:t.customObject}),r.setParam("click",s(t.type)||"",{hitType:["click"]})},r.click.onDispatch=this.onDispatch=function(t){var e=["click"],n=r.getContext("click")||{},i=r.getContext("page")||{};r.setParam("pclick",a(i),{hitType:e}),r.setParam("s2click",i.level2||"",{hitType:e}),r.setParam("p",n.name,{hitType:e}),r.setParam("s2",n.level2,{hitType:e}),(n=n.customObject)?r.processContextObjectAndSendHit("stc",{hitType:e,encode:!0,separator:",",truncate:!0,requestMethod:o},n,t):r.manageSend(function(){r.sendHit(null,[["hitType",e]],t,o)}),r.setContext("click",void 0)}},Echo1201ATInternet.Tracker.addPlugin("Clicks")}.call(window),function(){var E={clientSideMode:"always",userIdCookieDuration:397,userIdExpirationMode:"relative",optOut:"OPT-OUT",userIdStorageName:"atuserid",optOutStorageName:"atoptedout",itpCompliant:!1,baseDomain:""};window.Echo1201ATInternet.Tracker.Plugins.ClientSideUserId=function(i){var r={},o=void 0,s=null,a=!1,u=!1,c=!1,l=null,f="",d=!1,p=!1,e=-1;i.configPlugin("ClientSideUserId",E,function(t){r=t});var _=function(){var t=r.baseDomain;t||(e=i.getConfig("cookieDomain"))&&("."===(t=e).charAt(0)&&(t=t.substring(1,t.length)));var e=i.builder.getCollectDomain(),n=i.utils.getHostName();return!!(t&&e&&n&&-1!==e.indexOf(t)&&-1!==n.indexOf(t))},t=function(){if("relative"===r.userIdExpirationMode||"fixed"===r.userIdExpirationMode&&null===s||d){var t=new Date;t.setTime(t.getTime()+864e5*r.userIdCookieDuration),i.storage.set(f,l,{end:t,path:"/"},p),t=i.storage.get(f,!0),Echo1201ATInternet.Utils.consent&&!d&&l!==t&&i.setParam("idclient",l+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},h=function(){i.setParam("idclient",l,{multihit:!0,permanent:!0,hitType:["all"]}),t()},n=function(){o=i.getContext("userIdentifier"),s=i.storage.get("atuserid");var t=!1;if("required"===r.clientSideMode){var e="";window.navigator&&(e=window.navigator.userAgent),(/Safari/.test(e)&&!/Chrome/.test(e)||/iPhone|iPod|iPad/.test(e))&&(t=!0)}else"always"===r.clientSideMode&&(t=!0);a=t,(t=!1)===(e=Echo1201ATInternet.Utils.optedOut)&&(i.storage.del("atoptedout"),i.getParam("idclient")===r.optOut&&i.delParam("idclient"));var n=i.storage.get("atoptedout",!0);if(!0!==e&&n!==r.optOut||(t=!0),t&&(Echo1201ATInternet.Utils.optedOut=!0),u=t,c=void 0!==o,t=!1,!i.getConfig("forceHttp")&&r.itpCompliant&&!c&&!u)switch(r.clientSideMode){case"never":t=_();break;case"always":case"required":a&&null!==s||(t=_())}!t&&(a||u||c)?(i.setConfig("userIdOrigin","client"),f=r.userIdStorageName,p=d=!1,u?(l=r.optOut,f=r.optOutStorageName,p=d=!0):i.getConfig("disableCookie")||i.getConfig("disableStorage")?(l=i.getParam("idclient"),d=!0):c?(l=o,d=!0):l=null!==s?s:Echo1201ATInternet.Utils.uuid().v4(),h()):i.setConfig("userIdOrigin","server")},g=function(t){t&&(t=t.detail)&&"clientsideuserid"===t.name&&t.id===e&&n()};i.plugins.waitForDependencies(["Storage","Utils"],function(){var t=Echo1201ATInternet.Utils.uuid();e=parseInt(t.num(8)),Echo1201ATInternet.Utils.removeOptOutEvent(g),Echo1201ATInternet.Utils.addOptOutEvent(e,g),n()}),i.clientSideUserId={},i.clientSideUserId.set=function(t){u||(l=t,d=!0,f=r.userIdStorageName,p=!1,h())},i.clientSideUserId.store=function(){p=d=!0,t()},i.clientSideUserId.get=function(){return l}},window.Echo1201ATInternet.Tracker.addPlugin("ClientSideUserId")}.call(window),function(){var t={domainAttribution:!0},e=30;window.Echo1201ATInternet.Tracker.Plugins.ContextVariables=function(r){var o,s="",a=null,u="",c="",l={};r.configPlugin("ContextVariables",t,function(t){l=t}),r.setConfig("redirectionLifetime",e,!0);var f=function(t,e){var n=null;return r.plugins.exec("Storage",t,e,function(t){n=t}),n};r.plugins.waitForDependencies(["Storage","Utils"],function(){u="set"+(l.domainAttribution?"":"Private"),c="get"+(l.domainAttribution?"":"Private");var t,e=r.utils.getLocation();if(void 0===(s=r.utils.getQueryStringValue("xtref",e))&&(s=""),o=r.getContext("forcedReferer"),r.getConfig("redirect")){var n;e=r.utils.getDocumentLevel();if(n=e=o||(null!==s?s:e?e.referrer:"acc_dir")){n={path:"/",end:r.getConfig("redirectionLifetime")};var i=f(c,["atredir"]);n=null!==i?"object"==typeof i&&!(i instanceof Array):(f(u,["atredir",{},n]),!0)}n&&f(u,[["atredir","ref"],e])}else{a=f(c,[["atredir","ref"]]),f("del",[["atredir","ref"]]),r.setParam("vtag",r.version,{permanent:!0,hitType:["all"]}),r.setParam("ptag","js",{permanent:!0,hitType:["all"]}),e="";try{e+=window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth+"x"+window.screen.colorDepth}catch(t){}r.setParam("r",e,{permanent:!0,hitType:["all"]}),e="",window.innerWidth?e+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(e+=document.body.offsetWidth+"x"+document.body.offsetHeight),r.setParam("re",e,{permanent:!0,hitType:["all"]}),r.setParam("hl",function(){var t=new Date;return t.getHours()+"x"+t.getMinutes()+"x"+t.getSeconds()},{permanent:!0,hitType:["all"]}),window.navigator&&r.setParam("lng",window.navigator.language||window.navigator.userLanguage,{permanent:!0,hitType:["all"]}),e=Echo1201ATInternet.Utils.uuid().num(13),r.setParam("idp",e,{permanent:!0,hitType:["page","clickzone"]}),window.navigator&&r.setParam("jv",window.navigator.javaEnabled()?"1":"0",{hitType:["page"]}),e=r.utils.getDocumentLevel(),r.setParam("ref",(t=e,(t=o||("acc_dir"===s?"":null!==s?s:"acc_dir"===a?"":a||(t?t.referrer:"")))&&(t=t.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),t),{permanent:!0,last:!0,hitType:["page","ecommerce","avinsights"]})}r.emit("ContextVariables:Ready",{lvl:"INFO"})})},window.Echo1201ATInternet.Tracker.addPlugin("ContextVariables")}.call(window),function(){var t={storageCapacity:1,timeout:500};Echo1201ATInternet.Tracker.Plugins.Offline=function(o){function s(n,i,r){if(window.navigator&&window.navigator.onLine){var t=f();if(0<t.length){var e=t.shift();l({hits:t}),u||(o.onTrigger("Tracker:Hit:Sent:Ok",function(t,e){n&&e.details.hit===n||s(n,i,r)},!1),o.onTrigger("Tracker:Hit:Sent:Error",function(t,e){n&&e.details.hit===n||s(n,i,r)},!1),u=!0),o.sendUrl(e,null,"GET")}else n&&(o.utils.getQueryStringValue("a",n)?setTimeout(function(){o.sendUrl(n,i,r)},a.timeout):o.sendUrl(n,i,r))}else n&&(p(d(n)),i&&i())}var a={},u=!1;o.configPlugin("Offline",t,function(t){a=t});var c=function(){var t=localStorage.getItem("ATOffline"),e={hits:[],length:0};if(t){var n=Echo1201ATInternet.Utils.jsonParse(t)||{hits:[]};e.hits=n.hits,e.length=t.length}return e},l=function(t){try{localStorage.setItem("ATOffline",Echo1201ATInternet.Utils.jsonSerialize(t))}catch(t){}},f=function(){return c().hits},d=function(t){if(t){t=t.split(/&ref=\.*/i);var e="&cn=offline&olt="+String(Math.floor((new Date).getTime()/1e3));t=t[0]+e+(t[1]?"&ref="+t[1]:"")}return t},p=function(t){var e=c(),n=t.length,i=!0;if(4*((e.length||11)+n)>1048576*a.storageCapacity){i=!1;var r=e.hits.shift();if(void 0!==r){i=!0;for(var o=r.length;o<n;){if(void 0===(r=e.hits.shift())){i=!1;break}o+=r.length}}}i&&(e.hits.push(t),l({hits:e.hits}))},n=function(i){o.builder.sendUrl=function(t,e,n){i||window.navigator&&!window.navigator.onLine?(p(d(t)),e&&e()):s(t,e,n)}};o.offline={},o.offline.getLength=function(){return 4*c().length},o.offline.remove=function(){l({hits:[]})},o.offline.get=f,o.offline.send=function(){s(null,null,"GET")},o.plugins.waitForDependencies(["Utils"],function(){var t,e=Echo1201ATInternet.Utils.isLocalStorageAvailable();window.navigator&&(t=window.navigator.onLine),e&&void 0!==t&&("required"===a.storageMode?n(!1):"always"===a.storageMode&&n(!0)),o.emit("Offline:Ready",{lvl:"INFO",details:{isLocalStorageAvailable:e,storageMode:a.storageMode,isOnline:t}})})},window.Echo1201ATInternet.Tracker.addPlugin("Offline")}.call(window),function(){window.Echo1201ATInternet.Tracker.Plugins.OnSiteAds=function(o){var e="",s=function(t){return o.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},a=function(t,e){return t[e]?t[e]:""},u=function(t,e){if(i=a(t,e)){var n=a(t,"prefix");if(i.campaignId){n=n||"PUB";var i,r=a(i,"campaignId"),o=a(i,"creation");return n+"-"+r+"-"+o+"-"+a(i,"variant")+"-"+a(i,"format")+"-"+a(i,"generalPlacement")+"-"+a(i,"detailedPlacement")+"-"+a(i,"advertiserId")+"-"+(i=a(i,"url"))}if(i.adId)return(n=n||"INT")+"-"+(r=a(i,"adId"))+"-"+(o=a(i,"format"))+"||"+(i=a(i,"productId"))}return""},n=function(t,e){var n=o.buffer.get("ati",!0)||{};n._value="string"==typeof n._value?[n._value]:n._value||[],n._options=n._options||{truncate:!0,hitType:[e,"page"]},n._value.push(t),o.buffer.set("ati",n._value,n._options)},i=function(t,e){if(t.click?o.setParam("atc",u(t,"click"),{truncate:!0,hitType:[e,"page"]}):t.impression&&o.setParam("ati",u(t,"impression"),{truncate:!0,hitType:[e,"page"]}),t.customObject){o.setContext("onsiteads",{customObject:t.customObject});var n=o.getContext("page")||{};n.customObject=Echo1201ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!1),o.setContext("page",n)}o.dispatchSubscribe("onSiteAds")};o.selfPromotion=this.selfPromotion={},o.publisher=this.publisher={},o.publisher.set=this.publisher.set=function(t){i(t,"publisher")},o.selfPromotion.set=this.selfPromotion.set=function(t){i(t,"selfPromotion")},o.publisher.add=this.publisher.add=function(t){n(u(t,"impression"),"publisher"),o.dispatchSubscribe("onSiteAds")},o.selfPromotion.add=this.selfPromotion.add=function(t){n(u(t,"impression"),"selfPromotion"),o.dispatchSubscribe("onSiteAds")};var r=this.advertEvent=function(t){var e=!0,n=null;if(t&&t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1201ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(e=o.techClicks.manageClick(t.elem,n)),t.click){n=["onSiteAdsClick"];var i=o.getContext("page")||{},r={};r.atc={_value:u(t,"click"),_options:{truncate:!0}},r.type="AT",r.patc=s(i),r.s2atc=i.level2||"",(i=t.customObject)&&(i=o.processTagObject("stc",n,i),r.stc={_value:Echo1201ATInternet.Utils.jsonSerialize(i),_options:{hitType:n,encode:!0,separator:",",truncate:!0}}),o.sendHit(r,[["hitType",n]],t.callback,null)}else t.impression&&function(t){var e=["onSiteAdsImpression"],n={};n.ati={_value:u(t,"impression"),_options:{hitType:e,truncate:!0}},n.type="AT",Echo1201ATInternet.Utils.isPreview()&&o.getConfig("preview")&&(n.pvw=1);var i=t.customObject;i&&(i=o.processTagObject("stc",e,i),n.stc={_value:Echo1201ATInternet.Utils.jsonSerialize(i),_options:{hitType:e,encode:!0,separator:",",truncate:!0}}),o.manageSend(function(){o.sendHit(n,[["hitType",e]],t.callback,null)})}(t);return e};o.publisher.send=this.publisher.send=function(t){return r(t)},o.selfPromotion.send=this.selfPromotion.send=function(t){return r(t)},o.onSiteAds={},o.onSiteAds.onDispatch=this.onDispatch=function(t){if(!o.dispatchSubscribed("page")){o.setParam("type","AT",{hitType:["publisher","selfPromotion"]});var e=o.getContext("page")||{};o.getParam("atc")&&(o.setParam("patc",s(e),{hitType:["publisher","selfPromotion"]}),o.setParam("s2atc",e.level2||"",{hitType:["publisher","selfPromotion"]})),Echo1201ATInternet.Utils.isPreview()&&o.getConfig("preview")&&o.setParam("pvw",1);var n=["publisher","selfPromotion"];(e=(o.getContext("onsiteads")||{}).customObject)?o.processContextObjectAndSendHit("stc",{hitType:n,encode:!0,separator:",",truncate:!0},e,t):o.manageSend(function(){o.sendHit(null,[["hitType",n]],t,null)})}},o.plugins.waitForDependencies(["Utils","TechClicks"],function(){e=document.location.href;var t=o.utils.getQueryStringValue("xtatc",e);t&&o.setParam("atc",t,{hitType:["publisher","selfPromotion","page"]}),o.emit("OnSiteAds:Ready",{lvl:"INFO",details:{href:e}})})},window.Echo1201ATInternet.Tracker.addPlugin("OnSiteAds")}.call(window),function(){Echo1201ATInternet.Tracker.Plugins.Page=function(s){var r=["pageId","chapterLabel","update"],o=["pid","pchap","pidt"],a=["page","site"],u=["f","x"],c=function(t){return s.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},l=function(t,e,n){return e?t=e:t||void 0===n||(t=n),t},f=function(t,e,n){e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]))},d=function(t,e,n){if(e)for(var i=0;i<a.length;i++)if(e.hasOwnProperty(a[i])&&e[a[i]])for(var r in e[a[i]])e[a[i]].hasOwnProperty(r)&&(n?t[u[i]+r]=e[a[i]][r]:s.setParam(u[i]+r,e[a[i]][r]))},p=function(t,e,n){if(e){var i=s.utils.manageChapters(e,"chapter",3);for(i&&(e.chapterLabel=i.replace(/::$/gi,"")),i=0;i<o.length;i++)e.hasOwnProperty(r[i])&&(n?t[o[i]]=e[r[i]]:s.setParam(o[i],e[r[i]]))}},_=function(t,e,n){if(e&&e.keywords instanceof Array){var i=e.keywords.length;if(0<i){for(var r="",o=0;o<i;o++)r+="["+e.keywords[o]+"]"+(o<i-1?"|":"");n?t.tag=r:s.setParam("tag",r)}}},h=function(t,e,n){if(e){var i,r=function(t){return t||"0"};i=r(e.category1)+"-",i+=r(e.category2)+"-",i+=r(e.category3),n?t.ptype=i:s.setParam("ptype",i)}},g=function(t,e,n){if(e)for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(n?t[i]=e[i]:s.setParam(i,e[i]))};s.customVars=this.customVars={},s.customVars.set=this.customVars.set=function(t){var e=s.getContext("page")||{},n=e.customVars;if(n){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=Echo1201ATInternet.Utils.completeFstLevelObj(n[i],t[i],!0))}else n=t;e.customVars=n,s.setContext("page",e)},s.dynamicLabel=this.dynamicLabel={},s.dynamicLabel.set=this.dynamicLabel.set=function(t){var e=s.getContext("page")||{};e.dynamicLabel=Echo1201ATInternet.Utils.completeFstLevelObj(e.dynamicLabel,t,!0),s.setContext("page",e)},s.tags=this.tags={},s.tags.set=this.tags.set=function(t){var e=s.getContext("page")||{};e.tags=Echo1201ATInternet.Utils.completeFstLevelObj(e.tags,t,!0),s.setContext("page",e)},s.customTreeStructure=this.customTreeStructure={},s.customTreeStructure.set=this.customTreeStructure.set=function(t){var e=s.getContext("page")||{};e.customTreeStructure=Echo1201ATInternet.Utils.completeFstLevelObj(e.customTreeStructure,t,!0),s.setContext("page",e)},s.page={},s.page.reset=this.reset=function(){s.setContext("page",void 0)},s.page.set=this.set=function(t){s.dispatchSubscribe("page");var e=s.getContext("page")||{};e.name=l(e.name,t.name,""),e.level2=l(e.level2,t.level2,""),f(e,t,"chapter1"),f(e,t,"chapter2"),f(e,t,"chapter3"),e.customObject=Echo1201ATInternet.Utils.completeFstLevelObj(e.customObject,t.customObject,!0),s.setContext("page",e)},s.page.send=this.send=function(t){var e=!0,n={p:c(t),s2:t.level2||""};if(r=t.customObject){var i=["page"],r=s.processTagObject("stc",i,r);n.stc={_value:Echo1201ATInternet.Utils.jsonSerialize(r),_options:{hitType:i,encode:!0,separator:",",truncate:!0}}}return(r=s.getContext("page")||{}).vrn&&(n.vrn=r.vrn,r.vrn=void 0,s.setContext("page",r)),void 0!==(i=s.getContext("InternalSearch")||{}).keyword&&(n.mc=Echo1201ATInternet.Utils.cloneSimpleObject(i.keyword),void 0!==i.resultPageNumber&&(n.np=Echo1201ATInternet.Utils.cloneSimpleObject(i.resultPageNumber)),s.setContext("InternalSearch",void 0)),Echo1201ATInternet.Utils.isPreview()&&s.getConfig("preview")&&(n.pvw=1),d(n,t.customVars,!0),p(n,t.dynamicLabel,!0),_(n,t.tags,!0),h(n,t.customTreeStructure,!0),i=s.getContext("campaigns")||{},g(n,i,!0),s.setContext("campaigns",void 0),i=null,t&&t.hasOwnProperty("event")&&(i=t.event||window.event),!Echo1201ATInternet.Utils.isTabOpeningAction(i)&&t.elem&&(e=s.techClicks.manageClick(t.elem,i)),s.manageSend(function(){s.sendHit(n,null,t.callback,null)}),r.name=l(r.name,t.name,""),r.level2=l(r.level2,t.level2,""),f(r,t,"chapter1"),f(r,t,"chapter2"),f(r,t,"chapter3"),s.setContext("page",r),e},s.page.onDispatch=this.onDispatch=function(t){var e=s.getContext("page")||{},n=s.getContext("InternalSearch")||{};s.setParam("p",c(e)),s.setParam("s2",e.level2||""),e.vrn&&(s.setParam("vrn",e.vrn),e.vrn=void 0,s.setContext("page",e)),void 0!==n.keyword&&(s.setParam("mc",Echo1201ATInternet.Utils.cloneSimpleObject(n.keyword)),void 0!==n.resultPageNumber&&s.setParam("np",Echo1201ATInternet.Utils.cloneSimpleObject(n.resultPageNumber)),s.setContext("InternalSearch",void 0)),Echo1201ATInternet.Utils.isPreview()&&s.getConfig("preview")&&s.setParam("pvw",1),d(null,e.customVars,!1),p(null,e.dynamicLabel,!1),_(null,e.tags,!1),h(null,e.customTreeStructure,!1),n=s.getContext("campaigns")||{},g(null,n,!1),s.setContext("campaigns",void 0);var i=["page"];(e=e.customObject)?s.processContextObjectAndSendHit("stc",{hitType:i,encode:!0,separator:",",truncate:!0},e,t):s.manageSend(function(){s.sendHit(null,[["hitType",i]],t,null)})}},Echo1201ATInternet.Tracker.addPlugin("Page")}.call(window),function(){window.Echo1201ATInternet.Tracker.Plugins.RichMedia=function(a){var u=function(t,e){var n=parseInt(t,10);return n?Math.max(n,e):0},c=new function(){this.media=function(){this.type=void 0,this.plyr=0,this.clnk=this.s2=void 0,this.p="",this.m9=this.m6=this.m5=this.m1=this.rfsh=this.buf=this.a=void 0},this.mediaAll={},this.setMediaValue=function(t,e,n,i){void 0!==i&&(this.mediaAll[t]=this.mediaAll[t]||{},this.mediaAll[t][e]=this.mediaAll[t][e]||new this.media,this.mediaAll[t][e][n]=i)},this.getMediaValue=function(t,e,n){if(this.mediaAll[t]&&this.mediaAll[t][e])return this.mediaAll[t][e][n]},this.removePlayer=function(t){this.mediaAll[t]={}},this.removeAll=function(){this.mediaAll={}}},l=new function(){this.timeout={},this.setTimeout=function(t,e,n){this.timeout[t]=this.timeout[t]||{},this.timeout[t][e]&&window.clearTimeout(this.timeout[t][e]),this.timeout[t][e]=window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*n)},this.setTimeoutObject=function(t,e,n){if(this.timeout[t]=this.timeout[t]||{},void 0===this.timeout[t][e]){var i,r=[];for(i in n)n.hasOwnProperty(i)&&r.push({delay:u(i,0),refresh:u(n[i],5)});r.sort(function(t,e){return t.delay<e.delay?-1:t.delay>e.delay?1:0}),this.timeout[t][e]={refreshTab:r,backupRefreshTab:Echo1201ATInternet.Utils.cloneSimpleObject(r),delayConfiguration:{}}}if(0<(n=this.timeout[t][e]).refreshTab.length&&(r=n.refreshTab[0].delay,i=n.refreshTab[0].refresh,"number"==typeof r&&"number"==typeof i&&0<i)){n.delayConfiguration[r]=n.delayConfiguration[r]||{};var o=void 0;void 0!==n.refreshTab[1]&&(o=n.refreshTab[1].delay);var s=0;void 0===o?s=1:"number"==typeof n.delayConfiguration[r].number?s="refresh"===c.getMediaValue(t,e,"a")?Math.max(n.delayConfiguration[r].number-1,0):n.delayConfiguration[r].number:"number"==typeof o&&(s=Math.floor(60*(o-r)/i)-1),n.delayConfiguration[r].number=s,n.delayConfiguration[r].timeout&&window.clearTimeout(n.delayConfiguration[r].timeout),0<s?n.delayConfiguration[r].timeout=window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*i):(n.delayConfiguration[r].number=void 0,n.delayConfiguration[r].timeout=void 0,n.refreshTab.splice(0,1),window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*i)),this.timeout[t][e]=n}},this.clearTimeout=function(t,e,n){this.timeout[t]=this.timeout[t]||{};var i=this.timeout[t][e];if("object"==typeof i){if("object"==typeof i.delayConfiguration){var r,o;for(o in i.delayConfiguration)i.delayConfiguration.hasOwnProperty(o)&&(void 0!==(r=i.delayConfiguration[o].number)&&0<r&&(i.delayConfiguration[o].timeout&&window.clearTimeout(i.delayConfiguration[o].timeout),i.delayConfiguration[o].timeout=void 0));n&&(i.refreshTab=Echo1201ATInternet.Utils.cloneSimpleObject(i.backupRefreshTab)),this.timeout[t][e]=i}}else i&&window.clearTimeout(i)},this.removePlayer=function(t){for(var e in this.timeout[t])if(this.timeout[t].hasOwnProperty(e)){this.clearTimeout(t,e,!1);var n=c.getMediaValue(t,e,"a");void 0!==this.timeout[t][e]&&"stop"!==n&&a.richMedia.send({action:"stop",playerId:t,mediaLabel:e})}this.timeout[t]={}},this.removeAll=function(){for(var t in this.timeout)this.timeout.hasOwnProperty(t)&&this.removePlayer(t);this.timeout={}}},f=function(t,e,n){return a.utils.manageChapters(t,e,3)+(t[n]?t[n]:"")},d=function(t,e,n,i){var r=t[e];return"boolean"==typeof t[e]&&(r=t[e]?i:n),r},p=function(t){var e=0;return/^(\-|\+)?([0-9]+)$/.test(t)&&(e=Number(t)),e},_=function(t,e,n,i,r){void 0!==(e=c.getMediaValue(e,n,i))&&(t[i]=r?encodeURIComponent(e):e)},h=function(t,e,n){void 0!==n&&(t[e]=n)};a.richMedia={},a.richMedia.add=function(t){var e=p((t=t||{}).playerId),n=f(t,"mediaTheme","mediaLabel"),i=d(t,"isEmbedded","int","ext");c.setMediaValue(e,n,"plyr",e),c.setMediaValue(e,n,"type",t.mediaType),c.setMediaValue(e,n,"s2",t.mediaLevel2),c.setMediaValue(e,n,"p",n),c.setMediaValue(e,n,"clnk",t.linkedContent||t.previousMedia),c.setMediaValue(e,n,"a",t.action),c.setMediaValue(e,n,"rfsh",t.refreshDuration),c.setMediaValue(e,n,"m1",t.duration),c.setMediaValue(e,n,"m5",i),c.setMediaValue(e,n,"m6",t.broadcastMode),c.setMediaValue(e,n,"m9",t.webdomain)},a.richMedia.send=function(t){var e=p((t=t||{}).playerId),n=f(t,"mediaTheme","mediaLabel"),i=t.action;c.setMediaValue(e,n,"a",i);var r={plyr:e,p:n};if(_(r,e,n,"a",!1),_(r,e,n,"type",!1),_(r,e,n,"s2",!1),_(r,e,n,"m1",!1),_(r,e,n,"m5",!1),_(r,e,n,"m6",!1),"play"===i||"info"===i){t=d(t,"isBuffering","0","1");var o=a.getContext("page")||{},s=f(o,"chapter","name")||void 0;o=o.level2||void 0;h(r,"buf",t),h(r,"prich",s),h(r,"s2rich",o),_(r,e,n,"clnk",!1),_(r,e,n,"m9",!0)}a.sendHit(r,[["hitType",["richmedia"]]],null,null),"pause"===i?l.clearTimeout(e,n,!1):"stop"===i&&l.clearTimeout(e,n,!0),"play"!==i&&"refresh"!==i||("object"==typeof(i=c.getMediaValue(e,n,"rfsh"))&&null!==i?l.setTimeoutObject(e,n,i):0!==(i=u(i,5))&&l.setTimeout(e,n,i))},a.richMedia.remove=function(t){l.removePlayer(t),c.removePlayer(t)},a.richMedia.removeAll=function(){l.removeAll(),c.removeAll()}},window.Echo1201ATInternet.Tracker.addPlugin("RichMedia")}.call(window),"function"==typeof window.Echo1201ATInternet.onTrackerLoad&&window.Echo1201ATInternet.onTrackerLoad(),Echo1201ATInternet}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i=n(47),r=n(48),o=r;o.v1=i,o.v4=r,t.exports=o},function(t,e,n){var _,h,g=n(22),E=n(23),v=0,m=0;t.exports=function(t,e,n){var i=e&&n||0,r=e||[],o=(t=t||{}).node||_,s=void 0!==t.clockseq?t.clockseq:h;if(null==o||null==s){var a=g();null==o&&(o=_=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=h=16383&(a[6]<<8|a[7]))}var u=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:m+1,l=u-v+(c-m)/1e4;if(l<0&&void 0===t.clockseq&&(s=s+1&16383),(l<0||v<u)&&void 0===t.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=u,h=s;var f=(1e4*(268435455&(u+=122192928e5))+(m=c))%4294967296;r[i++]=f>>>24&255,r[i++]=f>>>16&255,r[i++]=f>>>8&255,r[i++]=255&f;var d=u/4294967296*1e4&268435455;r[i++]=d>>>8&255,r[i++]=255&d,r[i++]=d>>>24&15|16,r[i++]=d>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(var p=0;p<6;++p)r[i+p]=o[p];return e||E(r)}},function(t,e,n){var s=n(22),a=n(23);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[i+o]=r[o];return e||a(r)}},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(){}return t.sendRefreshEvent=function(t,e,n){if(n){var i=n;e(i=(i=(i=i.replace(/a\=play/g,"a=refresh")).replace(/ts\=[0-9\.]+/g,"ts="+(new Date).getTime())).replace(/(prich\=|s2rich\=).*?(&|$)/g,""),function(){t.emit("Tracker:Hit:Sent:Ok",i)}.bind(t))}},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){"use strict";var a=n(6),s=n(4),u=n(24);return{APP_NAME:void 0,APP_CATEGORY:void 0,bbc_content_id:1,bbc_app_type:2,bbc_app_name:3,language:4,bbc_url:5,bbc_referrer_url:6,bbc_content_type:7,bbc_library_version:8,page_title:9,custom_var_1:11,custom_var_2:12,custom_var_3:13,custom_var_4:14,custom_var_5:15,custom_var_6:16,custom_var_7:17,custom_var_8:18,custom_var_9:19,custom_var_10:20,create:function(t,e,n,i,r,o){var s;return this.APP_NAME=t,n&&n[a.APP_CATEGORY]?this.APP_CATEGORY=n[a.APP_CATEGORY]:this.APP_CATEGORY="",s=this._setCustomVariable(s,a.APP_TYPE,e),s=this._setCustomVariable(s,a.APP_NAME,t),s=this._setCustomVariable(s,a.LIBRARY_VERSION,u.getLibraryName()+"-"+u.getLibraryVersion()),o&&(s=this._setDocumentCustomVariables(s,o)),r&&(s=this._setOrbitCustomVariables(s,r)),this._applyLabels(s,n),this._applyLabels(s,i),s},_initialise:function(){return{site:{}}},_applyLabels:function(e,n){if(n){var i=this._getAppName(n);n[a.APP_CATEGORY]&&(e=this._setCustomVariable(e,a.APP_NAME,i),delete n[a.APP_CATEGORY]),Object.keys(n).forEach(function(t){this._isCustomVariable(t)&&(t===a.APP_NAME&&(n[t]=i),e=this._setCustomVariable(e,t,n[t]),delete n[t])},this)}},_getAppName:function(t){var e="";return t[a.APP_CATEGORY]?e=t[a.APP_CATEGORY]+"-":this.APP_CATEGORY&&(e=this.APP_CATEGORY+"-"),t[a.APP_NAME]?e+=t[a.APP_NAME]:e+=this.APP_NAME,e},_isCustomVariable:function(t){return void 0!==this[t]&&this.hasOwnProperty(t)&&"function"!=typeof this[t]},_setCustomVariable:function(t,e,n){if(n){t||(t=this._initialise());var i=s.removeSensitiveInfo(n),r=s.cleanCustomVariable(i),o=this[e];t.site[o]="["+encodeURIComponent(r)+"]"}return t},_setDocumentCustomVariables:function(t,e){return e&&(t=this._setCustomVariable(t,a.URL,e.URL),t=this._setCustomVariable(t,a.REFERRER_URL,e.referrer),t=this._setCustomVariable(t,a.PAGE_TITLE,e.title)),t},_setOrbitCustomVariables:function(t,e){return e&&(t=this._setCustomVariable(t,a.CONTENT_ID,e.contentId),t=this._setCustomVariable(t,a.CONTENT_TYPE,e.contentType),t=this._setCustomVariable(t,a.LANGUAGE,e.language),t=this._setProductCustomVariables(t,e.additionalProperties)),t},_setProductCustomVariables:function(t,e){return e&&(e.app_category&&(t=this._setCustomVariable(t,a.APP_NAME,this._getAppName(e))),e.content_language&&(t=this._setCustomVariable(t,a.LANGUAGE,e.content_language)),t=this._setCustomVariable(t,a.CUSTOM_VAR_1,e.custom_var_1),t=this._setCustomVariable(t,a.CUSTOM_VAR_2,e.custom_var_2),t=this._setCustomVariable(t,a.CUSTOM_VAR_3,e.custom_var_3),t=this._setCustomVariable(t,a.CUSTOM_VAR_4,e.custom_var_4),t=this._setCustomVariable(t,a.CUSTOM_VAR_5,e.custom_var_5),t=this._setCustomVariable(t,a.CUSTOM_VAR_6,e.custom_var_6),t=this._setCustomVariable(t,a.CUSTOM_VAR_7,e.custom_var_7),t=this._setCustomVariable(t,a.CUSTOM_VAR_8,e.custom_var_8),t=this._setCustomVariable(t,a.CUSTOM_VAR_9,e.custom_var_9),t=this._setCustomVariable(t,a.CUSTOM_VAR_10,e.custom_var_10)),t}}}.call(e,n,e,t))||(t.exports=i)},function(t){t.exports=JSON.parse('{"name":"@bbc/echo-client-js","description":"Client library for sending events","version":"12.13.1","main":"dist/echo-12.13.0.js","scripts":{"test":"grunt build","build":"grunt build","build:dev":"webpack --mode=development --config ./config/webpack.dev.config.js","build:dist":"webpack --mode=production --config ./config/webpack.prod.config.js"},"pre-commit":["test"],"files":["dist"],"echo-client-js":{"barb-spring-version":"2.4.0","comscore-streamsense-version":"6.2.3.180328","ati-smarttag-version":"5.20.0"},"devDependencies":{"ajv":"^6.6.2","es6-promise":"^4.2.5","eslint":"^5.12.0","eslint-plugin-tv":"github:bbc/eslint-plugin-tv#semver:^1.0.0","grunt":"^1.3.0","grunt-cli":"^1.3.2","grunt-contrib-jshint":"^2.0.0","grunt-contrib-watch":"^1.1.0","grunt-eslint":"^22.0.0","grunt-jscs":"^3.0.1","grunt-karma":"^3.0.1","grunt-shell":"^2.1.0","gulp":"^4.0.0","hoek":"^6.1.2","istanbul-instrumenter-loader":"^3.0.1","jasmine":"^3.3.1","jasmine-core":"^3.3.0","jquery":"^3.4.1","karma":"^3.1.4","karma-chrome-launcher":"*","karma-coverage-istanbul-reporter":"^2.0.4","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^2.0.1","karma-jasmine-html-reporter":"^1.4.0","karma-phantomjs-launcher":"^1.0.4","karma-requirejs":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-story-reporter":"^0.3.1","karma-webpack":"^3.0.0","load-grunt-tasks":"^4.0.0","lodash":"^4.17.15","phantomjs-prebuilt":"^2.1.16","pre-commit":"^1.2.2","requirejs":"^2.3.6","sinon":"^7.2.2","ssc-js":"git+ssh://git@github.com/bbc/ssc-js.git#1.2.0","time-grunt":"^2.0.0","uglifyjs-webpack-plugin":"^2.1.1","uuid":"3.4.0","webpack":"^4.43.0","webpack-cli":"^3.2.1","webpack-merge":"^4.2.1"}}')},function(t,e,a){var n;void 0===(n=function(){"use strict";var n=a(0),i=a(24),r={NAME:"name",WS_PARTNER_ID:"ptnrID",PLIST:"pList"},o={RETRIEVAL_TYPE:"retType",APP_NAME:"appN",APP_TYPE:"appT"},s={PLAYER_NAME:"mpN",PLAYER_VERSION:"mpV",LIBRARY_NAME:"mlN",LIBRARY_VERSION:"mlV",CASTING_DEVICE_REFERRER:"devR"};return{buildTheme:function(t,e,n){return t+"="+encodeURIComponent(e||"")+(n?"":"~")},constructThemeOne:function(t){var e="";return t&&(e+=this.buildTheme(r.NAME,t.getName()),e+=this.buildTheme(r.WS_PARTNER_ID,t.getWsPartnerId()),t.isLive()?e+=this.buildTheme(r.PLIST,t.getServiceId(),!0):e+=this.buildTheme(r.PLIST,t.getPlaylist(),!0)),n.info("Setting media theme 1: "+e),e},constructThemeTwo:function(t){var e="";return t&&(e=this.buildTheme(o.RETRIEVAL_TYPE,t.getRetrievalType()),e+=this.buildTheme(o.APP_NAME,t.getAppName()),e+=this.buildTheme(o.APP_TYPE,t.getAppType())),n.info("Setting media theme 2: "+e),e},constructThemeThree:function(t){var e="";return t&&(e=this.buildTheme(s.PLAYER_NAME,t.getMediaPlayerName()),e+=this.buildTheme(s.PLAYER_VERSION,t.getMediaPlayerVersion()),e+=this.buildTheme(s.LIBRARY_NAME,i.getLibraryName()),e+=this.buildTheme(s.LIBRARY_VERSION,i.getLibraryVersion()),e+=this.buildTheme(s.CASTING_DEVICE_REFERRER,t.getCastingDeviceReferrer(),!0)),n.info("Setting media theme 3: "+e),e}}}.call(e,a,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";var s=n(0);function t(){}return t.sendEvent=function(t,e,n,i){if(e){var r={action:n,playerId:e.playerId,mediaLabel:e.mediaLabel,mediaTheme1:e.mediaTheme1,mediaTheme2:e.mediaTheme2,mediaTheme3:e.mediaTheme3};for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);t.richMedia.send(r),s.info("Sending "+n+" media event")}},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,r){var n;void 0===(n=function(){"use strict";var s=r(6),e=r(4),n="unknown",a="Page",u="",c="",l="unknown",f="",d="",p="unknown",_="click",i="impression";function h(){}return h.sendClickEvent=function(t,e){this._sendEvent(t,e,_)},h.sendImpressionEvent=function(t,e){this._sendEvent(t,e,i)},h._sendEvent=function(t,e,n){e||(e={customObject:{}}),e.customObject||(e.customObject={});var i={creation:this._formatEventValue(h._buildCreation(e)),campaignId:this._formatEventValue(e.customObject[s.CONTAINER]||a),variant:this._formatEventValue(e.customObject[s.PERSONALISATION]||u),format:this._formatEventValue(e.customObject[s.METADATA]||c),generalPlacement:this._formatEventValue(e[s.BBC_COUNTER_NAME]||l),detailedPlacement:this._formatEventValue(e.user||f),advertiserId:this._formatEventValue(e.customObject[s.SOURCE]||d),url:this._formatEventValue(e.customObject[s.RESULT]||p)},r={};if(n===_?r.click=i:r.impression=i,t)for(var o in t.publisher.send(r),e.customObject)t.delParam(o)},h._buildCreation=function(t){var e=t&&t.actionName||n;return t&&t.actionType&&(e+="~"+t.actionType),e},h._formatEventValue=function(t){return"["+e.cleanCustomVariable(t)+"]"},h}.call(e,r,e,t))||(t.exports=n)}])});